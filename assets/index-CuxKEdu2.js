(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function sV(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $y={exports:{}},Pc={};var mw;function aV(){if(mw)return Pc;mw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Pc.Fragment=e,Pc.jsx=t,Pc.jsxs=t,Pc}var pw;function oV(){return pw||(pw=1,$y.exports=aV()),$y.exports}var w=oV(),Qy={exports:{}},Me={};var gw;function lV(){if(gw)return Me;gw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function S(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,M={};function z(F,oe,pe){this.props=F,this.context=oe,this.refs=M,this.updater=pe||C}z.prototype.isReactComponent={},z.prototype.setState=function(F,oe){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,oe,"setState")},z.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function q(){}q.prototype=z.prototype;function L(F,oe,pe){this.props=F,this.context=oe,this.refs=M,this.updater=pe||C}var J=L.prototype=new q;J.constructor=L,V(J,z.prototype),J.isPureReactComponent=!0;var ee=Array.isArray;function re(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function D(F,oe,pe){var ge=pe.ref;return{$$typeof:n,type:F,key:oe,ref:ge!==void 0?ge:null,props:pe}}function N(F,oe){return D(F.type,oe,F.props)}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function U(F){var oe={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return oe[pe]})}var P=/\/+/g;function Ee(F,oe){return typeof F=="object"&&F!==null&&F.key!=null?U(""+F.key):oe.toString(36)}function de(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(re,re):(F.status="pending",F.then(function(oe){F.status==="pending"&&(F.status="fulfilled",F.value=oe)},function(oe){F.status==="pending"&&(F.status="rejected",F.reason=oe)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function H(F,oe,pe,ge,Ne){var Le=typeof F;(Le==="undefined"||Le==="boolean")&&(F=null);var Qe=!1;if(F===null)Qe=!0;else switch(Le){case"bigint":case"string":case"number":Qe=!0;break;case"object":switch(F.$$typeof){case n:case e:Qe=!0;break;case g:return Qe=F._init,H(Qe(F._payload),oe,pe,ge,Ne)}}if(Qe)return Ne=Ne(F),Qe=ge===""?"."+Ee(F,0):ge,ee(Ne)?(pe="",Qe!=null&&(pe=Qe.replace(P,"$&/")+"/"),H(Ne,oe,pe,"",function(Ta){return Ta})):Ne!=null&&(k(Ne)&&(Ne=N(Ne,pe+(Ne.key==null||F&&F.key===Ne.key?"":(""+Ne.key).replace(P,"$&/")+"/")+Qe)),oe.push(Ne)),1;Qe=0;var Xt=ge===""?".":ge+":";if(ee(F))for(var yt=0;yt<F.length;yt++)ge=F[yt],Le=Xt+Ee(ge,yt),Qe+=H(ge,oe,pe,Le,Ne);else if(yt=S(F),typeof yt=="function")for(F=yt.call(F),yt=0;!(ge=F.next()).done;)ge=ge.value,Le=Xt+Ee(ge,yt++),Qe+=H(ge,oe,pe,Le,Ne);else if(Le==="object"){if(typeof F.then=="function")return H(de(F),oe,pe,ge,Ne);throw oe=String(F),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Qe}function ae(F,oe,pe){if(F==null)return F;var ge=[],Ne=0;return H(F,ge,"","",function(Le){return oe.call(pe,Le,Ne++)}),ge}function fe(F){if(F._status===-1){var oe=F._result;oe=oe(),oe.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=oe)}if(F._status===1)return F._result.default;throw F._result}var Ce=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Fe={map:ae,forEach:function(F,oe,pe){ae(F,function(){oe.apply(this,arguments)},pe)},count:function(F){var oe=0;return ae(F,function(){oe++}),oe},toArray:function(F){return ae(F,function(oe){return oe})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Me.Activity=v,Me.Children=Fe,Me.Component=z,Me.Fragment=t,Me.Profiler=s,Me.PureComponent=L,Me.StrictMode=i,Me.Suspense=f,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Me.__COMPILER_RUNTIME={__proto__:null,c:function(F){return R.H.useMemoCache(F)}},Me.cache=function(F){return function(){return F.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(F,oe,pe){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ge=V({},F.props),Ne=F.key;if(oe!=null)for(Le in oe.key!==void 0&&(Ne=""+oe.key),oe)!A.call(oe,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&oe.ref===void 0||(ge[Le]=oe[Le]);var Le=arguments.length-2;if(Le===1)ge.children=pe;else if(1<Le){for(var Qe=Array(Le),Xt=0;Xt<Le;Xt++)Qe[Xt]=arguments[Xt+2];ge.children=Qe}return D(F.type,Ne,ge)},Me.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Me.createElement=function(F,oe,pe){var ge,Ne={},Le=null;if(oe!=null)for(ge in oe.key!==void 0&&(Le=""+oe.key),oe)A.call(oe,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Ne[ge]=oe[ge]);var Qe=arguments.length-2;if(Qe===1)Ne.children=pe;else if(1<Qe){for(var Xt=Array(Qe),yt=0;yt<Qe;yt++)Xt[yt]=arguments[yt+2];Ne.children=Xt}if(F&&F.defaultProps)for(ge in Qe=F.defaultProps,Qe)Ne[ge]===void 0&&(Ne[ge]=Qe[ge]);return D(F,Le,Ne)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(F){return{$$typeof:h,render:F}},Me.isValidElement=k,Me.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:fe}},Me.memo=function(F,oe){return{$$typeof:d,type:F,compare:oe===void 0?null:oe}},Me.startTransition=function(F){var oe=R.T,pe={};R.T=pe;try{var ge=F(),Ne=R.S;Ne!==null&&Ne(pe,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(re,Ce)}catch(Le){Ce(Le)}finally{oe!==null&&pe.types!==null&&(oe.types=pe.types),R.T=oe}},Me.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Me.use=function(F){return R.H.use(F)},Me.useActionState=function(F,oe,pe){return R.H.useActionState(F,oe,pe)},Me.useCallback=function(F,oe){return R.H.useCallback(F,oe)},Me.useContext=function(F){return R.H.useContext(F)},Me.useDebugValue=function(){},Me.useDeferredValue=function(F,oe){return R.H.useDeferredValue(F,oe)},Me.useEffect=function(F,oe){return R.H.useEffect(F,oe)},Me.useEffectEvent=function(F){return R.H.useEffectEvent(F)},Me.useId=function(){return R.H.useId()},Me.useImperativeHandle=function(F,oe,pe){return R.H.useImperativeHandle(F,oe,pe)},Me.useInsertionEffect=function(F,oe){return R.H.useInsertionEffect(F,oe)},Me.useLayoutEffect=function(F,oe){return R.H.useLayoutEffect(F,oe)},Me.useMemo=function(F,oe){return R.H.useMemo(F,oe)},Me.useOptimistic=function(F,oe){return R.H.useOptimistic(F,oe)},Me.useReducer=function(F,oe,pe){return R.H.useReducer(F,oe,pe)},Me.useRef=function(F){return R.H.useRef(F)},Me.useState=function(F){return R.H.useState(F)},Me.useSyncExternalStore=function(F,oe,pe){return R.H.useSyncExternalStore(F,oe,pe)},Me.useTransition=function(){return R.H.useTransition()},Me.version="19.2.0",Me}var yw;function Kv(){return yw||(yw=1,Qy.exports=lV()),Qy.exports}var j=Kv();const Od=sV(j);var Yy={exports:{}},Oc={},Xy={exports:{}},Wy={};var vw;function uV(){return vw||(vw=1,(function(n){function e(H,ae){var fe=H.length;H.push(ae);e:for(;0<fe;){var Ce=fe-1>>>1,Fe=H[Ce];if(0<s(Fe,ae))H[Ce]=ae,H[fe]=Fe,fe=Ce;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var ae=H[0],fe=H.pop();if(fe!==ae){H[0]=fe;e:for(var Ce=0,Fe=H.length,F=Fe>>>1;Ce<F;){var oe=2*(Ce+1)-1,pe=H[oe],ge=oe+1,Ne=H[ge];if(0>s(pe,fe))ge<Fe&&0>s(Ne,pe)?(H[Ce]=Ne,H[ge]=fe,Ce=ge):(H[Ce]=pe,H[oe]=fe,Ce=oe);else if(ge<Fe&&0>s(Ne,fe))H[Ce]=Ne,H[ge]=fe,Ce=ge;else break e}}return ae}function s(H,ae){var fe=H.sortIndex-ae.sortIndex;return fe!==0?fe:H.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,v=null,_=3,S=!1,C=!1,V=!1,M=!1,z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function J(H){for(var ae=t(d);ae!==null;){if(ae.callback===null)i(d);else if(ae.startTime<=H)i(d),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=t(d)}}function ee(H){if(V=!1,J(H),!C)if(t(f)!==null)C=!0,re||(re=!0,U());else{var ae=t(d);ae!==null&&de(ee,ae.startTime-H)}}var re=!1,R=-1,A=5,D=-1;function N(){return M?!0:!(n.unstable_now()-D<A)}function k(){if(M=!1,re){var H=n.unstable_now();D=H;var ae=!0;try{e:{C=!1,V&&(V=!1,q(R),R=-1),S=!0;var fe=_;try{t:{for(J(H),v=t(f);v!==null&&!(v.expirationTime>H&&N());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,_=v.priorityLevel;var Fe=Ce(v.expirationTime<=H);if(H=n.unstable_now(),typeof Fe=="function"){v.callback=Fe,J(H),ae=!0;break t}v===t(f)&&i(f),J(H)}else i(f);v=t(f)}if(v!==null)ae=!0;else{var F=t(d);F!==null&&de(ee,F.startTime-H),ae=!1}}break e}finally{v=null,_=fe,S=!1}ae=void 0}}finally{ae?U():re=!1}}}var U;if(typeof L=="function")U=function(){L(k)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Ee=P.port2;P.port1.onmessage=k,U=function(){Ee.postMessage(null)}}else U=function(){z(k,0)};function de(H,ae){R=z(function(){H(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(H){switch(_){case 1:case 2:case 3:var ae=3;break;default:ae=_}var fe=_;_=ae;try{return H()}finally{_=fe}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(H,ae){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var fe=_;_=H;try{return ae()}finally{_=fe}},n.unstable_scheduleCallback=function(H,ae,fe){var Ce=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ce+fe:Ce):fe=Ce,H){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=fe+Fe,H={id:g++,callback:ae,priorityLevel:H,startTime:fe,expirationTime:Fe,sortIndex:-1},fe>Ce?(H.sortIndex=fe,e(d,H),t(f)===null&&H===t(d)&&(V?(q(R),R=-1):V=!0,de(ee,fe-Ce))):(H.sortIndex=Fe,e(f,H),C||S||(C=!0,re||(re=!0,U()))),H},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(H){var ae=_;return function(){var fe=_;_=ae;try{return H.apply(this,arguments)}finally{_=fe}}}})(Wy)),Wy}var _w;function cV(){return _w||(_w=1,Xy.exports=uV()),Xy.exports}var Zy={exports:{}},gn={};var bw;function hV(){if(bw)return gn;bw=1;var n=Kv();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},gn.flushSync=function(f){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=g,i.d.f()}},gn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},gn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},gn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:S}):g==="script"&&i.d.X(f,{crossOrigin:v,integrity:_,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},gn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},gn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},gn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},gn.requestFormReset=function(f){i.d.r(f)},gn.unstable_batchedUpdates=function(f,d){return f(d)},gn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},gn.useFormStatus=function(){return u.H.useHostTransitionStatus()},gn.version="19.2.0",gn}var Tw;function fV(){if(Tw)return Zy.exports;Tw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zy.exports=hV(),Zy.exports}var Ew;function dV(){if(Ew)return Oc;Ew=1;var n=cV(),e=Kv(),t=fV();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(i(188))}function d(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,c=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return f(p),r;if(y===c)return f(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=y;else{for(var T=!1,x=p.child;x;){if(x===l){T=!0,l=p,c=y;break}if(x===c){T=!0,c=p,l=y;break}x=x.sibling}if(!T){for(x=y.child;x;){if(x===l){T=!0,l=y,c=p;break}if(x===c){T=!0,c=y,l=p;break}x=x.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),L=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function Ee(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case z:return"Profiler";case M:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case L:return r.displayName||"Context";case q:return(r._context.displayName||"Context")+".Consumer";case J:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return a=r.displayName||null,a!==null?a:Ee(r.type)||"Memo";case A:a=r._payload,r=r._init;try{return Ee(r(a))}catch{}}return null}var de=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ce=[],Fe=-1;function F(r){return{current:r}}function oe(r){0>Fe||(r.current=Ce[Fe],Ce[Fe]=null,Fe--)}function pe(r,a){Fe++,Ce[Fe]=r.current,r.current=a}var ge=F(null),Ne=F(null),Le=F(null),Qe=F(null);function Xt(r,a){switch(pe(Le,a),pe(Ne,r),pe(ge,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?LE(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=LE(a),r=jE(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}oe(ge),pe(ge,r)}function yt(){oe(ge),oe(Ne),oe(Le)}function Ta(r){r.memoizedState!==null&&pe(Qe,r);var a=ge.current,l=jE(a,r.type);a!==l&&(pe(Ne,r),pe(ge,l))}function Po(r){Ne.current===r&&(oe(ge),oe(Ne)),Qe.current===r&&(oe(Qe),Nc._currentValue=fe)}var Oo,Lo;function Bi(r){if(Oo===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Oo=a&&a[1]||"",Lo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oo+r+Lo}var Nu=!1;function Ea(r,a){if(!r||Nu)return"";Nu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var X=Z}Reflect.construct(r,[],se)}else{try{se.call()}catch(Z){X=Z}r.call(se.prototype)}}else{try{throw Error()}catch(Z){X=Z}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],x=y[1];if(T&&x){var O=T.split(`
`),Y=x.split(`
`);for(p=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(c===O.length||p===Y.length)for(c=O.length-1,p=Y.length-1;1<=c&&0<=p&&O[c]!==Y[p];)p--;for(;1<=c&&0<=p;c--,p--)if(O[c]!==Y[p]){if(c!==1||p!==1)do if(c--,p--,0>p||O[c]!==Y[p]){var te=`
`+O[c].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=c&&0<=p);break}}}finally{Nu=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Bi(l):""}function ku(r,a){switch(r.tag){case 26:case 27:case 5:return Bi(r.type);case 16:return Bi("Lazy");case 13:return r.child!==a&&a!==null?Bi("Suspense Fallback"):Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Ea(r.type,!1);case 11:return Ea(r.type.render,!1);case 1:return Ea(r.type,!0);case 31:return Bi("Activity");default:return""}}function Vu(r){try{var a="",l=null;do a+=ku(r,l),l=r,r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var jt=Object.prototype.hasOwnProperty,Wt=n.unstable_scheduleCallback,ls=n.unstable_cancelCallback,Yp=n.unstable_shouldYield,of=n.unstable_requestPaint,An=n.unstable_now,wa=n.unstable_getCurrentPriorityLevel,Mu=n.unstable_ImmediatePriority,Pu=n.unstable_UserBlockingPriority,us=n.unstable_NormalPriority,Xp=n.unstable_LowPriority,lf=n.unstable_IdlePriority,uf=n.log,cf=n.unstable_setDisableYieldValue,wi=null,on=null;function ii(r){if(typeof uf=="function"&&cf(r),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(wi,r)}catch{}}var Ct=Math.clz32?Math.clz32:ff,hf=Math.log,jo=Math.LN2;function ff(r){return r>>>=0,r===0?32:31-(hf(r)/jo|0)|0}var Fi=256,Sa=262144,zt=4194304;function qi(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Hi(r,a,l){var c=r.pendingLanes;if(c===0)return 0;var p=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var x=c&134217727;return x!==0?(c=x&~y,c!==0?p=qi(c):(T&=x,T!==0?p=qi(T):l||(l=x&~r,l!==0&&(p=qi(l))))):(x=c&~y,x!==0?p=qi(x):T!==0?p=qi(T):l||(l=c&~r,l!==0&&(p=qi(l)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:p}function Si(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Wp(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function df(){var r=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),r}function Gi(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function xa(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Zp(r,a,l,c,p,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var x=r.entanglements,O=r.expirationTimes,Y=r.hiddenUpdates;for(l=T&~l;0<l;){var te=31-Ct(l),se=1<<te;x[te]=0,O[te]=-1;var X=Y[te];if(X!==null)for(Y[te]=null,te=0;te<X.length;te++){var Z=X[te];Z!==null&&(Z.lane&=-536870913)}l&=~se}c!==0&&Aa(r,c,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~a))}function Aa(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-Ct(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function Ou(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var c=31-Ct(l),p=1<<c;p&a|r[c]&a&&(r[c]|=a),l&=~p}}function Lu(r,a){var l=a&-a;return l=(l&42)!==0?1:Ia(l),(l&(r.suspendedLanes|a))!==0?0:l}function Ia(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function xr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function mf(){var r=ae.p;return r!==0?r:(r=window.event,r===void 0?32:ow(r.type))}function xi(r,a){var l=ae.p;try{return ae.p=r,a()}finally{ae.p=l}}var Ai=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Ai,nn="__reactProps$"+Ai,Ki="__reactContainer$"+Ai,zo="__reactEvents$"+Ai,Jp="__reactListeners$"+Ai,pf="__reactHandles$"+Ai,gf="__reactResources$"+Ai,$i="__reactMarker$"+Ai;function Uo(r){delete r[Ut],delete r[nn],delete r[zo],delete r[Jp],delete r[pf]}function Qi(r){var a=r[Ut];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Ki]||l[Ut]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=GE(r);r!==null;){if(l=r[Ut])return l;r=GE(r)}return a}r=l,l=r.parentNode}return null}function ri(r){if(r=r[Ut]||r[Ki]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function Hn(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Yi(r){var a=r[gf];return a||(a=r[gf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Bt(r){r[$i]=!0}var ju=new Set,zu={};function Xi(r,a){Wi(r,a),Wi(r+"Capture",a)}function Wi(r,a){for(zu[r]=a,r=0;r<a.length;r++)ju.add(a[r])}var Uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},Fu={};function yf(r){return jt.call(Fu,r)?!0:jt.call(Bu,r)?!1:Uu.test(r)?Fu[r]=!0:(Bu[r]=!0,!1)}function Bo(r,a,l){if(yf(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function Gn(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function Ft(r,a,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+c)}}function rn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function cs(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qu(r,a,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,y=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){l=""+T,y.call(this,T)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function nt(r){if(!r._valueTracker){var a=cs(r)?"checked":"value";r._valueTracker=qu(r,a,""+r[a])}}function Ra(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return r&&(c=cs(r)?r.checked?"true":"false":r.value),r=c,r!==l?(a.setValue(r),!0):!1}function Zi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ca=/[\n"\\]/g;function kn(r){return r.replace(Ca,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Fo(r,a,l,c,p,y,T,x){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),a!=null?T==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+rn(a)):r.value!==""+rn(a)&&(r.value=""+rn(a)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),a!=null?Hu(r,T,rn(a)):l!=null?Hu(r,T,rn(l)):c!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.name=""+rn(x):r.removeAttribute("name")}function vf(r,a,l,c,p,y,T,x){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){nt(r);return}l=l!=null?""+rn(l):"",a=a!=null?""+rn(a):l,x||a===r.value||(r.value=a),r.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=x?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),nt(r)}function Hu(r,a,l){a==="number"&&Zi(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function hs(r,a,l,c){if(r=r.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=a.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+rn(l),a=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function _f(r,a,l){if(a!=null&&(a=""+rn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+rn(l):""}function fs(r,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(de(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=rn(a),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),nt(r)}function Vn(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var bf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gu(r,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,l):typeof l!="number"||l===0||bf.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function Ku(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&Gu(r,p,c)}else for(var y in a)a.hasOwnProperty(y)&&Gu(r,y,a[y])}function qo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ho(r){return ds.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ii(){}var $u=null;function si(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ms=null,Ji=null;function Da(r){var a=ri(r);if(a&&(r=a.stateNode)){var l=r[nn]||null;e:switch(r=a.stateNode,a.type){case"input":if(Fo(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+kn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==r&&c.form===r.form){var p=c[nn]||null;if(!p)throw Error(i(90));Fo(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===r.form&&Ra(c)}break e;case"textarea":_f(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&hs(r,!!l.multiple,a,!1)}}}var Go=!1;function ps(r,a,l){if(Go)return r(a,l);Go=!0;try{var c=r(a);return c}finally{if(Go=!1,(ms!==null||Ji!==null)&&(md(),ms&&(a=ms,r=Ji,Ji=ms=null,Da(a),r)))for(a=0;a<r.length;a++)Da(r[a])}}function Ri(r,a){var l=r.stateNode;if(l===null)return null;var c=l[nn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=!1;if(ai)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Na=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Na=!1}var er=null,Qu=null,ka=null;function Yu(){if(ka)return ka;var r,a=Qu,l=a.length,c,p="value"in er?er.value:er.textContent,y=p.length;for(r=0;r<l&&a[r]===p[r];r++);var T=l-r;for(c=1;c<=T&&a[l-c]===p[y-c];c++);return ka=p.slice(r,1<c?1-c:void 0)}function Va(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ar(){return!0}function Ci(){return!1}function ln(r){function a(l,c,p,y,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var x in r)r.hasOwnProperty(x)&&(l=r[x],this[x]=l?l(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ar:Ci,this.isPropagationStopped=Ci,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),a}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=ln(Ir),gs=v({},Ir,{view:0,detail:0}),Xu=ln(gs),ys,Ko,nr,$o=v({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==nr&&(nr&&r.type==="mousemove"?(ys=r.screenX-nr.screenX,Ko=r.screenY-nr.screenY):Ko=ys=0,nr=r),ys)},movementY:function(r){return"movementY"in r?r.movementY:Ko}}),Wu=ln($o),Ma=v({},$o,{dataTransfer:0}),Ef=ln(Ma),wf=v({},gs,{relatedTarget:0}),Pa=ln(wf),Zu=v({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Sf=ln(Zu),Qo=v({},Ir,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),xf=ln(Qo),Af=v({},Ir,{data:0}),ir=ln(Af),If={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Df(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Cf[r])?!!a[r]:!1}function vs(){return Df}var In=v({},gs,{key:function(r){if(r.key){var a=If[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Va(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Rf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(r){return r.type==="keypress"?Va(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Va(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Nf=ln(In),kf=v({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rr=ln(kf),m=v({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),b=ln(m),E=v({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=ln(E),$=v({},$o,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),W=ln($),he=v({},Ir,{newState:0,oldState:0}),Pe=ln(he),Dt=[9,13,27,32],Ze=ai&&"CompositionEvent"in window,vt=null;ai&&"documentMode"in document&&(vt=document.documentMode);var oi=ai&&"TextEvent"in window&&!vt,rr=ai&&(!Ze||vt&&8<vt&&11>=vt),Di=" ",Ni=!1;function Oa(r,a){switch(r){case"keyup":return Dt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xo=!1;function CN(r,a){switch(r){case"compositionend":return Yo(a);case"keypress":return a.which!==32?null:(Ni=!0,Di);case"textInput":return r=a.data,r===Di&&Ni?null:r;default:return null}}function DN(r,a){if(Xo)return r==="compositionend"||!Ze&&Oa(r,a)?(r=Yu(),ka=Qu=er=null,Xo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return rr&&a.locale!=="ko"?null:a.data;default:return null}}var NN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qb(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!NN[r.type]:a==="textarea"}function Yb(r,a,l,c){ms?Ji?Ji.push(c):Ji=[c]:ms=c,a=Td(a,"onChange"),0<a.length&&(l=new tr("onChange","change",null,l,c),r.push({event:l,listeners:a}))}var Ju=null,ec=null;function kN(r){NE(r,0)}function Vf(r){var a=Hn(r);if(Ra(a))return r}function Xb(r,a){if(r==="change")return a}var Wb=!1;if(ai){var eg;if(ai){var tg="oninput"in document;if(!tg){var Zb=document.createElement("div");Zb.setAttribute("oninput","return;"),tg=typeof Zb.oninput=="function"}eg=tg}else eg=!1;Wb=eg&&(!document.documentMode||9<document.documentMode)}function Jb(){Ju&&(Ju.detachEvent("onpropertychange",eT),ec=Ju=null)}function eT(r){if(r.propertyName==="value"&&Vf(ec)){var a=[];Yb(a,ec,r,si(r)),ps(kN,a)}}function VN(r,a,l){r==="focusin"?(Jb(),Ju=a,ec=l,Ju.attachEvent("onpropertychange",eT)):r==="focusout"&&Jb()}function MN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vf(ec)}function PN(r,a){if(r==="click")return Vf(a)}function ON(r,a){if(r==="input"||r==="change")return Vf(a)}function LN(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Kn=typeof Object.is=="function"?Object.is:LN;function tc(r,a){if(Kn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!jt.call(a,p)||!Kn(r[p],a[p]))return!1}return!0}function tT(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function nT(r,a){var l=tT(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=a&&c>=a)return{node:l,offset:a-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tT(l)}}function iT(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?iT(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function rT(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Zi(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Zi(r.document)}return a}function ng(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var jN=ai&&"documentMode"in document&&11>=document.documentMode,Wo=null,ig=null,nc=null,rg=!1;function sT(r,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;rg||Wo==null||Wo!==Zi(c)||(c=Wo,"selectionStart"in c&&ng(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),nc&&tc(nc,c)||(nc=c,c=Td(ig,"onSelect"),0<c.length&&(a=new tr("onSelect","select",null,a,l),r.push({event:a,listeners:c}),a.target=Wo)))}function La(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var Zo={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},sg={},aT={};ai&&(aT=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function ja(r){if(sg[r])return sg[r];if(!Zo[r])return r;var a=Zo[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in aT)return sg[r]=a[l];return r}var oT=ja("animationend"),lT=ja("animationiteration"),uT=ja("animationstart"),zN=ja("transitionrun"),UN=ja("transitionstart"),BN=ja("transitioncancel"),cT=ja("transitionend"),hT=new Map,ag="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ag.push("scrollEnd");function ki(r,a){hT.set(r,a),Xi(a,[r])}var Mf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},li=[],Jo=0,og=0;function Pf(){for(var r=Jo,a=og=Jo=0;a<r;){var l=li[a];li[a++]=null;var c=li[a];li[a++]=null;var p=li[a];li[a++]=null;var y=li[a];if(li[a++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}y!==0&&fT(l,p,y)}}function Of(r,a,l,c){li[Jo++]=r,li[Jo++]=a,li[Jo++]=l,li[Jo++]=c,og|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function lg(r,a,l,c){return Of(r,a,l,c),Lf(r)}function za(r,a){return Of(r,null,null,a),Lf(r)}function fT(r,a,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=r.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&a!==null&&(p=31-Ct(l),r=y.hiddenUpdates,c=r[p],c===null?r[p]=[a]:c.push(a),a.lane=l|536870912),y):null}function Lf(r){if(50<Sc)throw Sc=0,yy=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var el={};function FN(r,a,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(r,a,l,c){return new FN(r,a,l,c)}function ug(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Cr(r,a){var l=r.alternate;return l===null?(l=$n(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function dT(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function jf(r,a,l,c,p,y){var T=0;if(c=r,typeof r=="function")ug(r)&&(T=1);else if(typeof r=="string")T=$k(r,l,ge.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=$n(31,l,a,p),r.elementType=D,r.lanes=y,r;case V:return Ua(l.children,p,y,a);case M:T=8,p|=24;break;case z:return r=$n(12,l,a,p|2),r.elementType=z,r.lanes=y,r;case ee:return r=$n(13,l,a,p),r.elementType=ee,r.lanes=y,r;case re:return r=$n(19,l,a,p),r.elementType=re,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:T=10;break e;case q:T=9;break e;case J:T=11;break e;case R:T=14;break e;case A:T=16,c=null;break e}T=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=$n(T,l,a,p),a.elementType=r,a.type=c,a.lanes=y,a}function Ua(r,a,l,c){return r=$n(7,r,c,a),r.lanes=l,r}function cg(r,a,l){return r=$n(6,r,null,a),r.lanes=l,r}function mT(r){var a=$n(18,null,null,0);return a.stateNode=r,a}function hg(r,a,l){return a=$n(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var pT=new WeakMap;function ui(r,a){if(typeof r=="object"&&r!==null){var l=pT.get(r);return l!==void 0?l:(a={value:r,source:a,stack:Vu(a)},pT.set(r,a),a)}return{value:r,source:a,stack:Vu(a)}}var tl=[],nl=0,zf=null,ic=0,ci=[],hi=0,_s=null,sr=1,ar="";function Dr(r,a){tl[nl++]=ic,tl[nl++]=zf,zf=r,ic=a}function gT(r,a,l){ci[hi++]=sr,ci[hi++]=ar,ci[hi++]=_s,_s=r;var c=sr;r=ar;var p=32-Ct(c)-1;c&=~(1<<p),l+=1;var y=32-Ct(a)+p;if(30<y){var T=p-p%5;y=(c&(1<<T)-1).toString(32),c>>=T,p-=T,sr=1<<32-Ct(a)+p|l<<p|c,ar=y+r}else sr=1<<y|l<<p|c,ar=r}function fg(r){r.return!==null&&(Dr(r,1),gT(r,1,0))}function dg(r){for(;r===zf;)zf=tl[--nl],tl[nl]=null,ic=tl[--nl],tl[nl]=null;for(;r===_s;)_s=ci[--hi],ci[hi]=null,ar=ci[--hi],ci[hi]=null,sr=ci[--hi],ci[hi]=null}function yT(r,a){ci[hi++]=sr,ci[hi++]=ar,ci[hi++]=_s,sr=a.id,ar=a.overflow,_s=r}var un=null,pt=null,$e=!1,bs=null,fi=!1,mg=Error(i(519));function Ts(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rc(ui(a,r)),mg}function vT(r){var a=r.stateNode,l=r.type,c=r.memoizedProps;switch(a[Ut]=r,a[nn]=c,l){case"dialog":Be("cancel",a),Be("close",a);break;case"iframe":case"object":case"embed":Be("load",a);break;case"video":case"audio":for(l=0;l<Ac.length;l++)Be(Ac[l],a);break;case"source":Be("error",a);break;case"img":case"image":case"link":Be("error",a),Be("load",a);break;case"details":Be("toggle",a);break;case"input":Be("invalid",a),vf(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Be("invalid",a);break;case"textarea":Be("invalid",a),fs(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||PE(a.textContent,l)?(c.popover!=null&&(Be("beforetoggle",a),Be("toggle",a)),c.onScroll!=null&&Be("scroll",a),c.onScrollEnd!=null&&Be("scrollend",a),c.onClick!=null&&(a.onclick=Ii),a=!0):a=!1,a||Ts(r,!0)}function _T(r){for(un=r.return;un;)switch(un.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:un=un.return}}function il(r){if(r!==un)return!1;if(!$e)return _T(r),$e=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||ky(r.type,r.memoizedProps)),l=!l),l&&pt&&Ts(r),_T(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));pt=HE(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));pt=HE(r)}else a===27?(a=pt,Ps(r.type)?(r=Ly,Ly=null,pt=r):pt=a):pt=un?mi(r.stateNode.nextSibling):null;return!0}function Ba(){pt=un=null,$e=!1}function pg(){var r=bs;return r!==null&&(Ln===null?Ln=r:Ln.push.apply(Ln,r),bs=null),r}function rc(r){bs===null?bs=[r]:bs.push(r)}var gg=F(null),Fa=null,Nr=null;function Es(r,a,l){pe(gg,a._currentValue),a._currentValue=l}function kr(r){r._currentValue=gg.current,oe(gg)}function yg(r,a,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===l)break;r=r.return}}function vg(r,a,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var x=y;y=p;for(var O=0;O<a.length;O++)if(x.context===a[O]){y.lanes|=l,x=y.alternate,x!==null&&(x.lanes|=l),yg(y.return,l,r),c||(T=null);break e}y=x.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),yg(T,l,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function rl(r,a,l,c){r=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var x=p.type;Kn(p.pendingProps.value,T.value)||(r!==null?r.push(x):r=[x])}}else if(p===Qe.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Nc):r=[Nc])}p=p.return}r!==null&&vg(a,r,l,c),a.flags|=262144}function Uf(r){for(r=r.firstContext;r!==null;){if(!Kn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function qa(r){Fa=r,Nr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function cn(r){return bT(Fa,r)}function Bf(r,a){return Fa===null&&qa(r),bT(r,a)}function bT(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Nr===null){if(r===null)throw Error(i(308));Nr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Nr=Nr.next=a;return l}var qN=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},HN=n.unstable_scheduleCallback,GN=n.unstable_NormalPriority,qt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _g(){return{controller:new qN,data:new Map,refCount:0}}function sc(r){r.refCount--,r.refCount===0&&HN(GN,function(){r.controller.abort()})}var ac=null,bg=0,sl=0,al=null;function KN(r,a){if(ac===null){var l=ac=[];bg=0,sl=wy(),al={status:"pending",value:void 0,then:function(c){l.push(c)}}}return bg++,a.then(TT,TT),a}function TT(){if(--bg===0&&ac!==null){al!==null&&(al.status="fulfilled");var r=ac;ac=null,sl=0,al=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function $N(r,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var ET=H.S;H.S=function(r,a){sE=An(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&KN(r,a),ET!==null&&ET(r,a)};var Ha=F(null);function Tg(){var r=Ha.current;return r!==null?r:ht.pooledCache}function Ff(r,a){a===null?pe(Ha,Ha.current):pe(Ha,a.pool)}function wT(){var r=Tg();return r===null?null:{parent:qt._currentValue,pool:r}}var ol=Error(i(460)),Eg=Error(i(474)),qf=Error(i(542)),Hf={then:function(){}};function ST(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xT(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(Ii,Ii),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,IT(r),r;default:if(typeof a.status=="string")a.then(Ii,Ii);else{if(r=ht,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,IT(r),r}throw Ka=a,ol}}function Ga(r){try{var a=r._init;return a(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ka=l,ol):l}}var Ka=null;function AT(){if(Ka===null)throw Error(i(459));var r=Ka;return Ka=null,r}function IT(r){if(r===ol||r===qf)throw Error(i(483))}var ll=null,oc=0;function Gf(r){var a=oc;return oc+=1,ll===null&&(ll=[]),xT(ll,r,a)}function lc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Kf(r,a){throw a.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function RT(r){function a(G,B){if(r){var Q=G.deletions;Q===null?(G.deletions=[B],G.flags|=16):Q.push(B)}}function l(G,B){if(!r)return null;for(;B!==null;)a(G,B),B=B.sibling;return null}function c(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function p(G,B){return G=Cr(G,B),G.index=0,G.sibling=null,G}function y(G,B,Q){return G.index=Q,r?(Q=G.alternate,Q!==null?(Q=Q.index,Q<B?(G.flags|=67108866,B):Q):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function T(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function x(G,B,Q,ie){return B===null||B.tag!==6?(B=cg(Q,G.mode,ie),B.return=G,B):(B=p(B,Q),B.return=G,B)}function O(G,B,Q,ie){var Se=Q.type;return Se===V?te(G,B,Q.props.children,ie,Q.key):B!==null&&(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===A&&Ga(Se)===B.type)?(B=p(B,Q.props),lc(B,Q),B.return=G,B):(B=jf(Q.type,Q.key,Q.props,null,G.mode,ie),lc(B,Q),B.return=G,B)}function Y(G,B,Q,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=hg(Q,G.mode,ie),B.return=G,B):(B=p(B,Q.children||[]),B.return=G,B)}function te(G,B,Q,ie,Se){return B===null||B.tag!==7?(B=Ua(Q,G.mode,ie,Se),B.return=G,B):(B=p(B,Q),B.return=G,B)}function se(G,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=cg(""+B,G.mode,Q),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return Q=jf(B.type,B.key,B.props,null,G.mode,Q),lc(Q,B),Q.return=G,Q;case C:return B=hg(B,G.mode,Q),B.return=G,B;case A:return B=Ga(B),se(G,B,Q)}if(de(B)||U(B))return B=Ua(B,G.mode,Q,null),B.return=G,B;if(typeof B.then=="function")return se(G,Gf(B),Q);if(B.$$typeof===L)return se(G,Bf(G,B),Q);Kf(G,B)}return null}function X(G,B,Q,ie){var Se=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Se!==null?null:x(G,B,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return Q.key===Se?O(G,B,Q,ie):null;case C:return Q.key===Se?Y(G,B,Q,ie):null;case A:return Q=Ga(Q),X(G,B,Q,ie)}if(de(Q)||U(Q))return Se!==null?null:te(G,B,Q,ie,null);if(typeof Q.then=="function")return X(G,B,Gf(Q),ie);if(Q.$$typeof===L)return X(G,B,Bf(G,Q),ie);Kf(G,Q)}return null}function Z(G,B,Q,ie,Se){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(Q)||null,x(B,G,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return G=G.get(ie.key===null?Q:ie.key)||null,O(B,G,ie,Se);case C:return G=G.get(ie.key===null?Q:ie.key)||null,Y(B,G,ie,Se);case A:return ie=Ga(ie),Z(G,B,Q,ie,Se)}if(de(ie)||U(ie))return G=G.get(Q)||null,te(B,G,ie,Se,null);if(typeof ie.then=="function")return Z(G,B,Q,Gf(ie),Se);if(ie.$$typeof===L)return Z(G,B,Q,Bf(B,ie),Se);Kf(B,ie)}return null}function ve(G,B,Q,ie){for(var Se=null,Xe=null,be=B,je=B=0,He=null;be!==null&&je<Q.length;je++){be.index>je?(He=be,be=null):He=be.sibling;var We=X(G,be,Q[je],ie);if(We===null){be===null&&(be=He);break}r&&be&&We.alternate===null&&a(G,be),B=y(We,B,je),Xe===null?Se=We:Xe.sibling=We,Xe=We,be=He}if(je===Q.length)return l(G,be),$e&&Dr(G,je),Se;if(be===null){for(;je<Q.length;je++)be=se(G,Q[je],ie),be!==null&&(B=y(be,B,je),Xe===null?Se=be:Xe.sibling=be,Xe=be);return $e&&Dr(G,je),Se}for(be=c(be);je<Q.length;je++)He=Z(be,G,je,Q[je],ie),He!==null&&(r&&He.alternate!==null&&be.delete(He.key===null?je:He.key),B=y(He,B,je),Xe===null?Se=He:Xe.sibling=He,Xe=He);return r&&be.forEach(function(Us){return a(G,Us)}),$e&&Dr(G,je),Se}function Ae(G,B,Q,ie){if(Q==null)throw Error(i(151));for(var Se=null,Xe=null,be=B,je=B=0,He=null,We=Q.next();be!==null&&!We.done;je++,We=Q.next()){be.index>je?(He=be,be=null):He=be.sibling;var Us=X(G,be,We.value,ie);if(Us===null){be===null&&(be=He);break}r&&be&&Us.alternate===null&&a(G,be),B=y(Us,B,je),Xe===null?Se=Us:Xe.sibling=Us,Xe=Us,be=He}if(We.done)return l(G,be),$e&&Dr(G,je),Se;if(be===null){for(;!We.done;je++,We=Q.next())We=se(G,We.value,ie),We!==null&&(B=y(We,B,je),Xe===null?Se=We:Xe.sibling=We,Xe=We);return $e&&Dr(G,je),Se}for(be=c(be);!We.done;je++,We=Q.next())We=Z(be,G,je,We.value,ie),We!==null&&(r&&We.alternate!==null&&be.delete(We.key===null?je:We.key),B=y(We,B,je),Xe===null?Se=We:Xe.sibling=We,Xe=We);return r&&be.forEach(function(rV){return a(G,rV)}),$e&&Dr(G,je),Se}function ct(G,B,Q,ie){if(typeof Q=="object"&&Q!==null&&Q.type===V&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:e:{for(var Se=Q.key;B!==null;){if(B.key===Se){if(Se=Q.type,Se===V){if(B.tag===7){l(G,B.sibling),ie=p(B,Q.props.children),ie.return=G,G=ie;break e}}else if(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===A&&Ga(Se)===B.type){l(G,B.sibling),ie=p(B,Q.props),lc(ie,Q),ie.return=G,G=ie;break e}l(G,B);break}else a(G,B);B=B.sibling}Q.type===V?(ie=Ua(Q.props.children,G.mode,ie,Q.key),ie.return=G,G=ie):(ie=jf(Q.type,Q.key,Q.props,null,G.mode,ie),lc(ie,Q),ie.return=G,G=ie)}return T(G);case C:e:{for(Se=Q.key;B!==null;){if(B.key===Se)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){l(G,B.sibling),ie=p(B,Q.children||[]),ie.return=G,G=ie;break e}else{l(G,B);break}else a(G,B);B=B.sibling}ie=hg(Q,G.mode,ie),ie.return=G,G=ie}return T(G);case A:return Q=Ga(Q),ct(G,B,Q,ie)}if(de(Q))return ve(G,B,Q,ie);if(U(Q)){if(Se=U(Q),typeof Se!="function")throw Error(i(150));return Q=Se.call(Q),Ae(G,B,Q,ie)}if(typeof Q.then=="function")return ct(G,B,Gf(Q),ie);if(Q.$$typeof===L)return ct(G,B,Bf(G,Q),ie);Kf(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(l(G,B.sibling),ie=p(B,Q),ie.return=G,G=ie):(l(G,B),ie=cg(Q,G.mode,ie),ie.return=G,G=ie),T(G)):l(G,B)}return function(G,B,Q,ie){try{oc=0;var Se=ct(G,B,Q,ie);return ll=null,Se}catch(be){if(be===ol||be===qf)throw be;var Xe=$n(29,be,null,G.mode);return Xe.lanes=ie,Xe.return=G,Xe}finally{}}}var $a=RT(!0),CT=RT(!1),ws=!1;function wg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sg(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ss(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function xs(r,a,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=Lf(r),fT(r,null,l),a}return Of(r,c,a,l),Lf(r)}function uc(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,Ou(r,l)}}function xg(r,a){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Ag=!1;function cc(){if(Ag){var r=al;if(r!==null)throw r}}function hc(r,a,l,c){Ag=!1;var p=r.updateQueue;ws=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var O=x,Y=O.next;O.next=null,T===null?y=Y:T.next=Y,T=O;var te=r.alternate;te!==null&&(te=te.updateQueue,x=te.lastBaseUpdate,x!==T&&(x===null?te.firstBaseUpdate=Y:x.next=Y,te.lastBaseUpdate=O))}if(y!==null){var se=p.baseState;T=0,te=Y=O=null,x=y;do{var X=x.lane&-536870913,Z=X!==x.lane;if(Z?(qe&X)===X:(c&X)===X){X!==0&&X===sl&&(Ag=!0),te!==null&&(te=te.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ve=r,Ae=x;X=a;var ct=l;switch(Ae.tag){case 1:if(ve=Ae.payload,typeof ve=="function"){se=ve.call(ct,se,X);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ae.payload,X=typeof ve=="function"?ve.call(ct,se,X):ve,X==null)break e;se=v({},se,X);break e;case 2:ws=!0}}X=x.callback,X!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:x.tag,payload:x.payload,callback:x.callback,next:null},te===null?(Y=te=Z,O=se):te=te.next=Z,T|=X;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;Z=x,x=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);te===null&&(O=se),p.baseState=O,p.firstBaseUpdate=Y,p.lastBaseUpdate=te,y===null&&(p.shared.lanes=0),Ds|=T,r.lanes=T,r.memoizedState=se}}function DT(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function NT(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)DT(l[r],a)}var ul=F(null),$f=F(0);function kT(r,a){r=Br,pe($f,r),pe(ul,a),Br=r|a.baseLanes}function Ig(){pe($f,Br),pe(ul,ul.current)}function Rg(){Br=$f.current,oe(ul),oe($f)}var Qn=F(null),di=null;function As(r){var a=r.alternate;pe(Nt,Nt.current&1),pe(Qn,r),di===null&&(a===null||ul.current!==null||a.memoizedState!==null)&&(di=r)}function Cg(r){pe(Nt,Nt.current),pe(Qn,r),di===null&&(di=r)}function VT(r){r.tag===22?(pe(Nt,Nt.current),pe(Qn,r),di===null&&(di=r)):Is()}function Is(){pe(Nt,Nt.current),pe(Qn,Qn.current)}function Yn(r){oe(Qn),di===r&&(di=null),oe(Nt)}var Nt=F(0);function Qf(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Py(l)||Oy(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Vr=0,Oe=null,lt=null,Ht=null,Yf=!1,cl=!1,Qa=!1,Xf=0,fc=0,hl=null,QN=0;function xt(){throw Error(i(321))}function Dg(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Kn(r[l],a[l]))return!1;return!0}function Ng(r,a,l,c,p,y){return Vr=y,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=r===null||r.memoizedState===null?g1:Kg,Qa=!1,y=l(c,p),Qa=!1,cl&&(y=PT(a,l,c,p)),MT(r),y}function MT(r){H.H=pc;var a=lt!==null&&lt.next!==null;if(Vr=0,Ht=lt=Oe=null,Yf=!1,fc=0,hl=null,a)throw Error(i(300));r===null||Gt||(r=r.dependencies,r!==null&&Uf(r)&&(Gt=!0))}function PT(r,a,l,c){Oe=r;var p=0;do{if(cl&&(hl=null),fc=0,cl=!1,25<=p)throw Error(i(301));if(p+=1,Ht=lt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=y1,y=a(l,c)}while(cl);return y}function YN(){var r=H.H,a=r.useState()[0];return a=typeof a.then=="function"?dc(a):a,r=r.useState()[0],(lt!==null?lt.memoizedState:null)!==r&&(Oe.flags|=1024),a}function kg(){var r=Xf!==0;return Xf=0,r}function Vg(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Mg(r){if(Yf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Yf=!1}Vr=0,Ht=lt=Oe=null,cl=!1,fc=Xf=0,hl=null}function Rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Oe.memoizedState=Ht=r:Ht=Ht.next=r,Ht}function kt(){if(lt===null){var r=Oe.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var a=Ht===null?Oe.memoizedState:Ht.next;if(a!==null)Ht=a,lt=r;else{if(r===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Ht===null?Oe.memoizedState=Ht=r:Ht=Ht.next=r}return Ht}function Wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dc(r){var a=fc;return fc+=1,hl===null&&(hl=[]),r=xT(hl,r,a),a=Oe,(Ht===null?a.memoizedState:Ht.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?g1:Kg),r}function Zf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return dc(r);if(r.$$typeof===L)return cn(r)}throw Error(i(438,String(r)))}function Pg(r){var a=null,l=Oe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Wf(),Oe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),c=0;c<r;c++)l[c]=N;return a.index++,l}function Mr(r,a){return typeof a=="function"?a(r):a}function Jf(r){var a=kt();return Og(a,lt,r)}function Og(r,a,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=r.baseQueue,y=c.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}a.baseQueue=p=y,c.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{a=p.next;var x=T=null,O=null,Y=a,te=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(qe&se)===se:(Vr&se)===se){var X=Y.revertLane;if(X===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===sl&&(te=!0);else if((Vr&X)===X){Y=Y.next,X===sl&&(te=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(x=O=se,T=y):O=O.next=se,Oe.lanes|=X,Ds|=X;se=Y.action,Qa&&l(y,se),y=Y.hasEagerState?Y.eagerState:l(y,se)}else X={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(x=O=X,T=y):O=O.next=X,Oe.lanes|=se,Ds|=se;Y=Y.next}while(Y!==null&&Y!==a);if(O===null?T=y:O.next=x,!Kn(y,r.memoizedState)&&(Gt=!0,te&&(l=al,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=O,c.lastRenderedState=y}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Lg(r){var a=kt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=r(y,T.action),T=T.next;while(T!==p);Kn(y,a.memoizedState)||(Gt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function OT(r,a,l){var c=Oe,p=kt(),y=$e;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!Kn((lt||p).memoizedState,l);if(T&&(p.memoizedState=l,Gt=!0),p=p.queue,Ug(zT.bind(null,c,p,r),[r]),p.getSnapshot!==a||T||Ht!==null&&Ht.memoizedState.tag&1){if(c.flags|=2048,fl(9,{destroy:void 0},jT.bind(null,c,p,l,a),null),ht===null)throw Error(i(349));y||(Vr&127)!==0||LT(c,a,l)}return l}function LT(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Oe.updateQueue,a===null?(a=Wf(),Oe.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function jT(r,a,l,c){a.value=l,a.getSnapshot=c,UT(a)&&BT(r)}function zT(r,a,l){return l(function(){UT(a)&&BT(r)})}function UT(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Kn(r,l)}catch{return!0}}function BT(r){var a=za(r,2);a!==null&&jn(a,r,2)}function jg(r){var a=Rn();if(typeof r=="function"){var l=r;if(r=l(),Qa){ii(!0);try{l()}finally{ii(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:r},a}function FT(r,a,l,c){return r.baseState=l,Og(r,lt,typeof c=="function"?c:Mr)}function XN(r,a,l,c,p){if(nd(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};H.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,qT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function qT(r,a){var l=a.action,c=a.payload,p=r.state;if(a.isTransition){var y=H.T,T={};H.T=T;try{var x=l(p,c),O=H.S;O!==null&&O(T,x),HT(r,a,x)}catch(Y){zg(r,a,Y)}finally{y!==null&&T.types!==null&&(y.types=T.types),H.T=y}}else try{y=l(p,c),HT(r,a,y)}catch(Y){zg(r,a,Y)}}function HT(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){GT(r,a,c)},function(c){return zg(r,a,c)}):GT(r,a,l)}function GT(r,a,l){a.status="fulfilled",a.value=l,KT(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,qT(r,l)))}function zg(r,a,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,KT(a),a=a.next;while(a!==c)}r.action=null}function KT(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function $T(r,a){return a}function QT(r,a){if($e){var l=ht.formState;if(l!==null){e:{var c=Oe;if($e){if(pt){t:{for(var p=pt,y=fi;p.nodeType!==8;){if(!y){p=null;break t}if(p=mi(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){pt=mi(p.nextSibling),c=p.data==="F!";break e}}Ts(c)}c=!1}c&&(a=l[0])}}return l=Rn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$T,lastRenderedState:a},l.queue=c,l=d1.bind(null,Oe,c),c.dispatch=l,c=jg(!1),y=Gg.bind(null,Oe,!1,c.queue),c=Rn(),p={state:a,dispatch:null,action:r,pending:null},c.queue=p,l=XN.bind(null,Oe,p,y,l),p.dispatch=l,c.memoizedState=r,[a,l,!1]}function YT(r){var a=kt();return XT(a,lt,r)}function XT(r,a,l){if(a=Og(r,a,$T)[0],r=Jf(Mr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=dc(a)}catch(T){throw T===ol?qf:T}else c=a;a=kt();var p=a.queue,y=p.dispatch;return l!==a.memoizedState&&(Oe.flags|=2048,fl(9,{destroy:void 0},WN.bind(null,p,l),null)),[c,y,r]}function WN(r,a){r.action=a}function WT(r){var a=kt(),l=lt;if(l!==null)return XT(a,l,r);kt(),a=a.memoizedState,l=kt();var c=l.queue.dispatch;return l.memoizedState=r,[a,c,!1]}function fl(r,a,l,c){return r={tag:r,create:l,deps:c,inst:a,next:null},a=Oe.updateQueue,a===null&&(a=Wf(),Oe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,a.lastEffect=r),r}function ZT(){return kt().memoizedState}function ed(r,a,l,c){var p=Rn();Oe.flags|=r,p.memoizedState=fl(1|a,{destroy:void 0},l,c===void 0?null:c)}function td(r,a,l,c){var p=kt();c=c===void 0?null:c;var y=p.memoizedState.inst;lt!==null&&c!==null&&Dg(c,lt.memoizedState.deps)?p.memoizedState=fl(a,y,l,c):(Oe.flags|=r,p.memoizedState=fl(1|a,y,l,c))}function JT(r,a){ed(8390656,8,r,a)}function Ug(r,a){td(2048,8,r,a)}function ZN(r){Oe.flags|=4;var a=Oe.updateQueue;if(a===null)a=Wf(),Oe.updateQueue=a,a.events=[r];else{var l=a.events;l===null?a.events=[r]:l.push(r)}}function e1(r){var a=kt().memoizedState;return ZN({ref:a,nextImpl:r}),function(){if((Je&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function t1(r,a){return td(4,2,r,a)}function n1(r,a){return td(4,4,r,a)}function i1(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function r1(r,a,l){l=l!=null?l.concat([r]):null,td(4,4,i1.bind(null,a,r),l)}function Bg(){}function s1(r,a){var l=kt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Dg(a,c[1])?c[0]:(l.memoizedState=[r,a],r)}function a1(r,a){var l=kt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Dg(a,c[1]))return c[0];if(c=r(),Qa){ii(!0);try{r()}finally{ii(!1)}}return l.memoizedState=[c,a],c}function Fg(r,a,l){return l===void 0||(Vr&1073741824)!==0&&(qe&261930)===0?r.memoizedState=a:(r.memoizedState=l,r=oE(),Oe.lanes|=r,Ds|=r,l)}function o1(r,a,l,c){return Kn(l,a)?l:ul.current!==null?(r=Fg(r,l,c),Kn(r,a)||(Gt=!0),r):(Vr&42)===0||(Vr&1073741824)!==0&&(qe&261930)===0?(Gt=!0,r.memoizedState=l):(r=oE(),Oe.lanes|=r,Ds|=r,a)}function l1(r,a,l,c,p){var y=ae.p;ae.p=y!==0&&8>y?y:8;var T=H.T,x={};H.T=x,Gg(r,!1,a,l);try{var O=p(),Y=H.S;if(Y!==null&&Y(x,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var te=$N(O,c);mc(r,a,te,Zn(r))}else mc(r,a,c,Zn(r))}catch(se){mc(r,a,{then:function(){},status:"rejected",reason:se},Zn())}finally{ae.p=y,T!==null&&x.types!==null&&(T.types=x.types),H.T=T}}function JN(){}function qg(r,a,l,c){if(r.tag!==5)throw Error(i(476));var p=u1(r).queue;l1(r,p,a,fe,l===null?JN:function(){return c1(r),l(c)})}function u1(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:fe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function c1(r){var a=u1(r);a.next===null&&(a=r.alternate.memoizedState),mc(r,a.next.queue,{},Zn())}function Hg(){return cn(Nc)}function h1(){return kt().memoizedState}function f1(){return kt().memoizedState}function ek(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=Zn();r=Ss(l);var c=xs(a,r,l);c!==null&&(jn(c,a,l),uc(c,a,l)),a={cache:_g()},r.payload=a;return}a=a.return}}function tk(r,a,l){var c=Zn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},nd(r)?m1(a,l):(l=lg(r,a,l,c),l!==null&&(jn(l,r,c),p1(l,a,c)))}function d1(r,a,l){var c=Zn();mc(r,a,l,c)}function mc(r,a,l,c){var p={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(nd(r))m1(a,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,x=y(T,l);if(p.hasEagerState=!0,p.eagerState=x,Kn(x,T))return Of(r,a,p,0),ht===null&&Pf(),!1}catch{}finally{}if(l=lg(r,a,p,c),l!==null)return jn(l,r,c),p1(l,a,c),!0}return!1}function Gg(r,a,l,c){if(c={lane:2,revertLane:wy(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},nd(r)){if(a)throw Error(i(479))}else a=lg(r,l,c,2),a!==null&&jn(a,r,2)}function nd(r){var a=r.alternate;return r===Oe||a!==null&&a===Oe}function m1(r,a){cl=Yf=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function p1(r,a,l){if((l&4194048)!==0){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,Ou(r,l)}}var pc={readContext:cn,use:Zf,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};pc.useEffectEvent=xt;var g1={readContext:cn,use:Zf,useCallback:function(r,a){return Rn().memoizedState=[r,a===void 0?null:a],r},useContext:cn,useEffect:JT,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,ed(4194308,4,i1.bind(null,a,r),l)},useLayoutEffect:function(r,a){return ed(4194308,4,r,a)},useInsertionEffect:function(r,a){ed(4,2,r,a)},useMemo:function(r,a){var l=Rn();a=a===void 0?null:a;var c=r();if(Qa){ii(!0);try{r()}finally{ii(!1)}}return l.memoizedState=[c,a],c},useReducer:function(r,a,l){var c=Rn();if(l!==void 0){var p=l(a);if(Qa){ii(!0);try{l(a)}finally{ii(!1)}}}else p=a;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=tk.bind(null,Oe,r),[c.memoizedState,r]},useRef:function(r){var a=Rn();return r={current:r},a.memoizedState=r},useState:function(r){r=jg(r);var a=r.queue,l=d1.bind(null,Oe,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:Bg,useDeferredValue:function(r,a){var l=Rn();return Fg(l,r,a)},useTransition:function(){var r=jg(!1);return r=l1.bind(null,Oe,r.queue,!0,!1),Rn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var c=Oe,p=Rn();if($e){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ht===null)throw Error(i(349));(qe&127)!==0||LT(c,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,JT(zT.bind(null,c,y,r),[r]),c.flags|=2048,fl(9,{destroy:void 0},jT.bind(null,c,y,l,a),null),l},useId:function(){var r=Rn(),a=ht.identifierPrefix;if($e){var l=ar,c=sr;l=(c&~(1<<32-Ct(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Xf++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=QN++,a="_"+a+"r_"+l.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:Hg,useFormState:QT,useActionState:QT,useOptimistic:function(r){var a=Rn();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Gg.bind(null,Oe,!0,l),l.dispatch=a,[r,a]},useMemoCache:Pg,useCacheRefresh:function(){return Rn().memoizedState=ek.bind(null,Oe)},useEffectEvent:function(r){var a=Rn(),l={impl:r};return a.memoizedState=l,function(){if((Je&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Kg={readContext:cn,use:Zf,useCallback:s1,useContext:cn,useEffect:Ug,useImperativeHandle:r1,useInsertionEffect:t1,useLayoutEffect:n1,useMemo:a1,useReducer:Jf,useRef:ZT,useState:function(){return Jf(Mr)},useDebugValue:Bg,useDeferredValue:function(r,a){var l=kt();return o1(l,lt.memoizedState,r,a)},useTransition:function(){var r=Jf(Mr)[0],a=kt().memoizedState;return[typeof r=="boolean"?r:dc(r),a]},useSyncExternalStore:OT,useId:h1,useHostTransitionStatus:Hg,useFormState:YT,useActionState:YT,useOptimistic:function(r,a){var l=kt();return FT(l,lt,r,a)},useMemoCache:Pg,useCacheRefresh:f1};Kg.useEffectEvent=e1;var y1={readContext:cn,use:Zf,useCallback:s1,useContext:cn,useEffect:Ug,useImperativeHandle:r1,useInsertionEffect:t1,useLayoutEffect:n1,useMemo:a1,useReducer:Lg,useRef:ZT,useState:function(){return Lg(Mr)},useDebugValue:Bg,useDeferredValue:function(r,a){var l=kt();return lt===null?Fg(l,r,a):o1(l,lt.memoizedState,r,a)},useTransition:function(){var r=Lg(Mr)[0],a=kt().memoizedState;return[typeof r=="boolean"?r:dc(r),a]},useSyncExternalStore:OT,useId:h1,useHostTransitionStatus:Hg,useFormState:WT,useActionState:WT,useOptimistic:function(r,a){var l=kt();return lt!==null?FT(l,lt,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Pg,useCacheRefresh:f1};y1.useEffectEvent=e1;function $g(r,a,l,c){a=r.memoizedState,l=l(c,a),l=l==null?a:v({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Qg={enqueueSetState:function(r,a,l){r=r._reactInternals;var c=Zn(),p=Ss(c);p.payload=a,l!=null&&(p.callback=l),a=xs(r,p,c),a!==null&&(jn(a,r,c),uc(a,r,c))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var c=Zn(),p=Ss(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=xs(r,p,c),a!==null&&(jn(a,r,c),uc(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=Zn(),c=Ss(l);c.tag=2,a!=null&&(c.callback=a),a=xs(r,c,l),a!==null&&(jn(a,r,l),uc(a,r,l))}};function v1(r,a,l,c,p,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,T):a.prototype&&a.prototype.isPureReactComponent?!tc(l,c)||!tc(p,y):!0}function _1(r,a,l,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==r&&Qg.enqueueReplaceState(a,a.state,null)}function Ya(r,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(r=r.defaultProps){l===a&&(l=v({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}function b1(r){Mf(r)}function T1(r){console.error(r)}function E1(r){Mf(r)}function id(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function w1(r,a,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Yg(r,a,l){return l=Ss(l),l.tag=3,l.payload={element:null},l.callback=function(){id(r,a)},l}function S1(r){return r=Ss(r),r.tag=3,r}function x1(r,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;r.payload=function(){return p(y)},r.callback=function(){w1(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){w1(a,l,c),typeof p!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function nk(r,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&rl(a,l,p,!0),l=Qn.current,l!==null){switch(l.tag){case 31:case 13:return di===null?pd():l.alternate===null&&At===0&&(At=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Hf?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),by(r,c,p)),!1;case 22:return l.flags|=65536,c===Hf?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),by(r,c,p)),!1}throw Error(i(435,l.tag))}return by(r,c,p),pd(),!1}if($e)return a=Qn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==mg&&(r=Error(i(422),{cause:c}),rc(ui(r,l)))):(c!==mg&&(a=Error(i(423),{cause:c}),rc(ui(a,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=ui(c,l),p=Yg(r.stateNode,c,p),xg(r,p),At!==4&&(At=2)),!1;var y=Error(i(520),{cause:c});if(y=ui(y,l),wc===null?wc=[y]:wc.push(y),At!==4&&(At=2),a===null)return!0;c=ui(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Yg(l.stateNode,c,r),xg(l,r),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ns===null||!Ns.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=S1(p),x1(p,r,l,c),xg(l,p),!1}l=l.return}while(l!==null);return!1}var Xg=Error(i(461)),Gt=!1;function hn(r,a,l,c){a.child=r===null?CT(a,null,l,c):$a(a,r.child,l,c)}function A1(r,a,l,c,p){l=l.render;var y=a.ref;if("ref"in c){var T={};for(var x in c)x!=="ref"&&(T[x]=c[x])}else T=c;return qa(a),c=Ng(r,a,l,T,y,p),x=kg(),r!==null&&!Gt?(Vg(r,a,p),Pr(r,a,p)):($e&&x&&fg(a),a.flags|=1,hn(r,a,c,p),a.child)}function I1(r,a,l,c,p){if(r===null){var y=l.type;return typeof y=="function"&&!ug(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,R1(r,a,y,c,p)):(r=jf(l.type,null,c,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!ry(r,p)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:tc,l(T,c)&&r.ref===a.ref)return Pr(r,a,p)}return a.flags|=1,r=Cr(y,c),r.ref=a.ref,r.return=a,a.child=r}function R1(r,a,l,c,p){if(r!==null){var y=r.memoizedProps;if(tc(y,c)&&r.ref===a.ref)if(Gt=!1,a.pendingProps=c=y,ry(r,p))(r.flags&131072)!==0&&(Gt=!0);else return a.lanes=r.lanes,Pr(r,a,p)}return Wg(r,a,l,c,p)}function C1(r,a,l,c){var p=c.children,y=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,r!==null){for(c=a.child=r.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~y}else c=0,a.child=null;return D1(r,a,y,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ff(a,y!==null?y.cachePool:null),y!==null?kT(a,y):Ig(),VT(a);else return c=a.lanes=536870912,D1(r,a,y!==null?y.baseLanes|l:l,l,c)}else y!==null?(Ff(a,y.cachePool),kT(a,y),Is(),a.memoizedState=null):(r!==null&&Ff(a,null),Ig(),Is());return hn(r,a,p,l),a.child}function gc(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function D1(r,a,l,c,p){var y=Tg();return y=y===null?null:{parent:qt._currentValue,pool:y},a.memoizedState={baseLanes:l,cachePool:y},r!==null&&Ff(a,null),Ig(),VT(a),r!==null&&rl(r,a,c,!0),a.childLanes=p,null}function rd(r,a){return a=ad({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function N1(r,a,l){return $a(a,r.child,null,l),r=rd(a,a.pendingProps),r.flags|=2,Yn(a),a.memoizedState=null,r}function ik(r,a,l){var c=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,r===null){if($e){if(c.mode==="hidden")return r=rd(a,c),a.lanes=536870912,gc(null,r);if(Cg(a),(r=pt)?(r=qE(r,fi),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:_s!==null?{id:sr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},l=mT(r),l.return=a,a.child=l,un=a,pt=null)):r=null,r===null)throw Ts(a);return a.lanes=536870912,null}return rd(a,c)}var y=r.memoizedState;if(y!==null){var T=y.dehydrated;if(Cg(a),p)if(a.flags&256)a.flags&=-257,a=N1(r,a,l);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(Gt||rl(r,a,l,!1),p=(l&r.childLanes)!==0,Gt||p){if(c=ht,c!==null&&(T=Lu(c,l),T!==0&&T!==y.retryLane))throw y.retryLane=T,za(r,T),jn(c,r,T),Xg;pd(),a=N1(r,a,l)}else r=y.treeContext,pt=mi(T.nextSibling),un=a,$e=!0,bs=null,fi=!1,r!==null&&yT(a,r),a=rd(a,c),a.flags|=4096;return a}return r=Cr(r.child,{mode:c.mode,children:c.children}),r.ref=a.ref,a.child=r,r.return=a,r}function sd(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Wg(r,a,l,c,p){return qa(a),l=Ng(r,a,l,c,void 0,p),c=kg(),r!==null&&!Gt?(Vg(r,a,p),Pr(r,a,p)):($e&&c&&fg(a),a.flags|=1,hn(r,a,l,p),a.child)}function k1(r,a,l,c,p,y){return qa(a),a.updateQueue=null,l=PT(a,c,l,p),MT(r),c=kg(),r!==null&&!Gt?(Vg(r,a,y),Pr(r,a,y)):($e&&c&&fg(a),a.flags|=1,hn(r,a,l,y),a.child)}function V1(r,a,l,c,p){if(qa(a),a.stateNode===null){var y=el,T=l.contextType;typeof T=="object"&&T!==null&&(y=cn(T)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Qg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},wg(a),T=l.contextType,y.context=typeof T=="object"&&T!==null?cn(T):el,y.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&($g(a,l,T,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Qg.enqueueReplaceState(y,y.state,null),hc(a,c,y,p),cc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){y=a.stateNode;var x=a.memoizedProps,O=Ya(l,x);y.props=O;var Y=y.context,te=l.contextType;T=el,typeof te=="object"&&te!==null&&(T=cn(te));var se=l.getDerivedStateFromProps;te=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x||Y!==T)&&_1(a,y,c,T),ws=!1;var X=a.memoizedState;y.state=X,hc(a,c,y,p),cc(),Y=a.memoizedState,x||X!==Y||ws?(typeof se=="function"&&($g(a,l,se,c),Y=a.memoizedState),(O=ws||v1(a,l,O,c,X,Y,T))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Y),y.props=c,y.state=Y,y.context=T,c=O):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,Sg(r,a),T=a.memoizedProps,te=Ya(l,T),y.props=te,se=a.pendingProps,X=y.context,Y=l.contextType,O=el,typeof Y=="object"&&Y!==null&&(O=cn(Y)),x=l.getDerivedStateFromProps,(Y=typeof x=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==se||X!==O)&&_1(a,y,c,O),ws=!1,X=a.memoizedState,y.state=X,hc(a,c,y,p),cc();var Z=a.memoizedState;T!==se||X!==Z||ws||r!==null&&r.dependencies!==null&&Uf(r.dependencies)?(typeof x=="function"&&($g(a,l,x,c),Z=a.memoizedState),(te=ws||v1(a,l,te,c,X,Z,O)||r!==null&&r.dependencies!==null&&Uf(r.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Z,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Z,O)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Z),y.props=c,y.state=Z,y.context=O,c=te):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(a.flags|=1024),c=!1)}return y=c,sd(r,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&c?(a.child=$a(a,r.child,null,p),a.child=$a(a,null,l,p)):hn(r,a,l,p),a.memoizedState=y.state,r=a.child):r=Pr(r,a,p),r}function M1(r,a,l,c){return Ba(),a.flags|=256,hn(r,a,l,c),a.child}var Zg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jg(r){return{baseLanes:r,cachePool:wT()}}function ey(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=Wn),r}function P1(r,a,l){var c=a.pendingProps,p=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Nt.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,r===null){if($e){if(p?As(a):Is(),(r=pt)?(r=qE(r,fi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:_s!==null?{id:sr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},l=mT(r),l.return=a,a.child=l,un=a,pt=null)):r=null,r===null)throw Ts(a);return Oy(r)?a.lanes=32:a.lanes=536870912,null}var x=c.children;return c=c.fallback,p?(Is(),p=a.mode,x=ad({mode:"hidden",children:x},p),c=Ua(c,p,l,null),x.return=a,c.return=a,x.sibling=c,a.child=x,c=a.child,c.memoizedState=Jg(l),c.childLanes=ey(r,T,l),a.memoizedState=Zg,gc(null,c)):(As(a),ty(a,x))}var O=r.memoizedState;if(O!==null&&(x=O.dehydrated,x!==null)){if(y)a.flags&256?(As(a),a.flags&=-257,a=ny(r,a,l)):a.memoizedState!==null?(Is(),a.child=r.child,a.flags|=128,a=null):(Is(),x=c.fallback,p=a.mode,c=ad({mode:"visible",children:c.children},p),x=Ua(x,p,l,null),x.flags|=2,c.return=a,x.return=a,c.sibling=x,a.child=c,$a(a,r.child,null,l),c=a.child,c.memoizedState=Jg(l),c.childLanes=ey(r,T,l),a.memoizedState=Zg,a=gc(null,c));else if(As(a),Oy(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(i(419)),c.stack="",c.digest=T,rc({value:c,source:null,stack:null}),a=ny(r,a,l)}else if(Gt||rl(r,a,l,!1),T=(l&r.childLanes)!==0,Gt||T){if(T=ht,T!==null&&(c=Lu(T,l),c!==0&&c!==O.retryLane))throw O.retryLane=c,za(r,c),jn(T,r,c),Xg;Py(x)||pd(),a=ny(r,a,l)}else Py(x)?(a.flags|=192,a.child=r.child,a=null):(r=O.treeContext,pt=mi(x.nextSibling),un=a,$e=!0,bs=null,fi=!1,r!==null&&yT(a,r),a=ty(a,c.children),a.flags|=4096);return a}return p?(Is(),x=c.fallback,p=a.mode,O=r.child,Y=O.sibling,c=Cr(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,Y!==null?x=Cr(Y,x):(x=Ua(x,p,l,null),x.flags|=2),x.return=a,c.return=a,c.sibling=x,a.child=c,gc(null,c),c=a.child,x=r.child.memoizedState,x===null?x=Jg(l):(p=x.cachePool,p!==null?(O=qt._currentValue,p=p.parent!==O?{parent:O,pool:O}:p):p=wT(),x={baseLanes:x.baseLanes|l,cachePool:p}),c.memoizedState=x,c.childLanes=ey(r,T,l),a.memoizedState=Zg,gc(r.child,c)):(As(a),l=r.child,r=l.sibling,l=Cr(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,r!==null&&(T=a.deletions,T===null?(a.deletions=[r],a.flags|=16):T.push(r)),a.child=l,a.memoizedState=null,l)}function ty(r,a){return a=ad({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function ad(r,a){return r=$n(22,r,null,a),r.lanes=0,r}function ny(r,a,l){return $a(a,r.child,null,l),r=ty(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function O1(r,a,l){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),yg(r.return,a,l)}function iy(r,a,l,c,p,y){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p,treeForkCount:y}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=l,T.tailMode=p,T.treeForkCount=y)}function L1(r,a,l){var c=a.pendingProps,p=c.revealOrder,y=c.tail;c=c.children;var T=Nt.current,x=(T&2)!==0;if(x?(T=T&1|2,a.flags|=128):T&=1,pe(Nt,T),hn(r,a,c,l),c=$e?ic:0,!x&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&O1(r,l,a);else if(r.tag===19)O1(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(l=a.child,p=null;l!==null;)r=l.alternate,r!==null&&Qf(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),iy(a,!1,p,l,y,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&Qf(r)===null){a.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}iy(a,!0,l,null,y,c);break;case"together":iy(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Pr(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),Ds|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(rl(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=Cr(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Cr(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function ry(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Uf(r)))}function rk(r,a,l){switch(a.tag){case 3:Xt(a,a.stateNode.containerInfo),Es(a,qt,r.memoizedState.cache),Ba();break;case 27:case 5:Ta(a);break;case 4:Xt(a,a.stateNode.containerInfo);break;case 10:Es(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Cg(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(As(a),a.flags|=128,null):(l&a.child.childLanes)!==0?P1(r,a,l):(As(a),r=Pr(r,a,l),r!==null?r.sibling:null);As(a);break;case 19:var p=(r.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(rl(r,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return L1(r,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),pe(Nt,Nt.current),c)break;return null;case 22:return a.lanes=0,C1(r,a,l,a.pendingProps);case 24:Es(a,qt,r.memoizedState.cache)}return Pr(r,a,l)}function j1(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)Gt=!0;else{if(!ry(r,l)&&(a.flags&128)===0)return Gt=!1,rk(r,a,l);Gt=(r.flags&131072)!==0}else Gt=!1,$e&&(a.flags&1048576)!==0&&gT(a,ic,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(r=Ga(a.elementType),a.type=r,typeof r=="function")ug(r)?(c=Ya(r,c),a.tag=1,a=V1(null,a,r,c,l)):(a.tag=0,a=Wg(null,a,r,c,l));else{if(r!=null){var p=r.$$typeof;if(p===J){a.tag=11,a=A1(null,a,r,c,l);break e}else if(p===R){a.tag=14,a=I1(null,a,r,c,l);break e}}throw a=Ee(r)||r,Error(i(306,a,""))}}return a;case 0:return Wg(r,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=Ya(c,a.pendingProps),V1(r,a,c,p,l);case 3:e:{if(Xt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));c=a.pendingProps;var y=a.memoizedState;p=y.element,Sg(r,a),hc(a,c,null,l);var T=a.memoizedState;if(c=T.cache,Es(a,qt,c),c!==y.cache&&vg(a,[qt],l,!0),cc(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=M1(r,a,c,l);break e}else if(c!==p){p=ui(Error(i(424)),a),rc(p),a=M1(r,a,c,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(pt=mi(r.firstChild),un=a,$e=!0,bs=null,fi=!0,l=CT(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ba(),c===p){a=Pr(r,a,l);break e}hn(r,a,c,l)}a=a.child}return a;case 26:return sd(r,a),r===null?(l=YE(a.type,null,a.pendingProps,null))?a.memoizedState=l:$e||(l=a.type,r=a.pendingProps,c=Ed(Le.current).createElement(l),c[Ut]=a,c[nn]=r,fn(c,l,r),Bt(c),a.stateNode=c):a.memoizedState=YE(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ta(a),r===null&&$e&&(c=a.stateNode=KE(a.type,a.pendingProps,Le.current),un=a,fi=!0,p=pt,Ps(a.type)?(Ly=p,pt=mi(c.firstChild)):pt=p),hn(r,a,a.pendingProps.children,l),sd(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&$e&&((p=c=pt)&&(c=Mk(c,a.type,a.pendingProps,fi),c!==null?(a.stateNode=c,un=a,pt=mi(c.firstChild),fi=!1,p=!0):p=!1),p||Ts(a)),Ta(a),p=a.type,y=a.pendingProps,T=r!==null?r.memoizedProps:null,c=y.children,ky(p,y)?c=null:T!==null&&ky(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=Ng(r,a,YN,null,null,l),Nc._currentValue=p),sd(r,a),hn(r,a,c,l),a.child;case 6:return r===null&&$e&&((r=l=pt)&&(l=Pk(l,a.pendingProps,fi),l!==null?(a.stateNode=l,un=a,pt=null,r=!0):r=!1),r||Ts(a)),null;case 13:return P1(r,a,l);case 4:return Xt(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=$a(a,null,c,l):hn(r,a,c,l),a.child;case 11:return A1(r,a,a.type,a.pendingProps,l);case 7:return hn(r,a,a.pendingProps,l),a.child;case 8:return hn(r,a,a.pendingProps.children,l),a.child;case 12:return hn(r,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Es(a,a.type,c.value),hn(r,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,qa(a),p=cn(p),c=c(p),a.flags|=1,hn(r,a,c,l),a.child;case 14:return I1(r,a,a.type,a.pendingProps,l);case 15:return R1(r,a,a.type,a.pendingProps,l);case 19:return L1(r,a,l);case 31:return ik(r,a,l);case 22:return C1(r,a,l,a.pendingProps);case 24:return qa(a),c=cn(qt),r===null?(p=Tg(),p===null&&(p=ht,y=_g(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:c,cache:p},wg(a),Es(a,qt,p)):((r.lanes&l)!==0&&(Sg(r,a),hc(a,null,null,l),cc()),p=r.memoizedState,y=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Es(a,qt,c)):(c=y.cache,Es(a,qt,c),c!==p.cache&&vg(a,[qt],l,!0))),hn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Or(r){r.flags|=4}function sy(r,a,l,c,p){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(hE())r.flags|=8192;else throw Ka=Hf,Eg}else r.flags&=-16777217}function z1(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!ew(a))if(hE())r.flags|=8192;else throw Ka=Hf,Eg}function od(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?df():536870912,r.lanes|=a,gl|=a)}function yc(r,a){if(!$e)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function gt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(a)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,a}function sk(r,a,l){var c=a.pendingProps;switch(dg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(a),null;case 1:return gt(a),null;case 3:return l=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),kr(qt),yt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(il(a)?Or(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,pg())),gt(a),null;case 26:var p=a.type,y=a.memoizedState;return r===null?(Or(a),y!==null?(gt(a),z1(a,y)):(gt(a),sy(a,p,null,c,l))):y?y!==r.memoizedState?(Or(a),gt(a),z1(a,y)):(gt(a),a.flags&=-16777217):(r=r.memoizedProps,r!==c&&Or(a),gt(a),sy(a,p,r,c,l)),null;case 27:if(Po(a),l=Le.current,p=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Or(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return gt(a),null}r=ge.current,il(a)?vT(a):(r=KE(p,c,l),a.stateNode=r,Or(a))}return gt(a),null;case 5:if(Po(a),p=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Or(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return gt(a),null}if(y=ge.current,il(a))vT(a);else{var T=Ed(Le.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}y[Ut]=a,y[nn]=c;e:for(T=a.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===a)break e;for(;T.sibling===null;){if(T.return===null||T.return===a)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}a.stateNode=y;e:switch(fn(y,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Or(a)}}return gt(a),sy(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,l),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&Or(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=Le.current,il(a)){if(r=a.stateNode,l=a.memoizedProps,c=null,p=un,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[Ut]=a,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||PE(r.nodeValue,l)),r||Ts(a,!0)}else r=Ed(r).createTextNode(c),r[Ut]=a,a.stateNode=r}return gt(a),null;case 31:if(l=a.memoizedState,r===null||r.memoizedState!==null){if(c=il(a),l!==null){if(r===null){if(!c)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ut]=a}else Ba(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;gt(a),r=!1}else l=pg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return a.flags&256?(Yn(a),a):(Yn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return gt(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=il(a),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ut]=a}else Ba(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;gt(a),p=!1}else p=pg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Yn(a),a):(Yn(a),null)}return Yn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)),l!==r&&l&&(a.child.flags|=8192),od(a,a.updateQueue),gt(a),null);case 4:return yt(),r===null&&Iy(a.stateNode.containerInfo),gt(a),null;case 10:return kr(a.type),gt(a),null;case 19:if(oe(Nt),c=a.memoizedState,c===null)return gt(a),null;if(p=(a.flags&128)!==0,y=c.rendering,y===null)if(p)yc(c,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Qf(r),y!==null){for(a.flags|=128,yc(c,!1),r=y.updateQueue,a.updateQueue=r,od(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)dT(l,r),l=l.sibling;return pe(Nt,Nt.current&1|2),$e&&Dr(a,c.treeForkCount),a.child}r=r.sibling}c.tail!==null&&An()>fd&&(a.flags|=128,p=!0,yc(c,!1),a.lanes=4194304)}else{if(!p)if(r=Qf(y),r!==null){if(a.flags|=128,p=!0,r=r.updateQueue,a.updateQueue=r,od(a,r),yc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!$e)return gt(a),null}else 2*An()-c.renderingStartTime>fd&&l!==536870912&&(a.flags|=128,p=!0,yc(c,!1),a.lanes=4194304);c.isBackwards?(y.sibling=a.child,a.child=y):(r=c.last,r!==null?r.sibling=y:a.child=y,c.last=y)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=An(),r.sibling=null,l=Nt.current,pe(Nt,p?l&1|2:l&1),$e&&Dr(a,c.treeForkCount),r):(gt(a),null);case 22:case 23:return Yn(a),Rg(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(gt(a),a.subtreeFlags&6&&(a.flags|=8192)):gt(a),l=a.updateQueue,l!==null&&od(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),r!==null&&oe(Ha),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),kr(qt),gt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function ak(r,a){switch(dg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return kr(qt),yt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Po(a),null;case 31:if(a.memoizedState!==null){if(Yn(a),a.alternate===null)throw Error(i(340));Ba()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(Yn(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ba()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return oe(Nt),null;case 4:return yt(),null;case 10:return kr(a.type),null;case 22:case 23:return Yn(a),Rg(),r!==null&&oe(Ha),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return kr(qt),null;case 25:return null;default:return null}}function U1(r,a){switch(dg(a),a.tag){case 3:kr(qt),yt();break;case 26:case 27:case 5:Po(a);break;case 4:yt();break;case 31:a.memoizedState!==null&&Yn(a);break;case 13:Yn(a);break;case 19:oe(Nt);break;case 10:kr(a.type);break;case 22:case 23:Yn(a),Rg(),r!==null&&oe(Ha);break;case 24:kr(qt)}}function vc(r,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==p)}}catch(x){rt(a,a.return,x)}}function Rs(r,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&r)===r){var T=c.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,p=a;var O=l,Y=x;try{Y()}catch(te){rt(p,O,te)}}}c=c.next}while(c!==y)}}catch(te){rt(a,a.return,te)}}function B1(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{NT(a,l)}catch(c){rt(r,r.return,c)}}}function F1(r,a,l){l.props=Ya(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){rt(r,a,c)}}function _c(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(p){rt(r,a,p)}}function or(r,a){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){rt(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){rt(r,a,p)}else l.current=null}function q1(r){var a=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){rt(r,r.return,p)}}function ay(r,a,l){try{var c=r.stateNode;Rk(c,r.type,l,a),c[nn]=a}catch(p){rt(r,r.return,p)}}function H1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ps(r.type)||r.tag===4}function oy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||H1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ps(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ly(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Ii));else if(c!==4&&(c===27&&Ps(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(ly(r,a,l),r=r.sibling;r!==null;)ly(r,a,l),r=r.sibling}function ld(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(c!==4&&(c===27&&Ps(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(ld(r,a,l),r=r.sibling;r!==null;)ld(r,a,l),r=r.sibling}function G1(r){var a=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);fn(a,c,l),a[Ut]=r,a[nn]=l}catch(y){rt(r,r.return,y)}}var Lr=!1,Kt=!1,uy=!1,K1=typeof WeakSet=="function"?WeakSet:Set,sn=null;function ok(r,a){if(r=r.containerInfo,Dy=Cd,r=rT(r),ng(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,x=-1,O=-1,Y=0,te=0,se=r,X=null;t:for(;;){for(var Z;se!==l||p!==0&&se.nodeType!==3||(x=T+p),se!==y||c!==0&&se.nodeType!==3||(O=T+c),se.nodeType===3&&(T+=se.nodeValue.length),(Z=se.firstChild)!==null;)X=se,se=Z;for(;;){if(se===r)break t;if(X===l&&++Y===p&&(x=T),X===y&&++te===c&&(O=T),(Z=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=Z}l=x===-1||O===-1?null:{start:x,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ny={focusedElem:r,selectionRange:l},Cd=!1,sn=a;sn!==null;)if(a=sn,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,sn=r;else for(;sn!==null;){switch(a=sn,y=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)p=r[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var ve=Ya(l.type,p);r=c.getSnapshotBeforeUpdate(ve,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ae){rt(l,l.return,Ae)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)My(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":My(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,sn=r;break}sn=a.return}}function $1(r,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:zr(r,l),c&4&&vc(5,l);break;case 1:if(zr(r,l),c&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(T){rt(l,l.return,T)}else{var p=Ya(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(T){rt(l,l.return,T)}}c&64&&B1(l),c&512&&_c(l,l.return);break;case 3:if(zr(r,l),c&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{NT(r,a)}catch(T){rt(l,l.return,T)}}break;case 27:a===null&&c&4&&G1(l);case 26:case 5:zr(r,l),a===null&&c&4&&q1(l),c&512&&_c(l,l.return);break;case 12:zr(r,l);break;case 31:zr(r,l),c&4&&X1(r,l);break;case 13:zr(r,l),c&4&&W1(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=gk.bind(null,l),Ok(r,l))));break;case 22:if(c=l.memoizedState!==null||Lr,!c){a=a!==null&&a.memoizedState!==null||Kt,p=Lr;var y=Kt;Lr=c,(Kt=a)&&!y?Ur(r,l,(l.subtreeFlags&8772)!==0):zr(r,l),Lr=p,Kt=y}break;case 30:break;default:zr(r,l)}}function Q1(r){var a=r.alternate;a!==null&&(r.alternate=null,Q1(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Uo(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,Mn=!1;function jr(r,a,l){for(l=l.child;l!==null;)Y1(r,a,l),l=l.sibling}function Y1(r,a,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(wi,l)}catch{}switch(l.tag){case 26:Kt||or(l,a),jr(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Kt||or(l,a);var c=_t,p=Mn;Ps(l.type)&&(_t=l.stateNode,Mn=!1),jr(r,a,l),Rc(l.stateNode),_t=c,Mn=p;break;case 5:Kt||or(l,a);case 6:if(c=_t,p=Mn,_t=null,jr(r,a,l),_t=c,Mn=p,_t!==null)if(Mn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(l.stateNode)}catch(y){rt(l,a,y)}else try{_t.removeChild(l.stateNode)}catch(y){rt(l,a,y)}break;case 18:_t!==null&&(Mn?(r=_t,BE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Sl(r)):BE(_t,l.stateNode));break;case 4:c=_t,p=Mn,_t=l.stateNode.containerInfo,Mn=!0,jr(r,a,l),_t=c,Mn=p;break;case 0:case 11:case 14:case 15:Rs(2,l,a),Kt||Rs(4,l,a),jr(r,a,l);break;case 1:Kt||(or(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&F1(l,a,c)),jr(r,a,l);break;case 21:jr(r,a,l);break;case 22:Kt=(c=Kt)||l.memoizedState!==null,jr(r,a,l),Kt=c;break;default:jr(r,a,l)}}function X1(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Sl(r)}catch(l){rt(a,a.return,l)}}}function W1(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Sl(r)}catch(l){rt(a,a.return,l)}}function lk(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new K1),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new K1),a;default:throw Error(i(435,r.tag))}}function ud(r,a){var l=lk(r);a.forEach(function(c){if(!l.has(c)){l.add(c);var p=yk.bind(null,r,c);c.then(p,p)}})}function Pn(r,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=r,T=a,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(Ps(x.type)){_t=x.stateNode,Mn=!1;break e}break;case 5:_t=x.stateNode,Mn=!1;break e;case 3:case 4:_t=x.stateNode.containerInfo,Mn=!0;break e}x=x.return}if(_t===null)throw Error(i(160));Y1(y,T,p),_t=null,Mn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Z1(a,r),a=a.sibling}var Vi=null;function Z1(r,a){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Pn(a,r),On(r),c&4&&(Rs(3,r,r.return),vc(3,r),Rs(5,r,r.return));break;case 1:Pn(a,r),On(r),c&512&&(Kt||l===null||or(l,l.return)),c&64&&Lr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Vi;if(Pn(a,r),On(r),c&512&&(Kt||l===null||or(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[$i]||y[Ut]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),fn(y,c,l),y[Ut]=r,Bt(y),c=y;break e;case"link":var T=ZE("link","href",p).get(c+(l.href||""));if(T){for(var x=0;x<T.length;x++)if(y=T[x],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(x,1);break t}}y=p.createElement(c),fn(y,c,l),p.head.appendChild(y);break;case"meta":if(T=ZE("meta","content",p).get(c+(l.content||""))){for(x=0;x<T.length;x++)if(y=T[x],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(x,1);break t}}y=p.createElement(c),fn(y,c,l),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[Ut]=r,Bt(y),c=y}r.stateNode=c}else JE(p,r.type,r.stateNode);else r.stateNode=WE(p,c,r.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?JE(p,r.type,r.stateNode):WE(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&ay(r,r.memoizedProps,l.memoizedProps)}break;case 27:Pn(a,r),On(r),c&512&&(Kt||l===null||or(l,l.return)),l!==null&&c&4&&ay(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Pn(a,r),On(r),c&512&&(Kt||l===null||or(l,l.return)),r.flags&32){p=r.stateNode;try{Vn(p,"")}catch(ve){rt(r,r.return,ve)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,ay(r,p,l!==null?l.memoizedProps:p)),c&1024&&(uy=!0);break;case 6:if(Pn(a,r),On(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(ve){rt(r,r.return,ve)}}break;case 3:if(xd=null,p=Vi,Vi=wd(a.containerInfo),Pn(a,r),Vi=p,On(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Sl(a.containerInfo)}catch(ve){rt(r,r.return,ve)}uy&&(uy=!1,J1(r));break;case 4:c=Vi,Vi=wd(r.stateNode.containerInfo),Pn(a,r),On(r),Vi=c;break;case 12:Pn(a,r),On(r);break;case 31:Pn(a,r),On(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,ud(r,c)));break;case 13:Pn(a,r),On(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(hd=An()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,ud(r,c)));break;case 22:p=r.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,Y=Lr,te=Kt;if(Lr=Y||p,Kt=te||O,Pn(a,r),Kt=te,Lr=Y,On(r),c&8192)e:for(a=r.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||O||Lr||Kt||Xa(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){O=l=a;try{if(y=O.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=O.stateNode;var se=O.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;x.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ve){rt(O,O.return,ve)}}}else if(a.tag===6){if(l===null){O=a;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(ve){rt(O,O.return,ve)}}}else if(a.tag===18){if(l===null){O=a;try{var Z=O.stateNode;p?FE(Z,!0):FE(O.stateNode,!1)}catch(ve){rt(O,O.return,ve)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,ud(r,l))));break;case 19:Pn(a,r),On(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,ud(r,c)));break;case 30:break;case 21:break;default:Pn(a,r),On(r)}}function On(r){var a=r.flags;if(a&2){try{for(var l,c=r.return;c!==null;){if(H1(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=oy(r);ld(r,y,p);break;case 5:var T=l.stateNode;l.flags&32&&(Vn(T,""),l.flags&=-33);var x=oy(r);ld(r,x,T);break;case 3:case 4:var O=l.stateNode.containerInfo,Y=oy(r);ly(r,Y,O);break;default:throw Error(i(161))}}catch(te){rt(r,r.return,te)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function J1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;J1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function zr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)$1(r,a.alternate,a),a=a.sibling}function Xa(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Rs(4,a,a.return),Xa(a);break;case 1:or(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&F1(a,a.return,l),Xa(a);break;case 27:Rc(a.stateNode);case 26:case 5:or(a,a.return),Xa(a);break;case 22:a.memoizedState===null&&Xa(a);break;case 30:Xa(a);break;default:Xa(a)}r=r.sibling}}function Ur(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=r,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:Ur(p,y,l),vc(4,y);break;case 1:if(Ur(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){rt(c,c.return,Y)}if(c=y,p=c.updateQueue,p!==null){var x=c.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)DT(O[p],x)}catch(Y){rt(c,c.return,Y)}}l&&T&64&&B1(y),_c(y,y.return);break;case 27:G1(y);case 26:case 5:Ur(p,y,l),l&&c===null&&T&4&&q1(y),_c(y,y.return);break;case 12:Ur(p,y,l);break;case 31:Ur(p,y,l),l&&T&4&&X1(p,y);break;case 13:Ur(p,y,l),l&&T&4&&W1(p,y);break;case 22:y.memoizedState===null&&Ur(p,y,l),_c(y,y.return);break;case 30:break;default:Ur(p,y,l)}a=a.sibling}}function cy(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&sc(l))}function hy(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&sc(r))}function Mi(r,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)eE(r,a,l,c),a=a.sibling}function eE(r,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(r,a,l,c),p&2048&&vc(9,a);break;case 1:Mi(r,a,l,c);break;case 3:Mi(r,a,l,c),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&sc(r)));break;case 12:if(p&2048){Mi(r,a,l,c),r=a.stateNode;try{var y=a.memoizedProps,T=y.id,x=y.onPostCommit;typeof x=="function"&&x(T,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){rt(a,a.return,O)}}else Mi(r,a,l,c);break;case 31:Mi(r,a,l,c);break;case 13:Mi(r,a,l,c);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?Mi(r,a,l,c):bc(r,a):y._visibility&2?Mi(r,a,l,c):(y._visibility|=2,dl(r,a,l,c,(a.subtreeFlags&10256)!==0||!1)),p&2048&&cy(T,a);break;case 24:Mi(r,a,l,c),p&2048&&hy(a.alternate,a);break;default:Mi(r,a,l,c)}}function dl(r,a,l,c,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=r,T=a,x=l,O=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:dl(y,T,x,O,p),vc(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?dl(y,T,x,O,p):bc(y,T):(te._visibility|=2,dl(y,T,x,O,p)),p&&Y&2048&&cy(T.alternate,T);break;case 24:dl(y,T,x,O,p),p&&Y&2048&&hy(T.alternate,T);break;default:dl(y,T,x,O,p)}a=a.sibling}}function bc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,c=a,p=c.flags;switch(c.tag){case 22:bc(l,c),p&2048&&cy(c.alternate,c);break;case 24:bc(l,c),p&2048&&hy(c.alternate,c);break;default:bc(l,c)}a=a.sibling}}var Tc=8192;function ml(r,a,l){if(r.subtreeFlags&Tc)for(r=r.child;r!==null;)tE(r,a,l),r=r.sibling}function tE(r,a,l){switch(r.tag){case 26:ml(r,a,l),r.flags&Tc&&r.memoizedState!==null&&Qk(l,Vi,r.memoizedState,r.memoizedProps);break;case 5:ml(r,a,l);break;case 3:case 4:var c=Vi;Vi=wd(r.stateNode.containerInfo),ml(r,a,l),Vi=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=Tc,Tc=16777216,ml(r,a,l),Tc=c):ml(r,a,l));break;default:ml(r,a,l)}}function nE(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Ec(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];sn=c,rE(c,r)}nE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)iE(r),r=r.sibling}function iE(r){switch(r.tag){case 0:case 11:case 15:Ec(r),r.flags&2048&&Rs(9,r,r.return);break;case 3:Ec(r);break;case 12:Ec(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,cd(r)):Ec(r);break;default:Ec(r)}}function cd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];sn=c,rE(c,r)}nE(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Rs(8,a,a.return),cd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,cd(a));break;default:cd(a)}r=r.sibling}}function rE(r,a){for(;sn!==null;){var l=sn;switch(l.tag){case 0:case 11:case 15:Rs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:sc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,sn=c;else e:for(l=r;sn!==null;){c=sn;var p=c.sibling,y=c.return;if(Q1(c),c===l){sn=null;break e}if(p!==null){p.return=y,sn=p;break e}sn=y}}}var uk={getCacheForType:function(r){var a=cn(qt),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l},cacheSignal:function(){return cn(qt).controller.signal}},ck=typeof WeakMap=="function"?WeakMap:Map,Je=0,ht=null,Ue=null,qe=0,it=0,Xn=null,Cs=!1,pl=!1,fy=!1,Br=0,At=0,Ds=0,Wa=0,dy=0,Wn=0,gl=0,wc=null,Ln=null,my=!1,hd=0,sE=0,fd=1/0,dd=null,Ns=null,Zt=0,ks=null,yl=null,Fr=0,py=0,gy=null,aE=null,Sc=0,yy=null;function Zn(){return(Je&2)!==0&&qe!==0?qe&-qe:H.T!==null?wy():mf()}function oE(){if(Wn===0)if((qe&536870912)===0||$e){var r=Sa;Sa<<=1,(Sa&3932160)===0&&(Sa=262144),Wn=r}else Wn=536870912;return r=Qn.current,r!==null&&(r.flags|=32),Wn}function jn(r,a,l){(r===ht&&(it===2||it===9)||r.cancelPendingCommit!==null)&&(vl(r,0),Vs(r,qe,Wn,!1)),xa(r,l),((Je&2)===0||r!==ht)&&(r===ht&&((Je&2)===0&&(Wa|=l),At===4&&Vs(r,qe,Wn,!1)),lr(r))}function lE(r,a,l){if((Je&6)!==0)throw Error(i(327));var c=!l&&(a&127)===0&&(a&r.expiredLanes)===0||Si(r,a),p=c?dk(r,a):_y(r,a,!0),y=c;do{if(p===0){pl&&!c&&Vs(r,a,0,!1);break}else{if(l=r.current.alternate,y&&!hk(l)){p=_y(r,a,!1),y=!1;continue}if(p===2){if(y=a,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var x=r;p=wc;var O=x.current.memoizedState.isDehydrated;if(O&&(vl(x,T).flags|=256),T=_y(x,T,!1),T!==2){if(fy&&!O){x.errorRecoveryDisabledLanes|=y,Wa|=y,p=4;break e}y=Ln,Ln=p,y!==null&&(Ln===null?Ln=y:Ln.push.apply(Ln,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){vl(r,0),Vs(r,a,0,!0);break}e:{switch(c=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Vs(c,a,Wn,!Cs);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=hd+300-An(),10<p)){if(Vs(c,a,Wn,!Cs),Hi(c,0,!0)!==0)break e;Fr=a,c.timeoutHandle=zE(uE.bind(null,c,l,Ln,dd,my,a,Wn,Wa,gl,Cs,y,"Throttled",-0,0),p);break e}uE(c,l,Ln,dd,my,a,Wn,Wa,gl,Cs,y,null,-0,0)}}break}while(!0);lr(r)}function uE(r,a,l,c,p,y,T,x,O,Y,te,se,X,Z){if(r.timeoutHandle=-1,se=a.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ii},tE(a,y,se);var ve=(y&62914560)===y?hd-An():(y&4194048)===y?sE-An():0;if(ve=Yk(se,ve),ve!==null){Fr=y,r.cancelPendingCommit=ve(yE.bind(null,r,a,y,l,c,p,T,x,O,te,se,null,X,Z)),Vs(r,y,T,!Y);return}}yE(r,a,y,l,c,p,T,x,O)}function hk(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!Kn(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Vs(r,a,l,c){a&=~dy,a&=~Wa,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var p=a;0<p;){var y=31-Ct(p),T=1<<y;c[y]=-1,p&=~T}l!==0&&Aa(r,l,a)}function md(){return(Je&6)===0?(xc(0),!1):!0}function vy(){if(Ue!==null){if(it===0)var r=Ue.return;else r=Ue,Nr=Fa=null,Mg(r),ll=null,oc=0,r=Ue;for(;r!==null;)U1(r.alternate,r),r=r.return;Ue=null}}function vl(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,Nk(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Fr=0,vy(),ht=r,Ue=l=Cr(r.current,null),qe=a,it=0,Xn=null,Cs=!1,pl=Si(r,a),fy=!1,gl=Wn=dy=Wa=Ds=At=0,Ln=wc=null,my=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var p=31-Ct(c),y=1<<p;a|=r[p],c&=~y}return Br=a,Pf(),l}function cE(r,a){Oe=null,H.H=pc,a===ol||a===qf?(a=AT(),it=3):a===Eg?(a=AT(),it=4):it=a===Xg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Xn=a,Ue===null&&(At=1,id(r,ui(a,r.current)))}function hE(){var r=Qn.current;return r===null?!0:(qe&4194048)===qe?di===null:(qe&62914560)===qe||(qe&536870912)!==0?r===di:!1}function fE(){var r=H.H;return H.H=pc,r===null?pc:r}function dE(){var r=H.A;return H.A=uk,r}function pd(){At=4,Cs||(qe&4194048)!==qe&&Qn.current!==null||(pl=!0),(Ds&134217727)===0&&(Wa&134217727)===0||ht===null||Vs(ht,qe,Wn,!1)}function _y(r,a,l){var c=Je;Je|=2;var p=fE(),y=dE();(ht!==r||qe!==a)&&(dd=null,vl(r,a)),a=!1;var T=At;e:do try{if(it!==0&&Ue!==null){var x=Ue,O=Xn;switch(it){case 8:vy(),T=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(a=!0);var Y=it;if(it=0,Xn=null,_l(r,x,O,Y),l&&pl){T=0;break e}break;default:Y=it,it=0,Xn=null,_l(r,x,O,Y)}}fk(),T=At;break}catch(te){cE(r,te)}while(!0);return a&&r.shellSuspendCounter++,Nr=Fa=null,Je=c,H.H=p,H.A=y,Ue===null&&(ht=null,qe=0,Pf()),T}function fk(){for(;Ue!==null;)mE(Ue)}function dk(r,a){var l=Je;Je|=2;var c=fE(),p=dE();ht!==r||qe!==a?(dd=null,fd=An()+500,vl(r,a)):pl=Si(r,a);e:do try{if(it!==0&&Ue!==null){a=Ue;var y=Xn;t:switch(it){case 1:it=0,Xn=null,_l(r,a,y,1);break;case 2:case 9:if(ST(y)){it=0,Xn=null,pE(a);break}a=function(){it!==2&&it!==9||ht!==r||(it=7),lr(r)},y.then(a,a);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:ST(y)?(it=0,Xn=null,pE(a)):(it=0,Xn=null,_l(r,a,y,7));break;case 5:var T=null;switch(Ue.tag){case 26:T=Ue.memoizedState;case 5:case 27:var x=Ue;if(T?ew(T):x.stateNode.complete){it=0,Xn=null;var O=x.sibling;if(O!==null)Ue=O;else{var Y=x.return;Y!==null?(Ue=Y,gd(Y)):Ue=null}break t}}it=0,Xn=null,_l(r,a,y,5);break;case 6:it=0,Xn=null,_l(r,a,y,6);break;case 8:vy(),At=6;break e;default:throw Error(i(462))}}mk();break}catch(te){cE(r,te)}while(!0);return Nr=Fa=null,H.H=c,H.A=p,Je=l,Ue!==null?0:(ht=null,qe=0,Pf(),At)}function mk(){for(;Ue!==null&&!Yp();)mE(Ue)}function mE(r){var a=j1(r.alternate,r,Br);r.memoizedProps=r.pendingProps,a===null?gd(r):Ue=a}function pE(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=k1(l,a,a.pendingProps,a.type,void 0,qe);break;case 11:a=k1(l,a,a.pendingProps,a.type.render,a.ref,qe);break;case 5:Mg(a);default:U1(l,a),a=Ue=dT(a,Br),a=j1(l,a,Br)}r.memoizedProps=r.pendingProps,a===null?gd(r):Ue=a}function _l(r,a,l,c){Nr=Fa=null,Mg(a),ll=null,oc=0;var p=a.return;try{if(nk(r,p,a,l,qe)){At=1,id(r,ui(l,r.current)),Ue=null;return}}catch(y){if(p!==null)throw Ue=p,y;At=1,id(r,ui(l,r.current)),Ue=null;return}a.flags&32768?($e||c===1?r=!0:pl||(qe&536870912)!==0?r=!1:(Cs=r=!0,(c===2||c===9||c===3||c===6)&&(c=Qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),gE(a,r)):gd(a)}function gd(r){var a=r;do{if((a.flags&32768)!==0){gE(a,Cs);return}r=a.return;var l=sk(a.alternate,a,Br);if(l!==null){Ue=l;return}if(a=a.sibling,a!==null){Ue=a;return}Ue=a=r}while(a!==null);At===0&&(At=5)}function gE(r,a){do{var l=ak(r.alternate,r);if(l!==null){l.flags&=32767,Ue=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=l}while(r!==null);At=6,Ue=null}function yE(r,a,l,c,p,y,T,x,O){r.cancelPendingCommit=null;do yd();while(Zt!==0);if((Je&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=og,Zp(r,l,y,T,x,O),r===ht&&(Ue=ht=null,qe=0),yl=a,ks=r,Fr=l,py=y,gy=p,aE=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,vk(us,function(){return EE(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,p=ae.p,ae.p=2,T=Je,Je|=4;try{ok(r,a,l)}finally{Je=T,ae.p=p,H.T=c}}Zt=1,vE(),_E(),bE()}}function vE(){if(Zt===1){Zt=0;var r=ks,a=yl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var c=ae.p;ae.p=2;var p=Je;Je|=4;try{Z1(a,r);var y=Ny,T=rT(r.containerInfo),x=y.focusedElem,O=y.selectionRange;if(T!==x&&x&&x.ownerDocument&&iT(x.ownerDocument.documentElement,x)){if(O!==null&&ng(x)){var Y=O.start,te=O.end;if(te===void 0&&(te=Y),"selectionStart"in x)x.selectionStart=Y,x.selectionEnd=Math.min(te,x.value.length);else{var se=x.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var Z=X.getSelection(),ve=x.textContent.length,Ae=Math.min(O.start,ve),ct=O.end===void 0?Ae:Math.min(O.end,ve);!Z.extend&&Ae>ct&&(T=ct,ct=Ae,Ae=T);var G=nT(x,Ae),B=nT(x,ct);if(G&&B&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==B.node||Z.focusOffset!==B.offset)){var Q=se.createRange();Q.setStart(G.node,G.offset),Z.removeAllRanges(),Ae>ct?(Z.addRange(Q),Z.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),Z.addRange(Q))}}}}for(se=[],Z=x;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<se.length;x++){var ie=se[x];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Cd=!!Dy,Ny=Dy=null}finally{Je=p,ae.p=c,H.T=l}}r.current=a,Zt=2}}function _E(){if(Zt===2){Zt=0;var r=ks,a=yl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var c=ae.p;ae.p=2;var p=Je;Je|=4;try{$1(r,a.alternate,a)}finally{Je=p,ae.p=c,H.T=l}}Zt=3}}function bE(){if(Zt===4||Zt===3){Zt=0,of();var r=ks,a=yl,l=Fr,c=aE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Zt=5:(Zt=0,yl=ks=null,TE(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Ns=null),xr(l),a=a.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(wi,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=H.T,p=ae.p,ae.p=2,H.T=null;try{for(var y=r.onRecoverableError,T=0;T<c.length;T++){var x=c[T];y(x.value,{componentStack:x.stack})}}finally{H.T=a,ae.p=p}}(Fr&3)!==0&&yd(),lr(r),p=r.pendingLanes,(l&261930)!==0&&(p&42)!==0?r===yy?Sc++:(Sc=0,yy=r):Sc=0,xc(0)}}function TE(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,sc(a)))}function yd(){return vE(),_E(),bE(),EE()}function EE(){if(Zt!==5)return!1;var r=ks,a=py;py=0;var l=xr(Fr),c=H.T,p=ae.p;try{ae.p=32>l?32:l,H.T=null,l=gy,gy=null;var y=ks,T=Fr;if(Zt=0,yl=ks=null,Fr=0,(Je&6)!==0)throw Error(i(331));var x=Je;if(Je|=4,iE(y.current),eE(y,y.current,T,l),Je=x,xc(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(wi,y)}catch{}return!0}finally{ae.p=p,H.T=c,TE(r,a)}}function wE(r,a,l){a=ui(l,a),a=Yg(r.stateNode,a,2),r=xs(r,a,2),r!==null&&(xa(r,2),lr(r))}function rt(r,a,l){if(r.tag===3)wE(r,r,l);else for(;a!==null;){if(a.tag===3){wE(a,r,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ns===null||!Ns.has(c))){r=ui(l,r),l=S1(2),c=xs(a,l,2),c!==null&&(x1(l,c,a,r),xa(c,2),lr(c));break}}a=a.return}}function by(r,a,l){var c=r.pingCache;if(c===null){c=r.pingCache=new ck;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(fy=!0,p.add(l),r=pk.bind(null,r,a,l),a.then(r,r))}function pk(r,a,l){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,ht===r&&(qe&l)===l&&(At===4||At===3&&(qe&62914560)===qe&&300>An()-hd?(Je&2)===0&&vl(r,0):dy|=l,gl===qe&&(gl=0)),lr(r)}function SE(r,a){a===0&&(a=df()),r=za(r,a),r!==null&&(xa(r,a),lr(r))}function gk(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),SE(r,l)}function yk(r,a){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),SE(r,l)}function vk(r,a){return Wt(r,a)}var vd=null,bl=null,Ty=!1,_d=!1,Ey=!1,Ms=0;function lr(r){r!==bl&&r.next===null&&(bl===null?vd=bl=r:bl=bl.next=r),_d=!0,Ty||(Ty=!0,bk())}function xc(r,a){if(!Ey&&_d){Ey=!0;do for(var l=!1,c=vd;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var T=c.suspendedLanes,x=c.pingedLanes;y=(1<<31-Ct(42|r)+1)-1,y&=p&~(T&~x),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,RE(c,y))}else y=qe,y=Hi(c,c===ht?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Si(c,y)||(l=!0,RE(c,y));c=c.next}while(l);Ey=!1}}function _k(){xE()}function xE(){_d=Ty=!1;var r=0;Ms!==0&&Dk()&&(r=Ms);for(var a=An(),l=null,c=vd;c!==null;){var p=c.next,y=AE(c,a);y===0?(c.next=null,l===null?vd=p:l.next=p,p===null&&(bl=l)):(l=c,(r!==0||(y&3)!==0)&&(_d=!0)),c=p}Zt!==0&&Zt!==5||xc(r),Ms!==0&&(Ms=0)}function AE(r,a){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-Ct(y),x=1<<T,O=p[T];O===-1?((x&l)===0||(x&c)!==0)&&(p[T]=Wp(x,a)):O<=a&&(r.expiredLanes|=x),y&=~x}if(a=ht,l=qe,l=Hi(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===a&&(it===2||it===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&ls(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Si(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(c!==null&&ls(c),xr(l)){case 2:case 8:l=Pu;break;case 32:l=us;break;case 268435456:l=lf;break;default:l=us}return c=IE.bind(null,r),l=Wt(l,c),r.callbackPriority=a,r.callbackNode=l,a}return c!==null&&c!==null&&ls(c),r.callbackPriority=2,r.callbackNode=null,2}function IE(r,a){if(Zt!==0&&Zt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(yd()&&r.callbackNode!==l)return null;var c=qe;return c=Hi(r,r===ht?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(lE(r,c,a),AE(r,An()),r.callbackNode!=null&&r.callbackNode===l?IE.bind(null,r):null)}function RE(r,a){if(yd())return null;lE(r,a,!0)}function bk(){kk(function(){(Je&6)!==0?Wt(Mu,_k):xE()})}function wy(){if(Ms===0){var r=sl;r===0&&(r=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),Ms=r}return Ms}function CE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ho(""+r)}function DE(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function Tk(r,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var y=CE((p[nn]||null).action),T=c.submitter;T&&(a=(a=T[nn]||null)?CE(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var x=new tr("action","action",null,c,p);r.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ms!==0){var O=T?DE(p,T):new FormData(p);qg(l,{pending:!0,data:O,method:p.method,action:y},null,O)}}else typeof y=="function"&&(x.preventDefault(),O=T?DE(p,T):new FormData(p),qg(l,{pending:!0,data:O,method:p.method,action:y},y,O))},currentTarget:p}]})}}for(var Sy=0;Sy<ag.length;Sy++){var xy=ag[Sy],Ek=xy.toLowerCase(),wk=xy[0].toUpperCase()+xy.slice(1);ki(Ek,"on"+wk)}ki(oT,"onAnimationEnd"),ki(lT,"onAnimationIteration"),ki(uT,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(zN,"onTransitionRun"),ki(UN,"onTransitionStart"),ki(BN,"onTransitionCancel"),ki(cT,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ac));function NE(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var T=c.length-1;0<=T;T--){var x=c[T],O=x.instance,Y=x.currentTarget;if(x=x.listener,O!==y&&p.isPropagationStopped())break e;y=x,p.currentTarget=Y;try{y(p)}catch(te){Mf(te)}p.currentTarget=null,y=O}else for(T=0;T<c.length;T++){if(x=c[T],O=x.instance,Y=x.currentTarget,x=x.listener,O!==y&&p.isPropagationStopped())break e;y=x,p.currentTarget=Y;try{y(p)}catch(te){Mf(te)}p.currentTarget=null,y=O}}}}function Be(r,a){var l=a[zo];l===void 0&&(l=a[zo]=new Set);var c=r+"__bubble";l.has(c)||(kE(a,r,2,!1),l.add(c))}function Ay(r,a,l){var c=0;a&&(c|=4),kE(l,r,c,a)}var bd="_reactListening"+Math.random().toString(36).slice(2);function Iy(r){if(!r[bd]){r[bd]=!0,ju.forEach(function(l){l!=="selectionchange"&&(Sk.has(l)||Ay(l,!1,r),Ay(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[bd]||(a[bd]=!0,Ay("selectionchange",!1,a))}}function kE(r,a,l,c){switch(ow(a)){case 2:var p=Zk;break;case 8:p=Jk;break;default:p=Fy}l=p.bind(null,a,l,r),p=void 0,!Na||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(a,l,{capture:!0,passive:p}):r.addEventListener(a,l,!0):p!==void 0?r.addEventListener(a,l,{passive:p}):r.addEventListener(a,l,!1)}function Ry(r,a,l,c,p){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var x=c.stateNode.containerInfo;if(x===p)break;if(T===4)for(T=c.return;T!==null;){var O=T.tag;if((O===3||O===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;x!==null;){if(T=Qi(x),T===null)return;if(O=T.tag,O===5||O===6||O===26||O===27){c=y=T;continue e}x=x.parentNode}}c=c.return}ps(function(){var Y=y,te=si(l),se=[];e:{var X=hT.get(r);if(X!==void 0){var Z=tr,ve=r;switch(r){case"keypress":if(Va(l)===0)break e;case"keydown":case"keyup":Z=Nf;break;case"focusin":ve="focus",Z=Pa;break;case"focusout":ve="blur",Z=Pa;break;case"beforeblur":case"afterblur":Z=Pa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=b;break;case oT:case lT:case uT:Z=Sf;break;case cT:Z=I;break;case"scroll":case"scrollend":Z=Xu;break;case"wheel":Z=W;break;case"copy":case"cut":case"paste":Z=xf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Rr;break;case"toggle":case"beforetoggle":Z=Pe}var Ae=(a&4)!==0,ct=!Ae&&(r==="scroll"||r==="scrollend"),G=Ae?X!==null?X+"Capture":null:X;Ae=[];for(var B=Y,Q;B!==null;){var ie=B;if(Q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Q===null||G===null||(ie=Ri(B,G),ie!=null&&Ae.push(Ic(B,ie,Q))),ct)break;B=B.return}0<Ae.length&&(X=new Z(X,ve,null,l,te),se.push({event:X,listeners:Ae}))}}if((a&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",X&&l!==$u&&(ve=l.relatedTarget||l.fromElement)&&(Qi(ve)||ve[Ki]))break e;if((Z||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(ve=l.relatedTarget||l.toElement,Z=Y,ve=ve?Qi(ve):null,ve!==null&&(ct=o(ve),Ae=ve.tag,ve!==ct||Ae!==5&&Ae!==27&&Ae!==6)&&(ve=null)):(Z=null,ve=Y),Z!==ve)){if(Ae=Wu,ie="onMouseLeave",G="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=Rr,ie="onPointerLeave",G="onPointerEnter",B="pointer"),ct=Z==null?X:Hn(Z),Q=ve==null?X:Hn(ve),X=new Ae(ie,B+"leave",Z,l,te),X.target=ct,X.relatedTarget=Q,ie=null,Qi(te)===Y&&(Ae=new Ae(G,B+"enter",ve,l,te),Ae.target=Q,Ae.relatedTarget=ct,ie=Ae),ct=ie,Z&&ve)t:{for(Ae=xk,G=Z,B=ve,Q=0,ie=G;ie;ie=Ae(ie))Q++;ie=0;for(var Se=B;Se;Se=Ae(Se))ie++;for(;0<Q-ie;)G=Ae(G),Q--;for(;0<ie-Q;)B=Ae(B),ie--;for(;Q--;){if(G===B||B!==null&&G===B.alternate){Ae=G;break t}G=Ae(G),B=Ae(B)}Ae=null}else Ae=null;Z!==null&&VE(se,X,Z,Ae,!1),ve!==null&&ct!==null&&VE(se,ct,ve,Ae,!0)}}e:{if(X=Y?Hn(Y):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var Xe=Xb;else if(Qb(X))if(Wb)Xe=ON;else{Xe=MN;var be=VN}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&qo(Y.elementType)&&(Xe=Xb):Xe=PN;if(Xe&&(Xe=Xe(r,Y))){Yb(se,Xe,l,te);break e}be&&be(r,X,Y),r==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Hu(X,"number",X.value)}switch(be=Y?Hn(Y):window,r){case"focusin":(Qb(be)||be.contentEditable==="true")&&(Wo=be,ig=Y,nc=null);break;case"focusout":nc=ig=Wo=null;break;case"mousedown":rg=!0;break;case"contextmenu":case"mouseup":case"dragend":rg=!1,sT(se,l,te);break;case"selectionchange":if(jN)break;case"keydown":case"keyup":sT(se,l,te)}var je;if(Ze)e:{switch(r){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Xo?Oa(r,l)&&(He="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(rr&&l.locale!=="ko"&&(Xo||He!=="onCompositionStart"?He==="onCompositionEnd"&&Xo&&(je=Yu()):(er=te,Qu="value"in er?er.value:er.textContent,Xo=!0)),be=Td(Y,He),0<be.length&&(He=new ir(He,r,null,l,te),se.push({event:He,listeners:be}),je?He.data=je:(je=Yo(l),je!==null&&(He.data=je)))),(je=oi?CN(r,l):DN(r,l))&&(He=Td(Y,"onBeforeInput"),0<He.length&&(be=new ir("onBeforeInput","beforeinput",null,l,te),se.push({event:be,listeners:He}),be.data=je)),Tk(se,r,Y,l,te)}NE(se,a)})}function Ic(r,a,l){return{instance:r,listener:a,currentTarget:l}}function Td(r,a){for(var l=a+"Capture",c=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ri(r,l),p!=null&&c.unshift(Ic(r,p,y)),p=Ri(r,a),p!=null&&c.push(Ic(r,p,y))),r.tag===3)return c;r=r.return}return[]}function xk(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function VE(r,a,l,c,p){for(var y=a._reactName,T=[];l!==null&&l!==c;){var x=l,O=x.alternate,Y=x.stateNode;if(x=x.tag,O!==null&&O===c)break;x!==5&&x!==26&&x!==27||Y===null||(O=Y,p?(Y=Ri(l,y),Y!=null&&T.unshift(Ic(l,Y,O))):p||(Y=Ri(l,y),Y!=null&&T.push(Ic(l,Y,O)))),l=l.return}T.length!==0&&r.push({event:a,listeners:T})}var Ak=/\r\n?/g,Ik=/\u0000|\uFFFD/g;function ME(r){return(typeof r=="string"?r:""+r).replace(Ak,`
`).replace(Ik,"")}function PE(r,a){return a=ME(a),ME(r)===a}function ut(r,a,l,c,p,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Vn(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Vn(r,""+c);break;case"className":Gn(r,"class",c);break;case"tabIndex":Gn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(r,l,c);break;case"style":Ku(r,c,y);break;case"data":if(a!=="object"){Gn(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Ho(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ut(r,a,"name",p.name,p,null),ut(r,a,"formEncType",p.formEncType,p,null),ut(r,a,"formMethod",p.formMethod,p,null),ut(r,a,"formTarget",p.formTarget,p,null)):(ut(r,a,"encType",p.encType,p,null),ut(r,a,"method",p.method,p,null),ut(r,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Ho(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=Ii);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=Ho(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":Be("beforetoggle",r),Be("toggle",r),Bo(r,"popover",c);break;case"xlinkActuate":Ft(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ft(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ft(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ft(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ft(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ft(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ft(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Bo(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Tf.get(l)||l,Bo(r,l,c))}}function Cy(r,a,l,c,p,y){switch(l){case"style":Ku(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?Vn(r,c):(typeof c=="number"||typeof c=="bigint")&&Vn(r,""+c);break;case"onScroll":c!=null&&Be("scroll",r);break;case"onScrollEnd":c!=null&&Be("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=r[nn]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(a,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,c,p);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Bo(r,l,c)}}}function fn(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",r),Be("load",r);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ut(r,a,y,T,l,null)}}p&&ut(r,a,"srcSet",l.srcSet,l,null),c&&ut(r,a,"src",l.src,l,null);return;case"input":Be("invalid",r);var x=y=T=p=null,O=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var te=l[c];if(te!=null)switch(c){case"name":p=te;break;case"type":T=te;break;case"checked":O=te;break;case"defaultChecked":Y=te;break;case"value":y=te;break;case"defaultValue":x=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:ut(r,a,c,te,l,null)}}vf(r,y,x,O,Y,T,p,!1);return;case"select":Be("invalid",r),c=T=y=null;for(p in l)if(l.hasOwnProperty(p)&&(x=l[p],x!=null))switch(p){case"value":y=x;break;case"defaultValue":T=x;break;case"multiple":c=x;default:ut(r,a,p,x,l,null)}a=y,l=T,r.multiple=!!c,a!=null?hs(r,!!c,a,!1):l!=null&&hs(r,!!c,l,!0);return;case"textarea":Be("invalid",r),y=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(x=l[T],x!=null))switch(T){case"value":c=x;break;case"defaultValue":p=x;break;case"children":y=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:ut(r,a,T,x,l,null)}fs(r,c,p,y);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(c=l[O],c!=null))switch(O){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ut(r,a,O,c,l,null)}return;case"dialog":Be("beforetoggle",r),Be("toggle",r),Be("cancel",r),Be("close",r);break;case"iframe":case"object":Be("load",r);break;case"video":case"audio":for(c=0;c<Ac.length;c++)Be(Ac[c],r);break;case"image":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"embed":case"source":case"link":Be("error",r),Be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ut(r,a,Y,c,l,null)}return;default:if(qo(a)){for(te in l)l.hasOwnProperty(te)&&(c=l[te],c!==void 0&&Cy(r,a,te,c,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(c=l[x],c!=null&&ut(r,a,x,c,l,null))}function Rk(r,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,x=null,O=null,Y=null,te=null;for(Z in l){var se=l[Z];if(l.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":O=se;default:c.hasOwnProperty(Z)||ut(r,a,Z,null,c,se)}}for(var X in c){var Z=c[X];if(se=l[X],c.hasOwnProperty(X)&&(Z!=null||se!=null))switch(X){case"type":y=Z;break;case"name":p=Z;break;case"checked":Y=Z;break;case"defaultChecked":te=Z;break;case"value":T=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==se&&ut(r,a,X,Z,c,se)}}Fo(r,T,x,O,Y,te,y,p);return;case"select":Z=T=x=X=null;for(y in l)if(O=l[y],l.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":Z=O;default:c.hasOwnProperty(y)||ut(r,a,y,null,c,O)}for(p in c)if(y=c[p],O=l[p],c.hasOwnProperty(p)&&(y!=null||O!=null))switch(p){case"value":X=y;break;case"defaultValue":x=y;break;case"multiple":T=y;default:y!==O&&ut(r,a,p,y,c,O)}a=x,l=T,c=Z,X!=null?hs(r,!!l,X,!1):!!c!=!!l&&(a!=null?hs(r,!!l,a,!0):hs(r,!!l,l?[]:"",!1));return;case"textarea":Z=X=null;for(x in l)if(p=l[x],l.hasOwnProperty(x)&&p!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ut(r,a,x,null,c,p)}for(T in c)if(p=c[T],y=l[T],c.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":X=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ut(r,a,T,p,c,y)}_f(r,X,Z);return;case"option":for(var ve in l)if(X=l[ve],l.hasOwnProperty(ve)&&X!=null&&!c.hasOwnProperty(ve))switch(ve){case"selected":r.selected=!1;break;default:ut(r,a,ve,null,c,X)}for(O in c)if(X=c[O],Z=l[O],c.hasOwnProperty(O)&&X!==Z&&(X!=null||Z!=null))switch(O){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ut(r,a,O,X,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in l)X=l[Ae],l.hasOwnProperty(Ae)&&X!=null&&!c.hasOwnProperty(Ae)&&ut(r,a,Ae,null,c,X);for(Y in c)if(X=c[Y],Z=l[Y],c.hasOwnProperty(Y)&&X!==Z&&(X!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:ut(r,a,Y,X,c,Z)}return;default:if(qo(a)){for(var ct in l)X=l[ct],l.hasOwnProperty(ct)&&X!==void 0&&!c.hasOwnProperty(ct)&&Cy(r,a,ct,void 0,c,X);for(te in c)X=c[te],Z=l[te],!c.hasOwnProperty(te)||X===Z||X===void 0&&Z===void 0||Cy(r,a,te,X,c,Z);return}}for(var G in l)X=l[G],l.hasOwnProperty(G)&&X!=null&&!c.hasOwnProperty(G)&&ut(r,a,G,null,c,X);for(se in c)X=c[se],Z=l[se],!c.hasOwnProperty(se)||X===Z||X==null&&Z==null||ut(r,a,se,X,c,Z)}function OE(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ck(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var p=l[c],y=p.transferSize,T=p.initiatorType,x=p.duration;if(y&&x&&OE(T)){for(T=0,x=p.responseEnd,c+=1;c<l.length;c++){var O=l[c],Y=O.startTime;if(Y>x)break;var te=O.transferSize,se=O.initiatorType;te&&OE(se)&&(O=O.responseEnd,T+=te*(O<x?1:(x-Y)/(O-Y)))}if(--c,a+=8*(y+T)/(p.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Dy=null,Ny=null;function Ed(r){return r.nodeType===9?r:r.ownerDocument}function LE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jE(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function ky(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Vy=null;function Dk(){var r=window.event;return r&&r.type==="popstate"?r===Vy?!1:(Vy=r,!0):(Vy=null,!1)}var zE=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,UE=typeof Promise=="function"?Promise:void 0,kk=typeof queueMicrotask=="function"?queueMicrotask:typeof UE<"u"?function(r){return UE.resolve(null).then(r).catch(Vk)}:zE;function Vk(r){setTimeout(function(){throw r})}function Ps(r){return r==="head"}function BE(r,a){var l=a,c=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(p),Sl(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Rc(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Rc(l);for(var y=l.firstChild;y;){var T=y.nextSibling,x=y.nodeName;y[$i]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=T}}else l==="body"&&Rc(r.ownerDocument.body);l=p}while(l);Sl(a)}function FE(r,a){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function My(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":My(l),Uo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function Mk(r,a,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[$i])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=mi(r.nextSibling),r===null)break}return null}function Pk(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=mi(r.nextSibling),r===null))return null;return r}function qE(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=mi(r.nextSibling),r===null))return null;return r}function Py(r){return r.data==="$?"||r.data==="$~"}function Oy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Ok(r,a){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function mi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Ly=null;function HE(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(a===0)return mi(r.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}r=r.nextSibling}return null}function GE(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return r;a--}else l!=="/$"&&l!=="/&"||a++}r=r.previousSibling}return null}function KE(r,a,l){switch(a=Ed(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Rc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Uo(r)}var pi=new Map,$E=new Set;function wd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var qr=ae.d;ae.d={f:Lk,r:jk,D:zk,C:Uk,L:Bk,m:Fk,X:Hk,S:qk,M:Gk};function Lk(){var r=qr.f(),a=md();return r||a}function jk(r){var a=ri(r);a!==null&&a.tag===5&&a.type==="form"?c1(a):qr.r(r)}var Tl=typeof document>"u"?null:document;function QE(r,a,l){var c=Tl;if(c&&typeof a=="string"&&a){var p=kn(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),$E.has(p)||($E.add(p),r={rel:r,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),fn(a,"link",r),Bt(a),c.head.appendChild(a)))}}function zk(r){qr.D(r),QE("dns-prefetch",r,null)}function Uk(r,a){qr.C(r,a),QE("preconnect",r,a)}function Bk(r,a,l){qr.L(r,a,l);var c=Tl;if(c&&r&&a){var p='link[rel="preload"][as="'+kn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+kn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+kn(l.imageSizes)+'"]')):p+='[href="'+kn(r)+'"]';var y=p;switch(a){case"style":y=El(r);break;case"script":y=wl(r)}pi.has(y)||(r=v({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),pi.set(y,r),c.querySelector(p)!==null||a==="style"&&c.querySelector(Cc(y))||a==="script"&&c.querySelector(Dc(y))||(a=c.createElement("link"),fn(a,"link",r),Bt(a),c.head.appendChild(a)))}}function Fk(r,a){qr.m(r,a);var l=Tl;if(l&&r){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+kn(c)+'"][href="'+kn(r)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=wl(r)}if(!pi.has(y)&&(r=v({rel:"modulepreload",href:r},a),pi.set(y,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Dc(y)))return}c=l.createElement("link"),fn(c,"link",r),Bt(c),l.head.appendChild(c)}}}function qk(r,a,l){qr.S(r,a,l);var c=Tl;if(c&&r){var p=Yi(c).hoistableStyles,y=El(r);a=a||"default";var T=p.get(y);if(!T){var x={loading:0,preload:null};if(T=c.querySelector(Cc(y)))x.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},l),(l=pi.get(y))&&jy(r,l);var O=T=c.createElement("link");Bt(O),fn(O,"link",r),O._p=new Promise(function(Y,te){O.onload=Y,O.onerror=te}),O.addEventListener("load",function(){x.loading|=1}),O.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Sd(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:x},p.set(y,T)}}}function Hk(r,a){qr.X(r,a);var l=Tl;if(l&&r){var c=Yi(l).hoistableScripts,p=wl(r),y=c.get(p);y||(y=l.querySelector(Dc(p)),y||(r=v({src:r,async:!0},a),(a=pi.get(p))&&zy(r,a),y=l.createElement("script"),Bt(y),fn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function Gk(r,a){qr.M(r,a);var l=Tl;if(l&&r){var c=Yi(l).hoistableScripts,p=wl(r),y=c.get(p);y||(y=l.querySelector(Dc(p)),y||(r=v({src:r,async:!0,type:"module"},a),(a=pi.get(p))&&zy(r,a),y=l.createElement("script"),Bt(y),fn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function YE(r,a,l,c){var p=(p=Le.current)?wd(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=El(l.href),l=Yi(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=El(l.href);var y=Yi(p).hoistableStyles,T=y.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=p.querySelector(Cc(r)))&&!y._p&&(T.instance=y,T.state.loading=5),pi.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pi.set(r,l),y||Kk(p,r,l,T.state))),a&&c===null)throw Error(i(528,""));return T}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=wl(l),l=Yi(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function El(r){return'href="'+kn(r)+'"'}function Cc(r){return'link[rel="stylesheet"]['+r+"]"}function XE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function Kk(r,a,l,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),fn(a,"link",l),Bt(a),r.head.appendChild(a))}function wl(r){return'[src="'+kn(r)+'"]'}function Dc(r){return"script[async]"+r}function WE(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+kn(l.href)+'"]');if(c)return a.instance=c,Bt(c),c;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Bt(c),fn(c,"style",p),Sd(c,l.precedence,r),a.instance=c;case"stylesheet":p=El(l.href);var y=r.querySelector(Cc(p));if(y)return a.state.loading|=4,a.instance=y,Bt(y),y;c=XE(l),(p=pi.get(p))&&jy(c,p),y=(r.ownerDocument||r).createElement("link"),Bt(y);var T=y;return T._p=new Promise(function(x,O){T.onload=x,T.onerror=O}),fn(y,"link",c),a.state.loading|=4,Sd(y,l.precedence,r),a.instance=y;case"script":return y=wl(l.src),(p=r.querySelector(Dc(y)))?(a.instance=p,Bt(p),p):(c=l,(p=pi.get(y))&&(c=v({},l),zy(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),Bt(p),fn(p,"link",c),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Sd(c,l.precedence,r));return a.instance}function Sd(r,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,T=0;T<c.length;T++){var x=c[T];if(x.dataset.precedence===a)y=x;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function jy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function zy(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var xd=null;function ZE(r,a,l){if(xd===null){var c=new Map,p=xd=new Map;p.set(l,c)}else p=xd,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var y=l[p];if(!(y[$i]||y[Ut]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=r+T;var x=c.get(T);x?x.push(y):c.set(T,[y])}}return c}function JE(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function $k(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ew(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Qk(r,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=El(c.href),y=a.querySelector(Cc(p));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Ad.bind(r),a.then(r,r)),l.state.loading|=4,l.instance=y,Bt(y);return}y=a.ownerDocument||a,c=XE(c),(p=pi.get(p))&&jy(c,p),y=y.createElement("link"),Bt(y);var T=y;T._p=new Promise(function(x,O){T.onload=x,T.onerror=O}),fn(y,"link",c),l.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Ad.bind(r),a.addEventListener("load",l),a.addEventListener("error",l))}}var Uy=0;function Yk(r,a){return r.stylesheets&&r.count===0&&Rd(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&Rd(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+a);0<r.imgBytes&&Uy===0&&(Uy=62500*Ck());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Rd(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>Uy?50:800)+a);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Ad(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Id=null;function Rd(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Id=new Map,a.forEach(Xk,r),Id=null,Ad.call(r))}function Xk(r,a){if(!(a.state.loading&4)){var l=Id.get(r);if(l)var c=l.get(null);else{l=new Map,Id.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=a.instance,T=p.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,p),l.set(T,p),this.count++,c=Ad.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var Nc={$$typeof:L,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Wk(r,a,l,c,p,y,T,x,O){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function tw(r,a,l,c,p,y,T,x,O,Y,te,se){return r=new Wk(r,a,l,T,O,Y,te,se,x),a=1,y===!0&&(a|=24),y=$n(3,null,null,a),r.current=y,y.stateNode=r,a=_g(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},wg(y),r}function nw(r){return r?(r=el,r):el}function iw(r,a,l,c,p,y){p=nw(p),c.context===null?c.context=p:c.pendingContext=p,c=Ss(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=xs(r,c,a),l!==null&&(jn(l,r,a),uc(l,r,a))}function rw(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function By(r,a){rw(r,a),(r=r.alternate)&&rw(r,a)}function sw(r){if(r.tag===13||r.tag===31){var a=za(r,67108864);a!==null&&jn(a,r,67108864),By(r,67108864)}}function aw(r){if(r.tag===13||r.tag===31){var a=Zn();a=Ia(a);var l=za(r,a);l!==null&&jn(l,r,a),By(r,a)}}var Cd=!0;function Zk(r,a,l,c){var p=H.T;H.T=null;var y=ae.p;try{ae.p=2,Fy(r,a,l,c)}finally{ae.p=y,H.T=p}}function Jk(r,a,l,c){var p=H.T;H.T=null;var y=ae.p;try{ae.p=8,Fy(r,a,l,c)}finally{ae.p=y,H.T=p}}function Fy(r,a,l,c){if(Cd){var p=qy(c);if(p===null)Ry(r,a,c,Dd,l),lw(r,c);else if(tV(p,r,a,l,c))c.stopPropagation();else if(lw(r,c),a&4&&-1<eV.indexOf(r)){for(;p!==null;){var y=ri(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=qi(y.pendingLanes);if(T!==0){var x=y;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var O=1<<31-Ct(T);x.entanglements[1]|=O,T&=~O}lr(y),(Je&6)===0&&(fd=An()+500,xc(0))}}break;case 31:case 13:x=za(y,2),x!==null&&jn(x,y,2),md(),By(y,2)}if(y=qy(c),y===null&&Ry(r,a,c,Dd,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else Ry(r,a,c,null,l)}}function qy(r){return r=si(r),Hy(r)}var Dd=null;function Hy(r){if(Dd=null,r=Qi(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===31){if(r=h(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Dd=r,null}function ow(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wa()){case Mu:return 2;case Pu:return 8;case us:case Xp:return 32;case lf:return 268435456;default:return 32}default:return 32}}var Gy=!1,Os=null,Ls=null,js=null,kc=new Map,Vc=new Map,zs=[],eV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lw(r,a){switch(r){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":kc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(a.pointerId)}}function Mc(r,a,l,c,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},a!==null&&(a=ri(a),a!==null&&sw(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function tV(r,a,l,c,p){switch(a){case"focusin":return Os=Mc(Os,r,a,l,c,p),!0;case"dragenter":return Ls=Mc(Ls,r,a,l,c,p),!0;case"mouseover":return js=Mc(js,r,a,l,c,p),!0;case"pointerover":var y=p.pointerId;return kc.set(y,Mc(kc.get(y)||null,r,a,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,Vc.set(y,Mc(Vc.get(y)||null,r,a,l,c,p)),!0}return!1}function uw(r){var a=Qi(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,xi(r.priority,function(){aw(l)});return}}else if(a===31){if(a=h(l),a!==null){r.blockedOn=a,xi(r.priority,function(){aw(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Nd(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=qy(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);$u=c,l.target.dispatchEvent(c),$u=null}else return a=ri(l),a!==null&&sw(a),r.blockedOn=l,!1;a.shift()}return!0}function cw(r,a,l){Nd(r)&&l.delete(a)}function nV(){Gy=!1,Os!==null&&Nd(Os)&&(Os=null),Ls!==null&&Nd(Ls)&&(Ls=null),js!==null&&Nd(js)&&(js=null),kc.forEach(cw),Vc.forEach(cw)}function kd(r,a){r.blockedOn===a&&(r.blockedOn=null,Gy||(Gy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nV)))}var Vd=null;function hw(r){Vd!==r&&(Vd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vd===r&&(Vd=null);for(var a=0;a<r.length;a+=3){var l=r[a],c=r[a+1],p=r[a+2];if(typeof c!="function"){if(Hy(c||l)===null)continue;break}var y=ri(l);y!==null&&(r.splice(a,3),a-=3,qg(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Sl(r){function a(O){return kd(O,r)}Os!==null&&kd(Os,r),Ls!==null&&kd(Ls,r),js!==null&&kd(js,r),kc.forEach(a),Vc.forEach(a);for(var l=0;l<zs.length;l++){var c=zs[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<zs.length&&(l=zs[0],l.blockedOn===null);)uw(l),l.blockedOn===null&&zs.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],T=p[nn]||null;if(typeof y=="function")T||hw(l);else if(T){var x=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[nn]||null)x=T.formAction;else if(Hy(p)!==null)continue}else x=T.action;typeof x=="function"?l[c+1]=x:(l.splice(c,3),c-=3),hw(l)}}}function fw(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Ky(r){this._internalRoot=r}Md.prototype.render=Ky.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=Zn();iw(l,c,r,a,null,null)},Md.prototype.unmount=Ky.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;iw(r.current,2,null,r,null,null),md(),a[Ki]=null}};function Md(r){this._internalRoot=r}Md.prototype.unstable_scheduleHydration=function(r){if(r){var a=mf();r={blockedOn:null,target:r,priority:a};for(var l=0;l<zs.length&&a!==0&&a<zs[l].priority;l++);zs.splice(l,0,r),l===0&&uw(r)}};var dw=e.version;if(dw!=="19.2.0")throw Error(i(527,dw,"19.2.0"));ae.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var iV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{wi=Pd.inject(iV),on=Pd}catch{}}return Oc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,c="",p=b1,y=T1,T=E1;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),a=tw(r,1,!1,null,null,l,c,null,p,y,T,fw),r[Ki]=a.current,Iy(r),new Ky(a)},Oc.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var c=!1,p="",y=b1,T=T1,x=E1,O=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),a=tw(r,1,!0,a,l??null,c,p,O,y,T,x,fw),a.context=nw(null),l=a.current,c=Zn(),c=Ia(c),p=Ss(c),p.callback=null,xs(l,p,c),l=c,a.current.lanes=l,xa(a,l),lr(a),r[Ki]=a.current,Iy(r),new Md(a)},Oc.version="19.2.0",Oc}var ww;function mV(){if(ww)return Yy.exports;ww=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yy.exports=dV(),Yy.exports}var pV=mV();const gV="modulepreload",yV=function(n){return"/house-budget-pwa/"+n},Sw={},vV=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let d=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var u=d;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=h?.nonce||h?.getAttribute("nonce");s=d(t.map(g=>{if(g=yV(g),g in Sw)return;Sw[g]=!0;const v=g.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":gV,v||(S.as="script"),S.crossOrigin="",S.href=g,f&&S.setAttribute("nonce",f),document.head.appendChild(S),v)return new Promise((C,V)=>{S.addEventListener("load",C),S.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return s.then(h=>{for(const f of h||[])f.status==="rejected"&&o(f.reason);return e().catch(o)})};function _V(n={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:i,onRegistered:s,onRegisteredSW:o,onRegisterError:u}=n;let h,f;const d=async(v=!0)=>{await f};async function g(){if("serviceWorker"in navigator){if(h=await vV(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:v}},[]).then(({Workbox:v})=>new v("/house-budget-pwa/sw.js",{scope:"/house-budget-pwa/",type:"classic"})).catch(v=>{u?.(v)}),!h)return;h.addEventListener("activated",v=>{(v.isUpdate||v.isExternal)&&window.location.reload()}),h.addEventListener("installed",v=>{v.isUpdate||i?.()}),h.register({immediate:e}).then(v=>{o?o("/house-budget-pwa/sw.js",v):s?.(v)}).catch(v=>{u?.(v)})}}return f=g(),d}var xw="popstate";function bV(n={}){function e(s,o){let{pathname:u="/",search:h="",hash:f=""}=No(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),O0("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let u=s.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=s.location.href,d=f.indexOf("#");h=d===-1?f:f.slice(0,d)}return h+"#"+(typeof o=="string"?o:ph(o))}function i(s,o){Ei(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return EV(e,t,i,n)}function St(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ei(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TV(){return Math.random().toString(36).substring(2,10)}function Aw(n,e){return{usr:n.state,key:n.key,idx:e}}function O0(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?No(e):e,state:t,key:e&&e.key||i||TV()}}function ph({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function No(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function EV(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let M=g(),z=M==null?null:M-d;d=M,f&&f({action:h,location:V.location,delta:z})}function _(M,z){h="PUSH";let q=O0(V.location,M,z);t&&t(q,M),d=g()+1;let L=Aw(q,d),J=V.createHref(q);try{u.pushState(L,"",J)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;s.location.assign(J)}o&&f&&f({action:h,location:V.location,delta:1})}function S(M,z){h="REPLACE";let q=O0(V.location,M,z);t&&t(q,M),d=g();let L=Aw(q,d),J=V.createHref(q);u.replaceState(L,"",J),o&&f&&f({action:h,location:V.location,delta:0})}function C(M){return wV(M)}let V={get action(){return h},get location(){return n(s,u)},listen(M){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(xw,v),f=M,()=>{s.removeEventListener(xw,v),f=null}},createHref(M){return e(s,M)},createURL:C,encodeLocation(M){let z=C(M);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:_,replace:S,go(M){return u.go(M)}};return V}function wV(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:ph(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function ZA(n,e,t="/"){return SV(n,e,t,!1)}function SV(n,e,t,i){let s=typeof e=="string"?No(e):e,o=Xr(s.pathname||"/",t);if(o==null)return null;let u=JA(n);xV(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=OV(o);h=MV(u[f],d,i)}return h}function JA(n,e=[],t=[],i="",s=!1){let o=(u,h,f=s,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;St(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=Qr([i,g.relativePath]),_=t.concat(g);u.children&&u.children.length>0&&(St(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),JA(u.children,e,_,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:kV(v,u.index),routesMeta:_})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let f of eI(u.path))o(u,h,!0,f)}),e}function eI(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=eI(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function xV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:VV(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var AV=/^:[\w-]+$/,IV=3,RV=2,CV=1,DV=10,NV=-2,Iw=n=>n==="*";function kV(n,e){let t=n.split("/"),i=t.length;return t.some(Iw)&&(i+=NV),e&&(i+=RV),t.filter(s=>!Iw(s)).reduce((s,o)=>s+(AV.test(o)?IV:o===""?CV:DV),i)}function VV(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function MV(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Em({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),_=f.route;if(!v&&d&&t&&!i[i.length-1].route.index&&(v=Em({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:Qr([o,v.pathname]),pathnameBase:BV(Qr([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=Qr([o,v.pathnameBase]))}return u}function Em(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=PV(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:v},_)=>{if(g==="*"){let C=h[_]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=h[_];return v&&!S?d[g]=void 0:d[g]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function PV(n,e=!1,t=!0){Ei(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function OV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ei(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Xr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var LV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jV=n=>LV.test(n);function zV(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?No(n):n,o;if(t)if(jV(t))o=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),Ei(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?o=Rw(t.substring(1),"/"):o=Rw(t,e)}else o=e;return{pathname:o,search:FV(i),hash:qV(s)}}function Rw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Jy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tI(n){let e=UV(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function nI(n,e,t,i=!1){let s;typeof n=="string"?s=No(n):(s={...n},St(!s.pathname||!s.pathname.includes("?"),Jy("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),Jy("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),Jy("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}h=v>=0?e[v]:"/"}let f=zV(s,h),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Qr=n=>n.join("/").replace(/\/\/+/g,"/"),BV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),FV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iI=["POST","PUT","PATCH","DELETE"];new Set(iI);var GV=["GET",...iI];new Set(GV);var vu=j.createContext(null);vu.displayName="DataRouter";var sp=j.createContext(null);sp.displayName="DataRouterState";j.createContext(!1);var rI=j.createContext({isTransitioning:!1});rI.displayName="ViewTransition";var KV=j.createContext(new Map);KV.displayName="Fetchers";var $V=j.createContext(null);$V.displayName="Await";var wr=j.createContext(null);wr.displayName="Navigation";var Uh=j.createContext(null);Uh.displayName="Location";var Sr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var $v=j.createContext(null);$v.displayName="RouteError";function QV(n,{relative:e}={}){St(Bh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=j.useContext(wr),{hash:s,pathname:o,search:u}=Fh(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Qr([t,o])),i.createHref({pathname:h,search:u,hash:s})}function Bh(){return j.useContext(Uh)!=null}function ko(){return St(Bh(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Uh).location}var sI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aI(n){j.useContext(wr).static||j.useLayoutEffect(n)}function Vo(){let{isDataRoute:n}=j.useContext(Sr);return n?lM():YV()}function YV(){St(Bh(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(vu),{basename:e,navigator:t}=j.useContext(wr),{matches:i}=j.useContext(Sr),{pathname:s}=ko(),o=JSON.stringify(tI(i)),u=j.useRef(!1);return aI(()=>{u.current=!0}),j.useCallback((f,d={})=>{if(Ei(u.current,sI),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=nI(f,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Qr([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,s,n])}j.createContext(null);function XV(){let{matches:n}=j.useContext(Sr),e=n[n.length-1];return e?e.params:{}}function Fh(n,{relative:e}={}){let{matches:t}=j.useContext(Sr),{pathname:i}=ko(),s=JSON.stringify(tI(t));return j.useMemo(()=>nI(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function WV(n,e){return oI(n,e)}function oI(n,e,t,i,s){St(Bh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(wr),{matches:u}=j.useContext(Sr),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let q=v&&v.path||"";lI(d,!v||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let _=ko(),S;if(e){let q=typeof e=="string"?No(e):e;St(g==="/"||q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${q.pathname}" was given in the \`location\` prop.`),S=q}else S=_;let C=S.pathname||"/",V=C;if(g!=="/"){let q=g.replace(/^\//,"").split("/");V="/"+C.replace(/^\//,"").split("/").slice(q.length).join("/")}let M=ZA(n,{pathname:V});Ei(v||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ei(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=nM(M&&M.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:Qr([g,o.encodeLocation?o.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:Qr([g,o.encodeLocation?o.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,t,i,s);return e&&z?j.createElement(Uh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function ZV(){let n=oM(),e=HV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:s},t):null,u)}var JV=j.createElement(ZV,null),eM=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?j.createElement(Sr.Provider,{value:this.props.routeContext},j.createElement($v.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tM({routeContext:n,match:e,children:t}){let i=j.useContext(vu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Sr.Provider,{value:n},t)}function nM(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let g=o.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);St(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:_,errors:S}=t,C=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||C){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=t&&i?(g,v)=>{i(g,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:v})}:void 0;return o.reduceRight((g,v,_)=>{let S,C=!1,V=null,M=null;t&&(S=u&&v.route.id?u[v.route.id]:void 0,V=v.route.errorElement||JV,h&&(f<0&&_===0?(lI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,M=null):f===_&&(C=!0,M=v.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,_+1)),q=()=>{let L;return S?L=V:C?L=M:v.route.Component?L=j.createElement(v.route.Component,null):v.route.element?L=v.route.element:L=g,j.createElement(tM,{match:v,routeContext:{outlet:g,matches:z,isDataRoute:t!=null},children:L})};return t&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?j.createElement(eM,{location:t.location,revalidation:t.revalidation,component:V,error:S,children:q(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:d}):q()},null)}function Qv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iM(n){let e=j.useContext(vu);return St(e,Qv(n)),e}function rM(n){let e=j.useContext(sp);return St(e,Qv(n)),e}function sM(n){let e=j.useContext(Sr);return St(e,Qv(n)),e}function Yv(n){let e=sM(n),t=e.matches[e.matches.length-1];return St(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function aM(){return Yv("useRouteId")}function oM(){let n=j.useContext($v),e=rM("useRouteError"),t=Yv("useRouteError");return n!==void 0?n:e.errors?.[t]}function lM(){let{router:n}=iM("useNavigate"),e=Yv("useNavigate"),t=j.useRef(!1);return aI(()=>{t.current=!0}),j.useCallback(async(s,o={})=>{Ei(t.current,sI),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Cw={};function lI(n,e,t){!e&&!Cw[n]&&(Cw[n]=!0,Ei(!1,t))}j.memo(uM);function uM({routes:n,future:e,state:t,unstable_onError:i}){return oI(n,void 0,t,i,e)}function eo(n){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cM({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1}){St(!Bh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=No(t));let{pathname:f="/",search:d="",hash:g="",state:v=null,key:_="default"}=t,S=j.useMemo(()=>{let C=Xr(f,u);return C==null?null:{location:{pathname:C,search:d,hash:g,state:v,key:_},navigationType:i}},[u,f,d,g,v,_,i]);return Ei(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement(wr.Provider,{value:h},j.createElement(Uh.Provider,{children:e,value:S}))}function hM({children:n,location:e}){return WV(L0(n),e)}function L0(n,e=[]){let t=[];return j.Children.forEach(n,(i,s)=>{if(!j.isValidElement(i))return;let o=[...e,s];if(i.type===j.Fragment){t.push.apply(t,L0(i.props.children,o));return}St(i.type===eo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=L0(i.props.children,o)),t.push(u)}),t}var Zd="get",Jd="application/x-www-form-urlencoded";function ap(n){return n!=null&&typeof n.tagName=="string"}function fM(n){return ap(n)&&n.tagName.toLowerCase()==="button"}function dM(n){return ap(n)&&n.tagName.toLowerCase()==="form"}function mM(n){return ap(n)&&n.tagName.toLowerCase()==="input"}function pM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gM(n,e){return n.button===0&&(!e||e==="_self")&&!pM(n)}var Ld=null;function yM(){if(Ld===null)try{new FormData(document.createElement("form"),0),Ld=!1}catch{Ld=!0}return Ld}var vM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function e0(n){return n!=null&&!vM.has(n)?(Ei(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jd}"`),null):n}function _M(n,e){let t,i,s,o,u;if(dM(n)){let h=n.getAttribute("action");i=h?Xr(h,e):null,t=n.getAttribute("method")||Zd,s=e0(n.getAttribute("enctype"))||Jd,o=new FormData(n)}else if(fM(n)||mM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Xr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Zd,s=e0(n.getAttribute("formenctype"))||e0(h.getAttribute("enctype"))||Jd,o=new FormData(h,n),!yM()){let{name:d,type:g,value:v}=n;if(g==="image"){let _=d?`${d}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else d&&o.append(d,v)}}else{if(ap(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zd,i=null,s=Jd,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function bM(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Xr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function TM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function wM(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await TM(o,t);return u.links?u.links():[]}return[]}));return IM(i.flat(1).filter(EM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Dw(n,e,t,i,s,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function SM(n,e,{includeHydrateFallback:t}={}){return xM(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function xM(n){return[...new Set(n)]}function AM(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function IM(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(AM(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}function uI(){let n=j.useContext(vu);return Xv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function RM(){let n=j.useContext(sp);return Xv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Wv=j.createContext(void 0);Wv.displayName="FrameworkContext";function cI(){let n=j.useContext(Wv);return Xv(n,"You must render this element inside a <HydratedRouter> element"),n}function CM(n,e){let t=j.useContext(Wv),[i,s]=j.useState(!1),[o,u]=j.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:v}=e,_=j.useRef(null);j.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let V=z=>{z.forEach(q=>{u(q.isIntersecting)})},M=new IntersectionObserver(V,{threshold:.5});return _.current&&M.observe(_.current),()=>{M.disconnect()}}},[n]),j.useEffect(()=>{if(i){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[i]);let S=()=>{s(!0)},C=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Lc(h,S),onBlur:Lc(f,C),onMouseEnter:Lc(d,S),onMouseLeave:Lc(g,C),onTouchStart:Lc(v,S)}]:[!1,_,{}]}function Lc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function DM({page:n,...e}){let{router:t}=uI(),i=j.useMemo(()=>ZA(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?j.createElement(kM,{page:n,matches:i,...e}):null}function NM(n){let{manifest:e,routeModules:t}=cI(),[i,s]=j.useState([]);return j.useEffect(()=>{let o=!1;return wM(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),i}function kM({page:n,matches:e,...t}){let i=ko(),{manifest:s,routeModules:o}=cI(),{basename:u}=uI(),{loaderData:h,matches:f}=RM(),d=j.useMemo(()=>Dw(n,e,f,s,i,"data"),[n,e,f,s,i]),g=j.useMemo(()=>Dw(n,e,f,s,i,"assets"),[n,e,f,s,i]),v=j.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,V=!1;if(e.forEach(z=>{let q=s.routes[z.route.id];!q||!q.hasLoader||(!d.some(L=>L.route.id===z.route.id)&&z.route.id in h&&o[z.route.id]?.shouldRevalidate||q.hasClientLoader?V=!0:C.add(z.route.id))}),C.size===0)return[];let M=bM(n,u,"data");return V&&C.size>0&&M.searchParams.set("_routes",e.filter(z=>C.has(z.route.id)).map(z=>z.route.id).join(",")),[M.pathname+M.search]},[u,h,i,s,d,e,n,o]),_=j.useMemo(()=>SM(g,s),[g,s]),S=NM(g);return j.createElement(j.Fragment,null,v.map(C=>j.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),_.map(C=>j.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),S.map(({key:C,link:V})=>j.createElement("link",{key:C,nonce:t.nonce,...V})))}function VM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var hI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hI&&(window.__reactRouterVersion="7.9.6")}catch{}function MM({basename:n,children:e,window:t}){let i=j.useRef();i.current==null&&(i.current=bV({window:t,v5Compat:!0}));let s=i.current,[o,u]=j.useState({action:s.action,location:s.location}),h=j.useCallback(f=>{j.startTransition(()=>u(f))},[u]);return j.useLayoutEffect(()=>s.listen(h),[s,h]),j.createElement(cM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var fI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dI=j.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:v,..._},S){let{basename:C}=j.useContext(wr),V=typeof d=="string"&&fI.test(d),M,z=!1;if(typeof d=="string"&&V&&(M=d,hI))try{let D=new URL(window.location.href),N=d.startsWith("//")?new URL(D.protocol+d):new URL(d),k=Xr(N.pathname,C);N.origin===D.origin&&k!=null?d=k+N.search+N.hash:z=!0}catch{Ei(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=QV(d,{relative:s}),[L,J,ee]=CM(i,_),re=jM(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:s,viewTransition:v});function R(D){e&&e(D),D.defaultPrevented||re(D)}let A=j.createElement("a",{..._,...ee,href:M||q,onClick:z||o?e:R,ref:VM(S,J),target:f,"data-discover":!V&&t==="render"?"true":void 0});return L&&!V?j.createElement(j.Fragment,null,A,j.createElement(DM,{page:q})):A});dI.displayName="Link";var PM=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:h,children:f,...d},g){let v=Fh(u,{relative:d.relative}),_=ko(),S=j.useContext(sp),{navigator:C,basename:V}=j.useContext(wr),M=S!=null&&qM(v)&&h===!0,z=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,q=_.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(q=q.toLowerCase(),L=L?L.toLowerCase():null,z=z.toLowerCase()),L&&V&&(L=Xr(L,V)||L);const J=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ee=q===z||!s&&q.startsWith(z)&&q.charAt(J)==="/",re=L!=null&&(L===z||!s&&L.startsWith(z)&&L.charAt(z.length)==="/"),R={isActive:ee,isPending:re,isTransitioning:M},A=ee?e:void 0,D;typeof i=="function"?D=i(R):D=[i,ee?"active":null,re?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(R):o;return j.createElement(dI,{...d,"aria-current":A,className:D,ref:g,style:N,to:u,viewTransition:h},typeof f=="function"?f(R):f)});PM.displayName="NavLink";var OM=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:u=Zd,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:v,..._},S)=>{let C=BM(),V=FM(h,{relative:d}),M=u.toLowerCase()==="get"?"get":"post",z=typeof h=="string"&&fI.test(h),q=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let J=L.nativeEvent.submitter,ee=J?.getAttribute("formmethod")||u;C(J||L.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:s,state:o,relative:d,preventScrollReset:g,viewTransition:v})};return j.createElement("form",{ref:S,method:M,action:V,onSubmit:i?f:q,..._,"data-discover":!z&&n==="render"?"true":void 0})});OM.displayName="Form";function LM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mI(n){let e=j.useContext(vu);return St(e,LM(n)),e}function jM(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:u}={}){let h=Vo(),f=ko(),d=Fh(n,{relative:o});return j.useCallback(g=>{if(gM(g,e)){g.preventDefault();let v=t!==void 0?t:ph(f)===ph(d);h(n,{replace:v,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[f,h,d,t,i,e,n,s,o,u])}var zM=0,UM=()=>`__${String(++zM)}__`;function BM(){let{router:n}=mI("useSubmit"),{basename:e}=j.useContext(wr),t=aM();return j.useCallback(async(i,s={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=_M(i,e);if(s.navigate===!1){let g=s.fetcherKey||UM();await n.fetch(g,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function FM(n,{relative:e}={}){let{basename:t}=j.useContext(wr),i=j.useContext(Sr);St(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Fh(n||".",{relative:e})},u=ko();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Qr([t,o.pathname])),ph(o)}function qM(n,{relative:e}={}){let t=j.useContext(rI);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mI("useViewTransitionState"),s=Fh(n,{relative:e});if(!t.isTransitioning)return!1;let o=Xr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Xr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Em(s.pathname,u)!=null||Em(s.pathname,o)!=null}const HM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Nw=n=>{const e=GM(n);return e.charAt(0).toUpperCase()+e.slice(1)},pI=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),KM=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var $M={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QM=j.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:u,...h},f)=>j.createElement("svg",{ref:f,...$M,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:pI("lucide",s),...!o&&!KM(h)&&{"aria-hidden":"true"},...h},[...u.map(([d,g])=>j.createElement(d,g)),...Array.isArray(o)?o:[o]]));const dt=(n,e)=>{const t=j.forwardRef(({className:i,...s},o)=>j.createElement(QM,{ref:o,iconNode:e,className:pI(`lucide-${HM(Nw(n))}`,`lucide-${n}`,i),...s}));return t.displayName=Nw(n),t};const YM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gI=dt("arrow-left",YM);const XM=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],WM=dt("arrow-right-left",XM);const ZM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kc=dt("chevron-right",ZM);const JM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],e4=dt("circle-arrow-down",JM);const t4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],n4=dt("circle-arrow-up",t4);const i4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],r4=dt("circle-check-big",i4);const s4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kw=dt("circle-check",s4);const a4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],o4=dt("circle-plus",a4);const l4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vw=dt("circle",l4);const u4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],wm=dt("download",u4);const c4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],h4=dt("file-text",c4);const f4=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],d4=dt("folder-plus",f4);const m4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],p4=dt("funnel",m4);const g4=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],y4=dt("git-branch",g4);const v4=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],_4=dt("list",v4);const b4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Mw=dt("refresh-cw",b4);const T4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],E4=dt("save",T4);const w4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],S4=dt("search",w4);const x4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],A4=dt("settings",x4);const I4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sm=dt("trash-2",I4);const R4=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yI=dt("trash",R4);const C4=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],D4=dt("undo-2",C4);const N4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],k4=dt("upload",N4);const V4=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],M4=dt("wallet",V4);const P4=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],O4=dt("wifi-off",P4);const L4=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],j4=dt("wifi",L4);const z4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zv=dt("x",z4),Pw=n=>{let e;const t=new Set,i=(d,g)=>{const v=typeof d=="function"?d(e):d;if(!Object.is(v,e)){const _=e;e=g??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(S=>S(e,_))}},s=()=>e,h={setState:i,getState:s,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=n(i,s,h);return h},U4=(n=>n?Pw(n):Pw),B4=n=>n;function F4(n,e=B4){const t=Od.useSyncExternalStore(n.subscribe,Od.useCallback(()=>e(n.getState()),[n,e]),Od.useCallback(()=>e(n.getInitialState()),[n,e]));return Od.useDebugValue(t),t}const Ow=n=>{const e=U4(n),t=i=>F4(e,i);return Object.assign(t,e),t},vI=(n=>n?Ow(n):Ow);var Ll=9e15,pa=1e9,j0="0123456789abcdef",xm="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Am="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",z0={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ll,maxE:Ll,crypto:!1},_I,Hr,Ve=!0,op="[DecimalError] ",aa=op+"Invalid argument: ",bI=op+"Precision limit exceeded",TI=op+"crypto unavailable",EI="[object Decimal]",Sn=Math.floor,Jt=Math.pow,q4=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,H4=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,G4=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,wI=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zi=1e7,Ie=7,K4=9007199254740991,$4=xm.length-1,U0=Am.length-1,le={toStringTag:EI};le.absoluteValue=le.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),we(n)};le.ceil=function(){return we(new this.constructor(this),this.e+1,2)};le.clampedTo=le.clamp=function(n,e){var t,i=this,s=i.constructor;if(n=new s(n),e=new s(e),!n.s||!e.s)return new s(NaN);if(n.gt(e))throw Error(aa+e);return t=i.cmp(n),t<0?n:i.cmp(e)>0?e:new s(i)};le.comparedTo=le.cmp=function(n){var e,t,i,s,o=this,u=o.d,h=(n=new o.constructor(n)).d,f=o.s,d=n.s;if(!u||!h)return!f||!d?NaN:f!==d?f:u===h?0:!u^f<0?1:-1;if(!u[0]||!h[0])return u[0]?f:h[0]?-d:0;if(f!==d)return f;if(o.e!==n.e)return o.e>n.e^f<0?1:-1;for(i=u.length,s=h.length,e=0,t=i<s?i:s;e<t;++e)if(u[e]!==h[e])return u[e]>h[e]^f<0?1:-1;return i===s?0:i>s^f<0?1:-1};le.cosine=le.cos=function(){var n,e,t=this,i=t.constructor;return t.d?t.d[0]?(n=i.precision,e=i.rounding,i.precision=n+Math.max(t.e,t.sd())+Ie,i.rounding=1,t=Q4(i,RI(i,t)),i.precision=n,i.rounding=e,we(Hr==2||Hr==3?t.neg():t,n,e,!0)):new i(1):new i(NaN)};le.cubeRoot=le.cbrt=function(){var n,e,t,i,s,o,u,h,f,d,g=this,v=g.constructor;if(!g.isFinite()||g.isZero())return new v(g);for(Ve=!1,o=g.s*Jt(g.s*g,1/3),!o||Math.abs(o)==1/0?(t=pn(g.d),n=g.e,(o=(n-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=Jt(t,1/3),n=Sn((n+1)/3)-(n%3==(n<0?-1:2)),o==1/0?t="5e"+n:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),i=new v(t),i.s=g.s):i=new v(o.toString()),u=(n=v.precision)+3;;)if(h=i,f=h.times(h).times(h),d=f.plus(g),i=ft(d.plus(g).times(h),d.plus(f),u+2,1),pn(h.d).slice(0,u)===(t=pn(i.d)).slice(0,u))if(t=t.slice(u-3,u+1),t=="9999"||!s&&t=="4999"){if(!s&&(we(h,n+1,0),h.times(h).times(h).eq(g))){i=h;break}u+=4,s=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(we(i,n+1,1),e=!i.times(i).times(i).eq(g));break}return Ve=!0,we(i,n,v.rounding,e)};le.decimalPlaces=le.dp=function(){var n,e=this.d,t=NaN;if(e){if(n=e.length-1,t=(n-Sn(this.e/Ie))*Ie,n=e[n],n)for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t};le.dividedBy=le.div=function(n){return ft(this,new this.constructor(n))};le.dividedToIntegerBy=le.divToInt=function(n){var e=this,t=e.constructor;return we(ft(e,new t(n),0,1,1),t.precision,t.rounding)};le.equals=le.eq=function(n){return this.cmp(n)===0};le.floor=function(){return we(new this.constructor(this),this.e+1,3)};le.greaterThan=le.gt=function(n){return this.cmp(n)>0};le.greaterThanOrEqualTo=le.gte=function(n){var e=this.cmp(n);return e==1||e===0};le.hyperbolicCosine=le.cosh=function(){var n,e,t,i,s,o=this,u=o.constructor,h=new u(1);if(!o.isFinite())return new u(o.s?1/0:NaN);if(o.isZero())return h;t=u.precision,i=u.rounding,u.precision=t+Math.max(o.e,o.sd())+4,u.rounding=1,s=o.d.length,s<32?(n=Math.ceil(s/3),e=(1/up(4,n)).toString()):(n=16,e="2.3283064365386962890625e-10"),o=Yl(u,1,o.times(e),new u(1),!0);for(var f,d=n,g=new u(8);d--;)f=o.times(o),o=h.minus(f.times(g.minus(f.times(g))));return we(o,u.precision=t,u.rounding=i,!0)};le.hyperbolicSine=le.sinh=function(){var n,e,t,i,s=this,o=s.constructor;if(!s.isFinite()||s.isZero())return new o(s);if(e=o.precision,t=o.rounding,o.precision=e+Math.max(s.e,s.sd())+4,o.rounding=1,i=s.d.length,i<3)s=Yl(o,2,s,s,!0);else{n=1.4*Math.sqrt(i),n=n>16?16:n|0,s=s.times(1/up(5,n)),s=Yl(o,2,s,s,!0);for(var u,h=new o(5),f=new o(16),d=new o(20);n--;)u=s.times(s),s=s.times(h.plus(u.times(f.times(u).plus(d))))}return o.precision=e,o.rounding=t,we(s,e,t,!0)};le.hyperbolicTangent=le.tanh=function(){var n,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(n=i.precision,e=i.rounding,i.precision=n+7,i.rounding=1,ft(t.sinh(),t.cosh(),i.precision=n,i.rounding=e)):new i(t.s)};le.inverseCosine=le.acos=function(){var n=this,e=n.constructor,t=n.abs().cmp(1),i=e.precision,s=e.rounding;return t!==-1?t===0?n.isNeg()?fr(e,i,s):new e(0):new e(NaN):n.isZero()?fr(e,i+4,s).times(.5):(e.precision=i+6,e.rounding=1,n=new e(1).minus(n).div(n.plus(1)).sqrt().atan(),e.precision=i,e.rounding=s,n.times(2))};le.inverseHyperbolicCosine=le.acosh=function(){var n,e,t=this,i=t.constructor;return t.lte(1)?new i(t.eq(1)?0:NaN):t.isFinite()?(n=i.precision,e=i.rounding,i.precision=n+Math.max(Math.abs(t.e),t.sd())+4,i.rounding=1,Ve=!1,t=t.times(t).minus(1).sqrt().plus(t),Ve=!0,i.precision=n,i.rounding=e,t.ln()):new i(t)};le.inverseHyperbolicSine=le.asinh=function(){var n,e,t=this,i=t.constructor;return!t.isFinite()||t.isZero()?new i(t):(n=i.precision,e=i.rounding,i.precision=n+2*Math.max(Math.abs(t.e),t.sd())+6,i.rounding=1,Ve=!1,t=t.times(t).plus(1).sqrt().plus(t),Ve=!0,i.precision=n,i.rounding=e,t.ln())};le.inverseHyperbolicTangent=le.atanh=function(){var n,e,t,i,s=this,o=s.constructor;return s.isFinite()?s.e>=0?new o(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(n=o.precision,e=o.rounding,i=s.sd(),Math.max(i,n)<2*-s.e-1?we(new o(s),n,e,!0):(o.precision=t=i-s.e,s=ft(s.plus(1),new o(1).minus(s),t+n,1),o.precision=n+4,o.rounding=1,s=s.ln(),o.precision=n,o.rounding=e,s.times(.5))):new o(NaN)};le.inverseSine=le.asin=function(){var n,e,t,i,s=this,o=s.constructor;return s.isZero()?new o(s):(e=s.abs().cmp(1),t=o.precision,i=o.rounding,e!==-1?e===0?(n=fr(o,t+4,i).times(.5),n.s=s.s,n):new o(NaN):(o.precision=t+6,o.rounding=1,s=s.div(new o(1).minus(s.times(s)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=i,s.times(2)))};le.inverseTangent=le.atan=function(){var n,e,t,i,s,o,u,h,f,d=this,g=d.constructor,v=g.precision,_=g.rounding;if(d.isFinite()){if(d.isZero())return new g(d);if(d.abs().eq(1)&&v+4<=U0)return u=fr(g,v+4,_).times(.25),u.s=d.s,u}else{if(!d.s)return new g(NaN);if(v+4<=U0)return u=fr(g,v+4,_).times(.5),u.s=d.s,u}for(g.precision=h=v+10,g.rounding=1,t=Math.min(28,h/Ie+2|0),n=t;n;--n)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(Ve=!1,e=Math.ceil(h/Ie),i=1,f=d.times(d),u=new g(d),s=d;n!==-1;)if(s=s.times(f),o=u.minus(s.div(i+=2)),s=s.times(f),u=o.plus(s.div(i+=2)),u.d[e]!==void 0)for(n=e;u.d[n]===o.d[n]&&n--;);return t&&(u=u.times(2<<t-1)),Ve=!0,we(u,g.precision=v,g.rounding=_,!0)};le.isFinite=function(){return!!this.d};le.isInteger=le.isInt=function(){return!!this.d&&Sn(this.e/Ie)>this.d.length-2};le.isNaN=function(){return!this.s};le.isNegative=le.isNeg=function(){return this.s<0};le.isPositive=le.isPos=function(){return this.s>0};le.isZero=function(){return!!this.d&&this.d[0]===0};le.lessThan=le.lt=function(n){return this.cmp(n)<0};le.lessThanOrEqualTo=le.lte=function(n){return this.cmp(n)<1};le.logarithm=le.log=function(n){var e,t,i,s,o,u,h,f,d=this,g=d.constructor,v=g.precision,_=g.rounding,S=5;if(n==null)n=new g(10),e=!0;else{if(n=new g(n),t=n.d,n.s<0||!t||!t[0]||n.eq(1))return new g(NaN);e=n.eq(10)}if(t=d.d,d.s<0||!t||!t[0]||d.eq(1))return new g(t&&!t[0]?-1/0:d.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)o=!0;else{for(s=t[0];s%10===0;)s/=10;o=s!==1}if(Ve=!1,h=v+S,u=Zs(d,h),i=e?Im(g,h+10):Zs(n,h),f=ft(u,i,h,1),gh(f.d,s=v,_))do if(h+=10,u=Zs(d,h),i=e?Im(g,h+10):Zs(n,h),f=ft(u,i,h,1),!o){+pn(f.d).slice(s+1,s+15)+1==1e14&&(f=we(f,v+1,0));break}while(gh(f.d,s+=10,_));return Ve=!0,we(f,v,_)};le.minus=le.sub=function(n){var e,t,i,s,o,u,h,f,d,g,v,_,S=this,C=S.constructor;if(n=new C(n),!S.d||!n.d)return!S.s||!n.s?n=new C(NaN):S.d?n.s=-n.s:n=new C(n.d||S.s!==n.s?S:NaN),n;if(S.s!=n.s)return n.s=-n.s,S.plus(n);if(d=S.d,_=n.d,h=C.precision,f=C.rounding,!d[0]||!_[0]){if(_[0])n.s=-n.s;else if(d[0])n=new C(S);else return new C(f===3?-0:0);return Ve?we(n,h,f):n}if(t=Sn(n.e/Ie),g=Sn(S.e/Ie),d=d.slice(),o=g-t,o){for(v=o<0,v?(e=d,o=-o,u=_.length):(e=_,t=g,u=d.length),i=Math.max(Math.ceil(h/Ie),u)+2,o>i&&(o=i,e.length=1),e.reverse(),i=o;i--;)e.push(0);e.reverse()}else{for(i=d.length,u=_.length,v=i<u,v&&(u=i),i=0;i<u;i++)if(d[i]!=_[i]){v=d[i]<_[i];break}o=0}for(v&&(e=d,d=_,_=e,n.s=-n.s),u=d.length,i=_.length-u;i>0;--i)d[u++]=0;for(i=_.length;i>o;){if(d[--i]<_[i]){for(s=i;s&&d[--s]===0;)d[s]=zi-1;--d[s],d[i]+=zi}d[i]-=_[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--t;return d[0]?(n.d=d,n.e=lp(d,t),Ve?we(n,h,f):n):new C(f===3?-0:0)};le.modulo=le.mod=function(n){var e,t=this,i=t.constructor;return n=new i(n),!t.d||!n.s||n.d&&!n.d[0]?new i(NaN):!n.d||t.d&&!t.d[0]?we(new i(t),i.precision,i.rounding):(Ve=!1,i.modulo==9?(e=ft(t,n.abs(),0,3,1),e.s*=n.s):e=ft(t,n,0,i.modulo,1),e=e.times(n),Ve=!0,t.minus(e))};le.naturalExponential=le.exp=function(){return B0(this)};le.naturalLogarithm=le.ln=function(){return Zs(this)};le.negated=le.neg=function(){var n=new this.constructor(this);return n.s=-n.s,we(n)};le.plus=le.add=function(n){var e,t,i,s,o,u,h,f,d,g,v=this,_=v.constructor;if(n=new _(n),!v.d||!n.d)return!v.s||!n.s?n=new _(NaN):v.d||(n=new _(n.d||v.s===n.s?v:NaN)),n;if(v.s!=n.s)return n.s=-n.s,v.minus(n);if(d=v.d,g=n.d,h=_.precision,f=_.rounding,!d[0]||!g[0])return g[0]||(n=new _(v)),Ve?we(n,h,f):n;if(o=Sn(v.e/Ie),i=Sn(n.e/Ie),d=d.slice(),s=o-i,s){for(s<0?(t=d,s=-s,u=g.length):(t=g,i=o,u=d.length),o=Math.ceil(h/Ie),u=o>u?o+1:u+1,s>u&&(s=u,t.length=1),t.reverse();s--;)t.push(0);t.reverse()}for(u=d.length,s=g.length,u-s<0&&(s=u,t=g,g=d,d=t),e=0;s;)e=(d[--s]=d[s]+g[s]+e)/zi|0,d[s]%=zi;for(e&&(d.unshift(e),++i),u=d.length;d[--u]==0;)d.pop();return n.d=d,n.e=lp(d,i),Ve?we(n,h,f):n};le.precision=le.sd=function(n){var e,t=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(aa+n);return t.d?(e=SI(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e};le.round=function(){var n=this,e=n.constructor;return we(new e(n),n.e+1,e.rounding)};le.sine=le.sin=function(){var n,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(n=i.precision,e=i.rounding,i.precision=n+Math.max(t.e,t.sd())+Ie,i.rounding=1,t=X4(i,RI(i,t)),i.precision=n,i.rounding=e,we(Hr>2?t.neg():t,n,e,!0)):new i(NaN)};le.squareRoot=le.sqrt=function(){var n,e,t,i,s,o,u=this,h=u.d,f=u.e,d=u.s,g=u.constructor;if(d!==1||!h||!h[0])return new g(!d||d<0&&(!h||h[0])?NaN:h?u:1/0);for(Ve=!1,d=Math.sqrt(+u),d==0||d==1/0?(e=pn(h),(e.length+f)%2==0&&(e+="0"),d=Math.sqrt(e),f=Sn((f+1)/2)-(f<0||f%2),d==1/0?e="5e"+f:(e=d.toExponential(),e=e.slice(0,e.indexOf("e")+1)+f),i=new g(e)):i=new g(d.toString()),t=(f=g.precision)+3;;)if(o=i,i=o.plus(ft(u,o,t+2,1)).times(.5),pn(o.d).slice(0,t)===(e=pn(i.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!s&&e=="4999"){if(!s&&(we(o,f+1,0),o.times(o).eq(u))){i=o;break}t+=4,s=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(we(i,f+1,1),n=!i.times(i).eq(u));break}return Ve=!0,we(i,f,g.rounding,n)};le.tangent=le.tan=function(){var n,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(n=i.precision,e=i.rounding,i.precision=n+10,i.rounding=1,t=t.sin(),t.s=1,t=ft(t,new i(1).minus(t.times(t)).sqrt(),n+10,0),i.precision=n,i.rounding=e,we(Hr==2||Hr==4?t.neg():t,n,e,!0)):new i(NaN)};le.times=le.mul=function(n){var e,t,i,s,o,u,h,f,d,g=this,v=g.constructor,_=g.d,S=(n=new v(n)).d;if(n.s*=g.s,!_||!_[0]||!S||!S[0])return new v(!n.s||_&&!_[0]&&!S||S&&!S[0]&&!_?NaN:!_||!S?n.s/0:n.s*0);for(t=Sn(g.e/Ie)+Sn(n.e/Ie),f=_.length,d=S.length,f<d&&(o=_,_=S,S=o,u=f,f=d,d=u),o=[],u=f+d,i=u;i--;)o.push(0);for(i=d;--i>=0;){for(e=0,s=f+i;s>i;)h=o[s]+S[i]*_[s-i-1]+e,o[s--]=h%zi|0,e=h/zi|0;o[s]=(o[s]+e)%zi|0}for(;!o[--u];)o.pop();return e?++t:o.shift(),n.d=o,n.e=lp(o,t),Ve?we(n,v.precision,v.rounding):n};le.toBinary=function(n,e){return Jv(this,2,n,e)};le.toDecimalPlaces=le.toDP=function(n,e){var t=this,i=t.constructor;return t=new i(t),n===void 0?t:(qn(n,0,pa),e===void 0?e=i.rounding:qn(e,0,8),we(t,n+t.e+1,e))};le.toExponential=function(n,e){var t,i=this,s=i.constructor;return n===void 0?t=Tr(i,!0):(qn(n,0,pa),e===void 0?e=s.rounding:qn(e,0,8),i=we(new s(i),n+1,e),t=Tr(i,!0,n+1)),i.isNeg()&&!i.isZero()?"-"+t:t};le.toFixed=function(n,e){var t,i,s=this,o=s.constructor;return n===void 0?t=Tr(s):(qn(n,0,pa),e===void 0?e=o.rounding:qn(e,0,8),i=we(new o(s),n+s.e+1,e),t=Tr(i,!1,n+i.e+1)),s.isNeg()&&!s.isZero()?"-"+t:t};le.toFraction=function(n){var e,t,i,s,o,u,h,f,d,g,v,_,S=this,C=S.d,V=S.constructor;if(!C)return new V(S);if(d=t=new V(1),i=f=new V(0),e=new V(i),o=e.e=SI(C)-S.e-1,u=o%Ie,e.d[0]=Jt(10,u<0?Ie+u:u),n==null)n=o>0?e:d;else{if(h=new V(n),!h.isInt()||h.lt(d))throw Error(aa+h);n=h.gt(e)?o>0?e:d:h}for(Ve=!1,h=new V(pn(C)),g=V.precision,V.precision=o=C.length*Ie*2;v=ft(h,e,0,1,1),s=t.plus(v.times(i)),s.cmp(n)!=1;)t=i,i=s,s=d,d=f.plus(v.times(s)),f=s,s=e,e=h.minus(v.times(s)),h=s;return s=ft(n.minus(t),i,0,1,1),f=f.plus(s.times(d)),t=t.plus(s.times(i)),f.s=d.s=S.s,_=ft(d,i,o,1).minus(S).abs().cmp(ft(f,t,o,1).minus(S).abs())<1?[d,i]:[f,t],V.precision=g,Ve=!0,_};le.toHexadecimal=le.toHex=function(n,e){return Jv(this,16,n,e)};le.toNearest=function(n,e){var t=this,i=t.constructor;if(t=new i(t),n==null){if(!t.d)return t;n=new i(1),e=i.rounding}else{if(n=new i(n),e===void 0?e=i.rounding:qn(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(Ve=!1,t=ft(t,n,0,e,1).times(n),Ve=!0,we(t)):(n.s=t.s,t=n),t};le.toNumber=function(){return+this};le.toOctal=function(n,e){return Jv(this,8,n,e)};le.toPower=le.pow=function(n){var e,t,i,s,o,u,h=this,f=h.constructor,d=+(n=new f(n));if(!h.d||!n.d||!h.d[0]||!n.d[0])return new f(Jt(+h,d));if(h=new f(h),h.eq(1))return h;if(i=f.precision,o=f.rounding,n.eq(1))return we(h,i,o);if(e=Sn(n.e/Ie),e>=n.d.length-1&&(t=d<0?-d:d)<=K4)return s=xI(f,h,t,i),n.s<0?new f(1).div(s):we(s,i,o);if(u=h.s,u<0){if(e<n.d.length-1)return new f(NaN);if((n.d[e]&1)==0&&(u=1),h.e==0&&h.d[0]==1&&h.d.length==1)return h.s=u,h}return t=Jt(+h,d),e=t==0||!isFinite(t)?Sn(d*(Math.log("0."+pn(h.d))/Math.LN10+h.e+1)):new f(t+"").e,e>f.maxE+1||e<f.minE-1?new f(e>0?u/0:0):(Ve=!1,f.rounding=h.s=1,t=Math.min(12,(e+"").length),s=B0(n.times(Zs(h,i+t)),i),s.d&&(s=we(s,i+5,1),gh(s.d,i,o)&&(e=i+10,s=we(B0(n.times(Zs(h,e+t)),e),e+5,1),+pn(s.d).slice(i+1,i+15)+1==1e14&&(s=we(s,i+1,0)))),s.s=u,Ve=!0,f.rounding=o,we(s,i,o))};le.toPrecision=function(n,e){var t,i=this,s=i.constructor;return n===void 0?t=Tr(i,i.e<=s.toExpNeg||i.e>=s.toExpPos):(qn(n,1,pa),e===void 0?e=s.rounding:qn(e,0,8),i=we(new s(i),n,e),t=Tr(i,n<=i.e||i.e<=s.toExpNeg,n)),i.isNeg()&&!i.isZero()?"-"+t:t};le.toSignificantDigits=le.toSD=function(n,e){var t=this,i=t.constructor;return n===void 0?(n=i.precision,e=i.rounding):(qn(n,1,pa),e===void 0?e=i.rounding:qn(e,0,8)),we(new i(t),n,e)};le.toString=function(){var n=this,e=n.constructor,t=Tr(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t};le.truncated=le.trunc=function(){return we(new this.constructor(this),this.e+1,1)};le.valueOf=le.toJSON=function(){var n=this,e=n.constructor,t=Tr(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};function pn(n){var e,t,i,s=n.length-1,o="",u=n[0];if(s>0){for(o+=u,e=1;e<s;e++)i=n[e]+"",t=Ie-i.length,t&&(o+=Ks(t)),o+=i;u=n[e],i=u+"",t=Ie-i.length,t&&(o+=Ks(t))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}function qn(n,e,t){if(n!==~~n||n<e||n>t)throw Error(aa+n)}function gh(n,e,t,i){var s,o,u,h;for(o=n[0];o>=10;o/=10)--e;return--e<0?(e+=Ie,s=0):(s=Math.ceil((e+1)/Ie),e%=Ie),o=Jt(10,Ie-e),h=n[s]%o|0,i==null?e<3?(e==0?h=h/100|0:e==1&&(h=h/10|0),u=t<4&&h==99999||t>3&&h==49999||h==5e4||h==0):u=(t<4&&h+1==o||t>3&&h+1==o/2)&&(n[s+1]/o/100|0)==Jt(10,e-2)-1||(h==o/2||h==0)&&(n[s+1]/o/100|0)==0:e<4?(e==0?h=h/1e3|0:e==1?h=h/100|0:e==2&&(h=h/10|0),u=(i||t<4)&&h==9999||!i&&t>3&&h==4999):u=((i||t<4)&&h+1==o||!i&&t>3&&h+1==o/2)&&(n[s+1]/o/1e3|0)==Jt(10,e-3)-1,u}function em(n,e,t){for(var i,s=[0],o,u=0,h=n.length;u<h;){for(o=s.length;o--;)s[o]*=e;for(s[0]+=j0.indexOf(n.charAt(u++)),i=0;i<s.length;i++)s[i]>t-1&&(s[i+1]===void 0&&(s[i+1]=0),s[i+1]+=s[i]/t|0,s[i]%=t)}return s.reverse()}function Q4(n,e){var t,i,s;if(e.isZero())return e;i=e.d.length,i<32?(t=Math.ceil(i/3),s=(1/up(4,t)).toString()):(t=16,s="2.3283064365386962890625e-10"),n.precision+=t,e=Yl(n,1,e.times(s),new n(1));for(var o=t;o--;){var u=e.times(e);e=u.times(u).minus(u).times(8).plus(1)}return n.precision-=t,e}var ft=(function(){function n(i,s,o){var u,h=0,f=i.length;for(i=i.slice();f--;)u=i[f]*s+h,i[f]=u%o|0,h=u/o|0;return h&&i.unshift(h),i}function e(i,s,o,u){var h,f;if(o!=u)f=o>u?1:-1;else for(h=f=0;h<o;h++)if(i[h]!=s[h]){f=i[h]>s[h]?1:-1;break}return f}function t(i,s,o,u){for(var h=0;o--;)i[o]-=h,h=i[o]<s[o]?1:0,i[o]=h*u+i[o]-s[o];for(;!i[0]&&i.length>1;)i.shift()}return function(i,s,o,u,h,f){var d,g,v,_,S,C,V,M,z,q,L,J,ee,re,R,A,D,N,k,U,P=i.constructor,Ee=i.s==s.s?1:-1,de=i.d,H=s.d;if(!de||!de[0]||!H||!H[0])return new P(!i.s||!s.s||(de?H&&de[0]==H[0]:!H)?NaN:de&&de[0]==0||!H?Ee*0:Ee/0);for(f?(S=1,g=i.e-s.e):(f=zi,S=Ie,g=Sn(i.e/S)-Sn(s.e/S)),k=H.length,D=de.length,z=new P(Ee),q=z.d=[],v=0;H[v]==(de[v]||0);v++);if(H[v]>(de[v]||0)&&g--,o==null?(re=o=P.precision,u=P.rounding):h?re=o+(i.e-s.e)+1:re=o,re<0)q.push(1),C=!0;else{if(re=re/S+2|0,v=0,k==1){for(_=0,H=H[0],re++;(v<D||_)&&re--;v++)R=_*f+(de[v]||0),q[v]=R/H|0,_=R%H|0;C=_||v<D}else{for(_=f/(H[0]+1)|0,_>1&&(H=n(H,_,f),de=n(de,_,f),k=H.length,D=de.length),A=k,L=de.slice(0,k),J=L.length;J<k;)L[J++]=0;U=H.slice(),U.unshift(0),N=H[0],H[1]>=f/2&&++N;do _=0,d=e(H,L,k,J),d<0?(ee=L[0],k!=J&&(ee=ee*f+(L[1]||0)),_=ee/N|0,_>1?(_>=f&&(_=f-1),V=n(H,_,f),M=V.length,J=L.length,d=e(V,L,M,J),d==1&&(_--,t(V,k<M?U:H,M,f))):(_==0&&(d=_=1),V=H.slice()),M=V.length,M<J&&V.unshift(0),t(L,V,J,f),d==-1&&(J=L.length,d=e(H,L,k,J),d<1&&(_++,t(L,k<J?U:H,J,f))),J=L.length):d===0&&(_++,L=[0]),q[v++]=_,d&&L[0]?L[J++]=de[A]||0:(L=[de[A]],J=1);while((A++<D||L[0]!==void 0)&&re--);C=L[0]!==void 0}q[0]||q.shift()}if(S==1)z.e=g,_I=C;else{for(v=1,_=q[0];_>=10;_/=10)v++;z.e=v+g*S-1,we(z,h?o+z.e+1:o,u,C)}return z}})();function we(n,e,t,i){var s,o,u,h,f,d,g,v,_,S=n.constructor;e:if(e!=null){if(v=n.d,!v)return n;for(s=1,h=v[0];h>=10;h/=10)s++;if(o=e-s,o<0)o+=Ie,u=e,g=v[_=0],f=g/Jt(10,s-u-1)%10|0;else if(_=Math.ceil((o+1)/Ie),h=v.length,_>=h)if(i){for(;h++<=_;)v.push(0);g=f=0,s=1,o%=Ie,u=o-Ie+1}else break e;else{for(g=h=v[_],s=1;h>=10;h/=10)s++;o%=Ie,u=o-Ie+s,f=u<0?0:g/Jt(10,s-u-1)%10|0}if(i=i||e<0||v[_+1]!==void 0||(u<0?g:g%Jt(10,s-u-1)),d=t<4?(f||i)&&(t==0||t==(n.s<0?3:2)):f>5||f==5&&(t==4||i||t==6&&(o>0?u>0?g/Jt(10,s-u):0:v[_-1])%10&1||t==(n.s<0?8:7)),e<1||!v[0])return v.length=0,d?(e-=n.e+1,v[0]=Jt(10,(Ie-e%Ie)%Ie),n.e=-e||0):v[0]=n.e=0,n;if(o==0?(v.length=_,h=1,_--):(v.length=_+1,h=Jt(10,Ie-o),v[_]=u>0?(g/Jt(10,s-u)%Jt(10,u)|0)*h:0),d)for(;;)if(_==0){for(o=1,u=v[0];u>=10;u/=10)o++;for(u=v[0]+=h,h=1;u>=10;u/=10)h++;o!=h&&(n.e++,v[0]==zi&&(v[0]=1));break}else{if(v[_]+=h,v[_]!=zi)break;v[_--]=0,h=1}for(o=v.length;v[--o]===0;)v.pop()}return Ve&&(n.e>S.maxE?(n.d=null,n.e=NaN):n.e<S.minE&&(n.e=0,n.d=[0])),n}function Tr(n,e,t){if(!n.isFinite())return II(n);var i,s=n.e,o=pn(n.d),u=o.length;return e?(t&&(i=t-u)>0?o=o.charAt(0)+"."+o.slice(1)+Ks(i):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(n.e<0?"e":"e+")+n.e):s<0?(o="0."+Ks(-s-1)+o,t&&(i=t-u)>0&&(o+=Ks(i))):s>=u?(o+=Ks(s+1-u),t&&(i=t-s-1)>0&&(o=o+"."+Ks(i))):((i=s+1)<u&&(o=o.slice(0,i)+"."+o.slice(i)),t&&(i=t-u)>0&&(s+1===u&&(o+="."),o+=Ks(i))),o}function lp(n,e){var t=n[0];for(e*=Ie;t>=10;t/=10)e++;return e}function Im(n,e,t){if(e>$4)throw Ve=!0,t&&(n.precision=t),Error(bI);return we(new n(xm),e,1,!0)}function fr(n,e,t){if(e>U0)throw Error(bI);return we(new n(Am),e,t,!0)}function SI(n){var e=n.length-1,t=e*Ie+1;if(e=n[e],e){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function Ks(n){for(var e="";n--;)e+="0";return e}function xI(n,e,t,i){var s,o=new n(1),u=Math.ceil(i/Ie+4);for(Ve=!1;;){if(t%2&&(o=o.times(e),jw(o.d,u)&&(s=!0)),t=Sn(t/2),t===0){t=o.d.length-1,s&&o.d[t]===0&&++o.d[t];break}e=e.times(e),jw(e.d,u)}return Ve=!0,o}function Lw(n){return n.d[n.d.length-1]&1}function AI(n,e,t){for(var i,s,o=new n(e[0]),u=0;++u<e.length;){if(s=new n(e[u]),!s.s){o=s;break}i=o.cmp(s),(i===t||i===0&&o.s===t)&&(o=s)}return o}function B0(n,e){var t,i,s,o,u,h,f,d=0,g=0,v=0,_=n.constructor,S=_.rounding,C=_.precision;if(!n.d||!n.d[0]||n.e>17)return new _(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(e==null?(Ve=!1,f=C):f=e,h=new _(.03125);n.e>-2;)n=n.times(h),v+=5;for(i=Math.log(Jt(2,v))/Math.LN10*2+5|0,f+=i,t=o=u=new _(1),_.precision=f;;){if(o=we(o.times(n),f,1),t=t.times(++g),h=u.plus(ft(o,t,f,1)),pn(h.d).slice(0,f)===pn(u.d).slice(0,f)){for(s=v;s--;)u=we(u.times(u),f,1);if(e==null)if(d<3&&gh(u.d,f-i,S,d))_.precision=f+=10,t=o=h=new _(1),g=0,d++;else return we(u,_.precision=C,S,Ve=!0);else return _.precision=C,u}u=h}}function Zs(n,e){var t,i,s,o,u,h,f,d,g,v,_,S=1,C=10,V=n,M=V.d,z=V.constructor,q=z.rounding,L=z.precision;if(V.s<0||!M||!M[0]||!V.e&&M[0]==1&&M.length==1)return new z(M&&!M[0]?-1/0:V.s!=1?NaN:M?0:V);if(e==null?(Ve=!1,g=L):g=e,z.precision=g+=C,t=pn(M),i=t.charAt(0),Math.abs(o=V.e)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)V=V.times(n),t=pn(V.d),i=t.charAt(0),S++;o=V.e,i>1?(V=new z("0."+t),o++):V=new z(i+"."+t.slice(1))}else return d=Im(z,g+2,L).times(o+""),V=Zs(new z(i+"."+t.slice(1)),g-C).plus(d),z.precision=L,e==null?we(V,L,q,Ve=!0):V;for(v=V,f=u=V=ft(V.minus(1),V.plus(1),g,1),_=we(V.times(V),g,1),s=3;;){if(u=we(u.times(_),g,1),d=f.plus(ft(u,new z(s),g,1)),pn(d.d).slice(0,g)===pn(f.d).slice(0,g))if(f=f.times(2),o!==0&&(f=f.plus(Im(z,g+2,L).times(o+""))),f=ft(f,new z(S),g,1),e==null)if(gh(f.d,g-C,q,h))z.precision=g+=C,d=u=V=ft(v.minus(1),v.plus(1),g,1),_=we(V.times(V),g,1),s=h=1;else return we(f,z.precision=L,q,Ve=!0);else return z.precision=L,f;f=d,s+=2}}function II(n){return String(n.s*n.s/0)}function tm(n,e){var t,i,s;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;i++);for(s=e.length;e.charCodeAt(s-1)===48;--s);if(e=e.slice(i,s),e){if(s-=i,n.e=t=t-i-1,n.d=[],i=(t+1)%Ie,t<0&&(i+=Ie),i<s){for(i&&n.d.push(+e.slice(0,i)),s-=Ie;i<s;)n.d.push(+e.slice(i,i+=Ie));e=e.slice(i),i=Ie-e.length}else i-=s;for(;i--;)e+="0";n.d.push(+e),Ve&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function Y4(n,e){var t,i,s,o,u,h,f,d,g;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),wI.test(e))return tm(n,e)}else if(e==="Infinity"||e==="NaN")return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(H4.test(e))t=16,e=e.toLowerCase();else if(q4.test(e))t=2;else if(G4.test(e))t=8;else throw Error(aa+e);for(o=e.search(/p/i),o>0?(f=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),u=o>=0,i=n.constructor,u&&(e=e.replace(".",""),h=e.length,o=h-o,s=xI(i,new i(t),o,o*2)),d=em(e,t,zi),g=d.length-1,o=g;d[o]===0;--o)d.pop();return o<0?new i(n.s*0):(n.e=lp(d,g),n.d=d,Ve=!1,u&&(n=ft(n,s,h*4)),f&&(n=n.times(Math.abs(f)<54?Jt(2,f):Oi.pow(2,f))),Ve=!0,n)}function X4(n,e){var t,i=e.d.length;if(i<3)return e.isZero()?e:Yl(n,2,e,e);t=1.4*Math.sqrt(i),t=t>16?16:t|0,e=e.times(1/up(5,t)),e=Yl(n,2,e,e);for(var s,o=new n(5),u=new n(16),h=new n(20);t--;)s=e.times(e),e=e.times(o.plus(s.times(u.times(s).minus(h))));return e}function Yl(n,e,t,i,s){var o,u,h,f,d=n.precision,g=Math.ceil(d/Ie);for(Ve=!1,f=t.times(t),h=new n(i);;){if(u=ft(h.times(f),new n(e++*e++),d,1),h=s?i.plus(u):i.minus(u),i=ft(u.times(f),new n(e++*e++),d,1),u=h.plus(i),u.d[g]!==void 0){for(o=g;u.d[o]===h.d[o]&&o--;);if(o==-1)break}o=h,h=i,i=u,u=o}return Ve=!0,u.d.length=g+1,u}function up(n,e){for(var t=n;--e;)t*=n;return t}function RI(n,e){var t,i=e.s<0,s=fr(n,n.precision,1),o=s.times(.5);if(e=e.abs(),e.lte(o))return Hr=i?4:1,e;if(t=e.divToInt(s),t.isZero())Hr=i?3:2;else{if(e=e.minus(t.times(s)),e.lte(o))return Hr=Lw(t)?i?2:3:i?4:1,e;Hr=Lw(t)?i?1:4:i?3:2}return e.minus(s).abs()}function Jv(n,e,t,i){var s,o,u,h,f,d,g,v,_,S=n.constructor,C=t!==void 0;if(C?(qn(t,1,pa),i===void 0?i=S.rounding:qn(i,0,8)):(t=S.precision,i=S.rounding),!n.isFinite())g=II(n);else{for(g=Tr(n),u=g.indexOf("."),C?(s=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):s=e,u>=0&&(g=g.replace(".",""),_=new S(1),_.e=g.length-u,_.d=em(Tr(_),10,s),_.e=_.d.length),v=em(g,10,s),o=f=v.length;v[--f]==0;)v.pop();if(!v[0])g=C?"0p+0":"0";else{if(u<0?o--:(n=new S(n),n.d=v,n.e=o,n=ft(n,_,t,i,0,s),v=n.d,o=n.e,d=_I),u=v[t],h=s/2,d=d||v[t+1]!==void 0,d=i<4?(u!==void 0||d)&&(i===0||i===(n.s<0?3:2)):u>h||u===h&&(i===4||d||i===6&&v[t-1]&1||i===(n.s<0?8:7)),v.length=t,d)for(;++v[--t]>s-1;)v[t]=0,t||(++o,v.unshift(1));for(f=v.length;!v[f-1];--f);for(u=0,g="";u<f;u++)g+=j0.charAt(v[u]);if(C){if(f>1)if(e==16||e==8){for(u=e==16?4:3,--f;f%u;f++)g+="0";for(v=em(g,s,e),f=v.length;!v[f-1];--f);for(u=1,g="1.";u<f;u++)g+=j0.charAt(v[u])}else g=g.charAt(0)+"."+g.slice(1);g=g+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)g="0"+g;g="0."+g}else if(++o>f)for(o-=f;o--;)g+="0";else o<f&&(g=g.slice(0,o)+"."+g.slice(o))}g=(e==16?"0x":e==2?"0b":e==8?"0o":"")+g}return n.s<0?"-"+g:g}function jw(n,e){if(n.length>e)return n.length=e,!0}function W4(n){return new this(n).abs()}function Z4(n){return new this(n).acos()}function J4(n){return new this(n).acosh()}function eP(n,e){return new this(n).plus(e)}function tP(n){return new this(n).asin()}function nP(n){return new this(n).asinh()}function iP(n){return new this(n).atan()}function rP(n){return new this(n).atanh()}function sP(n,e){n=new this(n),e=new this(e);var t,i=this.precision,s=this.rounding,o=i+4;return!n.s||!e.s?t=new this(NaN):!n.d&&!e.d?(t=fr(this,o,1).times(e.s>0?.25:.75),t.s=n.s):!e.d||n.isZero()?(t=e.s<0?fr(this,i,s):new this(0),t.s=n.s):!n.d||e.isZero()?(t=fr(this,o,1).times(.5),t.s=n.s):e.s<0?(this.precision=o,this.rounding=1,t=this.atan(ft(n,e,o,1)),e=fr(this,o,1),this.precision=i,this.rounding=s,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(ft(n,e,o,1)),t}function aP(n){return new this(n).cbrt()}function oP(n){return we(n=new this(n),n.e+1,2)}function lP(n,e,t){return new this(n).clamp(e,t)}function uP(n){if(!n||typeof n!="object")throw Error(op+"Object expected");var e,t,i,s=n.defaults===!0,o=["precision",1,pa,"rounding",0,8,"toExpNeg",-Ll,0,"toExpPos",0,Ll,"maxE",0,Ll,"minE",-Ll,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(t=o[e],s&&(this[t]=z0[t]),(i=n[t])!==void 0)if(Sn(i)===i&&i>=o[e+1]&&i<=o[e+2])this[t]=i;else throw Error(aa+t+": "+i);if(t="crypto",s&&(this[t]=z0[t]),(i=n[t])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(TI);else this[t]=!1;else throw Error(aa+t+": "+i);return this}function cP(n){return new this(n).cos()}function hP(n){return new this(n).cosh()}function CI(n){var e,t,i;function s(o){var u,h,f,d=this;if(!(d instanceof s))return new s(o);if(d.constructor=s,zw(o)){d.s=o.s,Ve?!o.d||o.e>s.maxE?(d.e=NaN,d.d=null):o.e<s.minE?(d.e=0,d.d=[0]):(d.e=o.e,d.d=o.d.slice()):(d.e=o.e,d.d=o.d?o.d.slice():o.d);return}if(f=typeof o,f==="number"){if(o===0){d.s=1/o<0?-1:1,d.e=0,d.d=[0];return}if(o<0?(o=-o,d.s=-1):d.s=1,o===~~o&&o<1e7){for(u=0,h=o;h>=10;h/=10)u++;Ve?u>s.maxE?(d.e=NaN,d.d=null):u<s.minE?(d.e=0,d.d=[0]):(d.e=u,d.d=[o]):(d.e=u,d.d=[o]);return}if(o*0!==0){o||(d.s=NaN),d.e=NaN,d.d=null;return}return tm(d,o.toString())}if(f==="string")return(h=o.charCodeAt(0))===45?(o=o.slice(1),d.s=-1):(h===43&&(o=o.slice(1)),d.s=1),wI.test(o)?tm(d,o):Y4(d,o);if(f==="bigint")return o<0?(o=-o,d.s=-1):d.s=1,tm(d,o.toString());throw Error(aa+o)}if(s.prototype=le,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=uP,s.clone=CI,s.isDecimal=zw,s.abs=W4,s.acos=Z4,s.acosh=J4,s.add=eP,s.asin=tP,s.asinh=nP,s.atan=iP,s.atanh=rP,s.atan2=sP,s.cbrt=aP,s.ceil=oP,s.clamp=lP,s.cos=cP,s.cosh=hP,s.div=fP,s.exp=dP,s.floor=mP,s.hypot=pP,s.ln=gP,s.log=yP,s.log10=_P,s.log2=vP,s.max=bP,s.min=TP,s.mod=EP,s.mul=wP,s.pow=SP,s.random=xP,s.round=AP,s.sign=IP,s.sin=RP,s.sinh=CP,s.sqrt=DP,s.sub=NP,s.sum=kP,s.tan=VP,s.tanh=MP,s.trunc=PP,n===void 0&&(n={}),n&&n.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return s.config(n),s}function fP(n,e){return new this(n).div(e)}function dP(n){return new this(n).exp()}function mP(n){return we(n=new this(n),n.e+1,3)}function pP(){var n,e,t=new this(0);for(Ve=!1,n=0;n<arguments.length;)if(e=new this(arguments[n++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Ve=!0,new this(1/0);t=e}return Ve=!0,t.sqrt()}function zw(n){return n instanceof Oi||n&&n.toStringTag===EI||!1}function gP(n){return new this(n).ln()}function yP(n,e){return new this(n).log(e)}function vP(n){return new this(n).log(2)}function _P(n){return new this(n).log(10)}function bP(){return AI(this,arguments,-1)}function TP(){return AI(this,arguments,1)}function EP(n,e){return new this(n).mod(e)}function wP(n,e){return new this(n).mul(e)}function SP(n,e){return new this(n).pow(e)}function xP(n){var e,t,i,s,o=0,u=new this(1),h=[];if(n===void 0?n=this.precision:qn(n,1,pa),i=Math.ceil(n/Ie),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));o<i;)s=e[o],s>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:h[o++]=s%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(i*=4);o<i;)s=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(e,o):(h.push(s%1e7),o+=4);o=i/4}else throw Error(TI);else for(;o<i;)h[o++]=Math.random()*1e7|0;for(i=h[--o],n%=Ie,i&&n&&(s=Jt(10,Ie-n),h[o]=(i/s|0)*s);h[o]===0;o--)h.pop();if(o<0)t=0,h=[0];else{for(t=-1;h[0]===0;t-=Ie)h.shift();for(i=1,s=h[0];s>=10;s/=10)i++;i<Ie&&(t-=Ie-i)}return u.e=t,u.d=h,u}function AP(n){return we(n=new this(n),n.e+1,this.rounding)}function IP(n){return n=new this(n),n.d?n.d[0]?n.s:0*n.s:n.s||NaN}function RP(n){return new this(n).sin()}function CP(n){return new this(n).sinh()}function DP(n){return new this(n).sqrt()}function NP(n,e){return new this(n).sub(e)}function kP(){var n=0,e=arguments,t=new this(e[n]);for(Ve=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return Ve=!0,we(t,this.precision,this.rounding)}function VP(n){return new this(n).tan()}function MP(n){return new this(n).tanh()}function PP(n){return we(n=new this(n),n.e+1,1)}le[Symbol.for("nodejs.util.inspect.custom")]=le.toString;le[Symbol.toStringTag]="Decimal";var Oi=le.constructor=CI(z0);xm=new Oi(xm);Am=new Oi(Am);const OP=()=>{};var Uw={};const DI=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},LP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},NI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,g=o>>2,v=(o&3)<<4|h>>4;let _=(h&15)<<2|d>>6,S=d&63;f||(S=64,u||(_=64)),i.push(t[g],t[v],t[_],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(DI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):LP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||d==null||v==null)throw new jP;const _=o<<2|h>>4;if(i.push(_),d!==64){const S=h<<4&240|d>>2;if(i.push(S),v!==64){const C=d<<6&192|v;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zP=function(n){const e=DI(n);return NI.encodeByteArray(e,!0)},kI=function(n){return zP(n).replace(/\./g,"")},VI=function(n){try{return NI.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const UP=()=>MI().__FIREBASE_DEFAULTS__,BP=()=>{if(typeof process>"u"||typeof Uw>"u")return;const n=Uw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&VI(n[1]);return e&&JSON.parse(e)},cp=()=>{try{return OP()||UP()||BP()||FP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qP=n=>cp()?.emulatorHosts?.[n],PI=()=>cp()?.config,OI=n=>cp()?.[`_${n}`];class HP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function _u(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LI(n){return(await fetch(n,{credentials:"include"})).ok}const Jc={};function GP(){const n={prod:[],emulator:[]};for(const e of Object.keys(Jc))Jc[e]?n.emulator.push(e):n.prod.push(e);return n}function KP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Bw=!1;function $P(n,e){if(typeof window>"u"||typeof document>"u"||!_u(window.location.host)||Jc[n]===e||Jc[n]||Bw)return;Jc[n]=e;function t(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=GP().prod.length>0;function u(){const _=document.getElementById(i);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Bw=!0,u()},_}function g(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=KP(i),S=t("text"),C=document.getElementById(S)||document.createElement("span"),V=t("learnmore"),M=document.getElementById(V)||document.createElement("a"),z=t("preprendIcon"),q=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;h(L),g(M,V);const J=d();f(q,z),L.append(q,C,M,J),document.body.appendChild(L)}o?(C.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function jI(){const n=cp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZP(){const n=en();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zI(){return!jI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UI(){return!jI()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function BI(){try{return typeof indexedDB=="object"}catch{return!1}}function JP(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const eO="FirebaseError";class rs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=eO,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qh.prototype.create)}}class qh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?tO(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new rs(s,h,i)}}function tO(n,e){return n.replace(nO,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const nO=/\{\$([^}]+)}/g;function iO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function To(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const o=n[s],u=e[s];if(Fw(o)&&Fw(u)){if(!To(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function Fw(n){return n!==null&&typeof n=="object"}function Hh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function rO(n,e){const t=new sO(n,e);return t.subscribe.bind(t)}class sO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");aO(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=t0),s.error===void 0&&(s.error=t0),s.complete===void 0&&(s.complete=t0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function t0(){}function xn(n){return n&&n._delegate?n._delegate:n}class Eo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const to="[DEFAULT]";class oO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new HP;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uO(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lO(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lO(n){return n===to?void 0:n}function uO(n){return n.instantiationMode==="EAGER"}class cO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ge||(Ge={}));const hO={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},fO=Ge.INFO,dO={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},mO=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=dO[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e_{constructor(e){this.name=e,this._logLevel=fO,this._logHandler=mO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const pO=(n,e)=>e.some(t=>n instanceof t);let qw,Hw;function gO(){return qw||(qw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yO(){return Hw||(Hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FI=new WeakMap,F0=new WeakMap,qI=new WeakMap,n0=new WeakMap,t_=new WeakMap;function vO(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(ea(n.result)),s()},u=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&FI.set(t,n)}).catch(()=>{}),t_.set(e,n),e}function _O(n){if(F0.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});F0.set(n,e)}let q0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return F0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ea(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bO(n){q0=n(q0)}function TO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(i0(this),e,...t);return qI.set(i,e.sort?e.sort():[e]),ea(i)}:yO().includes(n)?function(...e){return n.apply(i0(this),e),ea(FI.get(this))}:function(...e){return ea(n.apply(i0(this),e))}}function EO(n){return typeof n=="function"?TO(n):(n instanceof IDBTransaction&&_O(n),pO(n,gO())?new Proxy(n,q0):n)}function ea(n){if(n instanceof IDBRequest)return vO(n);if(n0.has(n))return n0.get(n);const e=EO(n);return e!==n&&(n0.set(n,e),t_.set(e,n)),e}const i0=n=>t_.get(n);function wO(n,e,{blocked:t,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),h=ea(u);return i&&u.addEventListener("upgradeneeded",f=>{i(ea(u.result),f.oldVersion,f.newVersion,ea(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const SO=["get","getKey","getAll","getAllKeys","count"],xO=["put","add","delete","clear"],r0=new Map;function Gw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(r0.get(e))return r0.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=xO.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||SO.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),s&&f.done]))[0]};return r0.set(e,o),o}bO(n=>({...n,get:(e,t,i)=>Gw(e,t)||n.get(e,t,i),has:(e,t)=>!!Gw(e,t)||n.has(e,t)}));class AO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(IO(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function IO(n){return n.getComponent()?.type==="VERSION"}const H0="@firebase/app",Kw="0.14.6";const Wr=new e_("@firebase/app"),RO="@firebase/app-compat",CO="@firebase/analytics-compat",DO="@firebase/analytics",NO="@firebase/app-check-compat",kO="@firebase/app-check",VO="@firebase/auth",MO="@firebase/auth-compat",PO="@firebase/database",OO="@firebase/data-connect",LO="@firebase/database-compat",jO="@firebase/functions",zO="@firebase/functions-compat",UO="@firebase/installations",BO="@firebase/installations-compat",FO="@firebase/messaging",qO="@firebase/messaging-compat",HO="@firebase/performance",GO="@firebase/performance-compat",KO="@firebase/remote-config",$O="@firebase/remote-config-compat",QO="@firebase/storage",YO="@firebase/storage-compat",XO="@firebase/firestore",WO="@firebase/ai",ZO="@firebase/firestore-compat",JO="firebase",e3="12.6.0";const G0="[DEFAULT]",t3={[H0]:"fire-core",[RO]:"fire-core-compat",[DO]:"fire-analytics",[CO]:"fire-analytics-compat",[kO]:"fire-app-check",[NO]:"fire-app-check-compat",[VO]:"fire-auth",[MO]:"fire-auth-compat",[PO]:"fire-rtdb",[OO]:"fire-data-connect",[LO]:"fire-rtdb-compat",[jO]:"fire-fn",[zO]:"fire-fn-compat",[UO]:"fire-iid",[BO]:"fire-iid-compat",[FO]:"fire-fcm",[qO]:"fire-fcm-compat",[HO]:"fire-perf",[GO]:"fire-perf-compat",[KO]:"fire-rc",[$O]:"fire-rc-compat",[QO]:"fire-gcs",[YO]:"fire-gcs-compat",[XO]:"fire-fst",[ZO]:"fire-fst-compat",[WO]:"fire-vertex","fire-js":"fire-js",[JO]:"fire-js-all"};const Rm=new Map,n3=new Map,K0=new Map;function $w(n,e){try{n.container.addComponent(e)}catch(t){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xl(n){const e=n.name;if(K0.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;K0.set(e,n);for(const t of Rm.values())$w(t,n);for(const t of n3.values())$w(t,n);return!0}function n_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hr(n){return n==null?!1:n.settings!==void 0}const i3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new qh("app","Firebase",i3);class r3{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}const bu=e3;function HI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:G0,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw ta.create("bad-app-name",{appName:String(s)});if(t||(t=PI()),!t)throw ta.create("no-options");const o=Rm.get(s);if(o){if(To(t,o.options)&&To(i,o.config))return o;throw ta.create("duplicate-app",{appName:s})}const u=new cO(s);for(const f of K0.values())u.addComponent(f);const h=new r3(t,i,u);return Rm.set(s,h),h}function s3(n=G0){const e=Rm.get(n);if(!e&&n===G0&&PI())return HI();if(!e)throw ta.create("no-app",{appName:n});return e}function na(n,e,t){let i=t3[n]??n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(u.join(" "));return}Xl(new Eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const a3="firebase-heartbeat-database",o3=1,yh="firebase-heartbeat-store";let s0=null;function GI(){return s0||(s0=wO(a3,o3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yh)}catch(t){console.warn(t)}}}}).catch(n=>{throw ta.create("idb-open",{originalErrorMessage:n.message})})),s0}async function l3(n){try{const t=(await GI()).transaction(yh),i=await t.objectStore(yh).get(KI(n));return await t.done,i}catch(e){if(e instanceof rs)Wr.warn(e.message);else{const t=ta.create("idb-get",{originalErrorMessage:e?.message});Wr.warn(t.message)}}}async function Qw(n,e){try{const i=(await GI()).transaction(yh,"readwrite");await i.objectStore(yh).put(e,KI(n)),await i.done}catch(t){if(t instanceof rs)Wr.warn(t.message);else{const i=ta.create("idb-set",{originalErrorMessage:t?.message});Wr.warn(i.message)}}}function KI(n){return`${n.name}!${n.options.appId}`}const u3=1024,c3=30;class h3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new d3(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Yw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>c3){const s=m3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yw(),{heartbeatsToSend:t,unsentEntries:i}=f3(this._heartbeatsCache.heartbeats),s=kI(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Wr.warn(e),""}}}function Yw(){return new Date().toISOString().substring(0,10)}function f3(n,e=u3){const t=[];let i=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),Xw(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Xw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class d3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BI()?JP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await l3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Qw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Qw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xw(n){return kI(JSON.stringify({version:2,heartbeats:n})).length}function m3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function p3(n){Xl(new Eo("platform-logger",e=>new AO(e),"PRIVATE")),Xl(new Eo("heartbeat",e=>new h3(e),"PRIVATE")),na(H0,Kw,n),na(H0,Kw,"esm2020"),na("fire-js","")}p3("");var Ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ia,$I;(function(){var n;function e(R,A){function D(){}D.prototype=A.prototype,R.F=A.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(N,k,U){for(var P=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)P[Ee-2]=arguments[Ee];return A.prototype[k].apply(N,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,A,D){D||(D=0);const N=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)N[k]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(k=0;k<16;++k)N[k]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=R.g[0],D=R.g[1],k=R.g[2];let U=R.g[3],P;P=A+(U^D&(k^U))+N[0]+3614090360&4294967295,A=D+(P<<7&4294967295|P>>>25),P=U+(k^A&(D^k))+N[1]+3905402710&4294967295,U=A+(P<<12&4294967295|P>>>20),P=k+(D^U&(A^D))+N[2]+606105819&4294967295,k=U+(P<<17&4294967295|P>>>15),P=D+(A^k&(U^A))+N[3]+3250441966&4294967295,D=k+(P<<22&4294967295|P>>>10),P=A+(U^D&(k^U))+N[4]+4118548399&4294967295,A=D+(P<<7&4294967295|P>>>25),P=U+(k^A&(D^k))+N[5]+1200080426&4294967295,U=A+(P<<12&4294967295|P>>>20),P=k+(D^U&(A^D))+N[6]+2821735955&4294967295,k=U+(P<<17&4294967295|P>>>15),P=D+(A^k&(U^A))+N[7]+4249261313&4294967295,D=k+(P<<22&4294967295|P>>>10),P=A+(U^D&(k^U))+N[8]+1770035416&4294967295,A=D+(P<<7&4294967295|P>>>25),P=U+(k^A&(D^k))+N[9]+2336552879&4294967295,U=A+(P<<12&4294967295|P>>>20),P=k+(D^U&(A^D))+N[10]+4294925233&4294967295,k=U+(P<<17&4294967295|P>>>15),P=D+(A^k&(U^A))+N[11]+2304563134&4294967295,D=k+(P<<22&4294967295|P>>>10),P=A+(U^D&(k^U))+N[12]+1804603682&4294967295,A=D+(P<<7&4294967295|P>>>25),P=U+(k^A&(D^k))+N[13]+4254626195&4294967295,U=A+(P<<12&4294967295|P>>>20),P=k+(D^U&(A^D))+N[14]+2792965006&4294967295,k=U+(P<<17&4294967295|P>>>15),P=D+(A^k&(U^A))+N[15]+1236535329&4294967295,D=k+(P<<22&4294967295|P>>>10),P=A+(k^U&(D^k))+N[1]+4129170786&4294967295,A=D+(P<<5&4294967295|P>>>27),P=U+(D^k&(A^D))+N[6]+3225465664&4294967295,U=A+(P<<9&4294967295|P>>>23),P=k+(A^D&(U^A))+N[11]+643717713&4294967295,k=U+(P<<14&4294967295|P>>>18),P=D+(U^A&(k^U))+N[0]+3921069994&4294967295,D=k+(P<<20&4294967295|P>>>12),P=A+(k^U&(D^k))+N[5]+3593408605&4294967295,A=D+(P<<5&4294967295|P>>>27),P=U+(D^k&(A^D))+N[10]+38016083&4294967295,U=A+(P<<9&4294967295|P>>>23),P=k+(A^D&(U^A))+N[15]+3634488961&4294967295,k=U+(P<<14&4294967295|P>>>18),P=D+(U^A&(k^U))+N[4]+3889429448&4294967295,D=k+(P<<20&4294967295|P>>>12),P=A+(k^U&(D^k))+N[9]+568446438&4294967295,A=D+(P<<5&4294967295|P>>>27),P=U+(D^k&(A^D))+N[14]+3275163606&4294967295,U=A+(P<<9&4294967295|P>>>23),P=k+(A^D&(U^A))+N[3]+4107603335&4294967295,k=U+(P<<14&4294967295|P>>>18),P=D+(U^A&(k^U))+N[8]+1163531501&4294967295,D=k+(P<<20&4294967295|P>>>12),P=A+(k^U&(D^k))+N[13]+2850285829&4294967295,A=D+(P<<5&4294967295|P>>>27),P=U+(D^k&(A^D))+N[2]+4243563512&4294967295,U=A+(P<<9&4294967295|P>>>23),P=k+(A^D&(U^A))+N[7]+1735328473&4294967295,k=U+(P<<14&4294967295|P>>>18),P=D+(U^A&(k^U))+N[12]+2368359562&4294967295,D=k+(P<<20&4294967295|P>>>12),P=A+(D^k^U)+N[5]+4294588738&4294967295,A=D+(P<<4&4294967295|P>>>28),P=U+(A^D^k)+N[8]+2272392833&4294967295,U=A+(P<<11&4294967295|P>>>21),P=k+(U^A^D)+N[11]+1839030562&4294967295,k=U+(P<<16&4294967295|P>>>16),P=D+(k^U^A)+N[14]+4259657740&4294967295,D=k+(P<<23&4294967295|P>>>9),P=A+(D^k^U)+N[1]+2763975236&4294967295,A=D+(P<<4&4294967295|P>>>28),P=U+(A^D^k)+N[4]+1272893353&4294967295,U=A+(P<<11&4294967295|P>>>21),P=k+(U^A^D)+N[7]+4139469664&4294967295,k=U+(P<<16&4294967295|P>>>16),P=D+(k^U^A)+N[10]+3200236656&4294967295,D=k+(P<<23&4294967295|P>>>9),P=A+(D^k^U)+N[13]+681279174&4294967295,A=D+(P<<4&4294967295|P>>>28),P=U+(A^D^k)+N[0]+3936430074&4294967295,U=A+(P<<11&4294967295|P>>>21),P=k+(U^A^D)+N[3]+3572445317&4294967295,k=U+(P<<16&4294967295|P>>>16),P=D+(k^U^A)+N[6]+76029189&4294967295,D=k+(P<<23&4294967295|P>>>9),P=A+(D^k^U)+N[9]+3654602809&4294967295,A=D+(P<<4&4294967295|P>>>28),P=U+(A^D^k)+N[12]+3873151461&4294967295,U=A+(P<<11&4294967295|P>>>21),P=k+(U^A^D)+N[15]+530742520&4294967295,k=U+(P<<16&4294967295|P>>>16),P=D+(k^U^A)+N[2]+3299628645&4294967295,D=k+(P<<23&4294967295|P>>>9),P=A+(k^(D|~U))+N[0]+4096336452&4294967295,A=D+(P<<6&4294967295|P>>>26),P=U+(D^(A|~k))+N[7]+1126891415&4294967295,U=A+(P<<10&4294967295|P>>>22),P=k+(A^(U|~D))+N[14]+2878612391&4294967295,k=U+(P<<15&4294967295|P>>>17),P=D+(U^(k|~A))+N[5]+4237533241&4294967295,D=k+(P<<21&4294967295|P>>>11),P=A+(k^(D|~U))+N[12]+1700485571&4294967295,A=D+(P<<6&4294967295|P>>>26),P=U+(D^(A|~k))+N[3]+2399980690&4294967295,U=A+(P<<10&4294967295|P>>>22),P=k+(A^(U|~D))+N[10]+4293915773&4294967295,k=U+(P<<15&4294967295|P>>>17),P=D+(U^(k|~A))+N[1]+2240044497&4294967295,D=k+(P<<21&4294967295|P>>>11),P=A+(k^(D|~U))+N[8]+1873313359&4294967295,A=D+(P<<6&4294967295|P>>>26),P=U+(D^(A|~k))+N[15]+4264355552&4294967295,U=A+(P<<10&4294967295|P>>>22),P=k+(A^(U|~D))+N[6]+2734768916&4294967295,k=U+(P<<15&4294967295|P>>>17),P=D+(U^(k|~A))+N[13]+1309151649&4294967295,D=k+(P<<21&4294967295|P>>>11),P=A+(k^(D|~U))+N[4]+4149444226&4294967295,A=D+(P<<6&4294967295|P>>>26),P=U+(D^(A|~k))+N[11]+3174756917&4294967295,U=A+(P<<10&4294967295|P>>>22),P=k+(A^(U|~D))+N[2]+718787259&4294967295,k=U+(P<<15&4294967295|P>>>17),P=D+(U^(k|~A))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+U&4294967295}i.prototype.v=function(R,A){A===void 0&&(A=R.length);const D=A-this.blockSize,N=this.C;let k=this.h,U=0;for(;U<A;){if(k==0)for(;U<=D;)s(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(N[k++]=R.charCodeAt(U++),k==this.blockSize){s(this,N),k=0;break}}else for(;U<A;)if(N[k++]=R[U++],k==this.blockSize){s(this,N),k=0;break}}this.h=k,this.o+=A},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,D=0;D<4;++D)for(let N=0;N<32;N+=8)R[A++]=this.g[D]>>>N&255;return R};function o(R,A){var D=h;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=A(R)}function u(R,A){this.h=A;const D=[];let N=!0;for(let k=R.length-1;k>=0;k--){const U=R[k]|0;N&&U==A||(D[k]=U,N=!1)}this.g=D}var h={};function f(R){return-128<=R&&R<128?o(R,function(A){return new u([A|0],A<0?-1:0)}):new u([R|0],R<0?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return M(d(-R));const A=[];let D=1;for(let N=0;R>=D;N++)A[N]=R/D|0,D*=4294967296;return new u(A,0)}function g(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return M(g(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(A,8));let N=v;for(let U=0;U<R.length;U+=8){var k=Math.min(8,R.length-U);const P=parseInt(R.substring(U,U+k),A);k<8?(k=d(Math.pow(A,k)),N=N.j(k).add(d(P))):(N=N.j(D),N=N.add(d(P)))}return N}var v=f(0),_=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(V(this))return-M(this).m();let R=0,A=1;for(let D=0;D<this.g.length;D++){const N=this.i(D);R+=(N>=0?N:4294967296+N)*A,A*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C(this))return"0";if(V(this))return"-"+M(this).toString(R);const A=d(Math.pow(R,6));var D=this;let N="";for(;;){const k=J(D,A).g;D=z(D,k.j(A));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=k,C(D))return U+N;for(;U.length<6;)U="0"+U;N=U+N}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function C(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function V(R){return R.h==-1}n.l=function(R){return R=z(this,R),V(R)?-1:C(R)?0:1};function M(R){const A=R.g.length,D=[];for(let N=0;N<A;N++)D[N]=~R.g[N];return new u(D,~R.h).add(_)}n.abs=function(){return V(this)?M(this):this},n.add=function(R){const A=Math.max(this.g.length,R.g.length),D=[];let N=0;for(let k=0;k<=A;k++){let U=N+(this.i(k)&65535)+(R.i(k)&65535),P=(U>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);N=P>>>16,U&=65535,P&=65535,D[k]=P<<16|U}return new u(D,D[D.length-1]&-2147483648?-1:0)};function z(R,A){return R.add(M(A))}n.j=function(R){if(C(this)||C(R))return v;if(V(this))return V(R)?M(this).j(M(R)):M(M(this).j(R));if(V(R))return M(this.j(M(R)));if(this.l(S)<0&&R.l(S)<0)return d(this.m()*R.m());const A=this.g.length+R.g.length,D=[];for(var N=0;N<2*A;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(let k=0;k<R.g.length;k++){const U=this.i(N)>>>16,P=this.i(N)&65535,Ee=R.i(k)>>>16,de=R.i(k)&65535;D[2*N+2*k]+=P*de,q(D,2*N+2*k),D[2*N+2*k+1]+=U*de,q(D,2*N+2*k+1),D[2*N+2*k+1]+=P*Ee,q(D,2*N+2*k+1),D[2*N+2*k+2]+=U*Ee,q(D,2*N+2*k+2)}for(R=0;R<A;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=A;R<2*A;R++)D[R]=0;return new u(D,0)};function q(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function L(R,A){this.g=R,this.h=A}function J(R,A){if(C(A))throw Error("division by zero");if(C(R))return new L(v,v);if(V(R))return A=J(M(R),A),new L(M(A.g),M(A.h));if(V(A))return A=J(R,M(A)),new L(M(A.g),A.h);if(R.g.length>30){if(V(R)||V(A))throw Error("slowDivide_ only works with positive integers.");for(var D=_,N=A;N.l(R)<=0;)D=ee(D),N=ee(N);var k=re(D,1),U=re(N,1);for(N=re(N,2),D=re(D,2);!C(N);){var P=U.add(N);P.l(R)<=0&&(k=k.add(D),U=P),N=re(N,1),D=re(D,1)}return A=z(R,k.j(A)),new L(k,A)}for(k=v;R.l(A)>=0;){for(D=Math.max(1,Math.floor(R.m()/A.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),U=d(D),P=U.j(A);V(P)||P.l(R)>0;)D-=N,U=d(D),P=U.j(A);C(U)&&(U=_),k=k.add(U),R=z(R,P)}return new L(k,R)}n.B=function(R){return J(this,R).h},n.and=function(R){const A=Math.max(this.g.length,R.g.length),D=[];for(let N=0;N<A;N++)D[N]=this.i(N)&R.i(N);return new u(D,this.h&R.h)},n.or=function(R){const A=Math.max(this.g.length,R.g.length),D=[];for(let N=0;N<A;N++)D[N]=this.i(N)|R.i(N);return new u(D,this.h|R.h)},n.xor=function(R){const A=Math.max(this.g.length,R.g.length),D=[];for(let N=0;N<A;N++)D[N]=this.i(N)^R.i(N);return new u(D,this.h^R.h)};function ee(R){const A=R.g.length+1,D=[];for(let N=0;N<A;N++)D[N]=R.i(N)<<1|R.i(N-1)>>>31;return new u(D,R.h)}function re(R,A){const D=A>>5;A%=32;const N=R.g.length-D,k=[];for(let U=0;U<N;U++)k[U]=A>0?R.i(U+D)>>>A|R.i(U+D+1)<<32-A:R.i(U+D);return new u(k,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,$I=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,ia=u}).apply(typeof Ww<"u"?Ww:typeof self<"u"?self:typeof window<"u"?window:{});var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var QI,$c,YI,nm,$0,XI,WI,ZI;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof jd=="object"&&jd];for(var b=0;b<m.length;++b){var E=m[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function s(m,b){if(b)e:{var E=i;m=m.split(".");for(var I=0;I<m.length-1;I++){var $=m[I];if(!($ in E))break e;E=E[$]}m=m[m.length-1],I=E[m],b=b(I),b!=I&&b!=null&&e(E,m,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(b){var E=[],I;for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&E.push([I,b[I]]);return E}});var o=o||{},u=this||self;function h(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function f(m,b,E){return m.call.apply(m.bind,arguments)}function d(m,b,E){return d=f,d.apply(null,arguments)}function g(m,b){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),m.apply(this,I)}}function v(m,b){function E(){}E.prototype=b.prototype,m.Z=b.prototype,m.prototype=new E,m.prototype.constructor=m,m.Ob=function(I,$,W){for(var he=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)he[Pe-2]=arguments[Pe];return b.prototype[$].apply(I,he)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function S(m){const b=m.length;if(b>0){const E=Array(b);for(let I=0;I<b;I++)E[I]=m[I];return E}return[]}function C(m,b){for(let I=1;I<arguments.length;I++){const $=arguments[I];var E=typeof $;if(E=E!="object"?E:$?Array.isArray($)?"array":E:"null",E=="array"||E=="object"&&typeof $.length=="number"){E=m.length||0;const W=$.length||0;m.length=E+W;for(let he=0;he<W;he++)m[E+he]=$[he]}else m.push($)}}class V{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(m){u.setTimeout(()=>{throw m},0)}function z(){var m=R;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class q{constructor(){this.h=this.g=null}add(b,E){const I=L.get();I.set(b,E),this.h?this.h.next=I:this.g=I,this.h=I}}var L=new V(()=>new J,m=>m.reset());class J{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,re=!1,R=new q,A=()=>{const m=Promise.resolve(void 0);ee=()=>{m.then(D)}};function D(){for(var m;m=z();){try{m.h.call(m.g)}catch(E){M(E)}var b=L;b.j(m),b.h<100&&(b.h++,m.next=b.g,b.g=m)}re=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};u.addEventListener("test",E,b),u.removeEventListener("test",E,b)}catch{}return m})();function P(m){return/^[\s\xa0]*$/.test(m)}function Ee(m,b){k.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,b)}v(Ee,k),Ee.prototype.init=function(m,b){const E=this.type=m.type,I=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget,b||(E=="mouseover"?b=m.fromElement:E=="mouseout"&&(b=m.toElement)),this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),H=0;function ae(m,b,E,I,$){this.listener=m,this.proxy=null,this.src=b,this.type=E,this.capture=!!I,this.ha=$,this.key=++H,this.da=this.fa=!1}function fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ce(m,b,E){for(const I in m)b.call(E,m[I],I,m)}function Fe(m,b){for(const E in m)b.call(void 0,m[E],E,m)}function F(m){const b={};for(const E in m)b[E]=m[E];return b}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(m,b){let E,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(E in I)m[E]=I[E];for(let W=0;W<oe.length;W++)E=oe[W],Object.prototype.hasOwnProperty.call(I,E)&&(m[E]=I[E])}}function ge(m){this.src=m,this.g={},this.h=0}ge.prototype.add=function(m,b,E,I,$){const W=m.toString();m=this.g[W],m||(m=this.g[W]=[],this.h++);const he=Le(m,b,I,$);return he>-1?(b=m[he],E||(b.fa=!1)):(b=new ae(b,this.src,W,!!I,$),b.fa=E,m.push(b)),b};function Ne(m,b){const E=b.type;if(E in m.g){var I=m.g[E],$=Array.prototype.indexOf.call(I,b,void 0),W;(W=$>=0)&&Array.prototype.splice.call(I,$,1),W&&(fe(b),m.g[E].length==0&&(delete m.g[E],m.h--))}}function Le(m,b,E,I){for(let $=0;$<m.length;++$){const W=m[$];if(!W.da&&W.listener==b&&W.capture==!!E&&W.ha==I)return $}return-1}var Qe="closure_lm_"+(Math.random()*1e6|0),Xt={};function yt(m,b,E,I,$){if(Array.isArray(b)){for(let W=0;W<b.length;W++)yt(m,b[W],E,I,$);return null}return E=Vu(E),m&&m[de]?m.J(b,E,h(I)?!!I.capture:!1,$):Ta(m,b,E,!1,I,$)}function Ta(m,b,E,I,$,W){if(!b)throw Error("Invalid event type");const he=h($)?!!$.capture:!!$;let Pe=Ea(m);if(Pe||(m[Qe]=Pe=new ge(m)),E=Pe.add(b,E,I,he,W),E.proxy)return E;if(I=Po(),E.proxy=I,I.src=m,I.listener=E,m.addEventListener)U||($=he),$===void 0&&($=!1),m.addEventListener(b.toString(),I,$);else if(m.attachEvent)m.attachEvent(Bi(b.toString()),I);else if(m.addListener&&m.removeListener)m.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Po(){function m(E){return b.call(m.src,m.listener,E)}const b=Nu;return m}function Oo(m,b,E,I,$){if(Array.isArray(b))for(var W=0;W<b.length;W++)Oo(m,b[W],E,I,$);else I=h(I)?!!I.capture:!!I,E=Vu(E),m&&m[de]?(m=m.i,W=String(b).toString(),W in m.g&&(b=m.g[W],E=Le(b,E,I,$),E>-1&&(fe(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete m.g[W],m.h--)))):m&&(m=Ea(m))&&(b=m.g[b.toString()],m=-1,b&&(m=Le(b,E,I,$)),(E=m>-1?b[m]:null)&&Lo(E))}function Lo(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[de])Ne(b.i,m);else{var E=m.type,I=m.proxy;b.removeEventListener?b.removeEventListener(E,I,m.capture):b.detachEvent?b.detachEvent(Bi(E),I):b.addListener&&b.removeListener&&b.removeListener(I),(E=Ea(b))?(Ne(E,m),E.h==0&&(E.src=null,b[Qe]=null)):fe(m)}}}function Bi(m){return m in Xt?Xt[m]:Xt[m]="on"+m}function Nu(m,b){if(m.da)m=!0;else{b=new Ee(b,this);const E=m.listener,I=m.ha||m.src;m.fa&&Lo(m),m=E.call(I,b)}return m}function Ea(m){return m=m[Qe],m instanceof ge?m:null}var ku="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vu(m){return typeof m=="function"?m:(m[ku]||(m[ku]=function(b){return m.handleEvent(b)}),m[ku])}function jt(){N.call(this),this.i=new ge(this),this.M=this,this.G=null}v(jt,N),jt.prototype[de]=!0,jt.prototype.removeEventListener=function(m,b,E,I){Oo(this,m,b,E,I)};function Wt(m,b){var E,I=m.G;if(I)for(E=[];I;I=I.G)E.push(I);if(m=m.M,I=b.type||b,typeof b=="string")b=new k(b,m);else if(b instanceof k)b.target=b.target||m;else{var $=b;b=new k(I,m),pe(b,$)}$=!0;let W,he;if(E)for(he=E.length-1;he>=0;he--)W=b.g=E[he],$=ls(W,I,!0,b)&&$;if(W=b.g=m,$=ls(W,I,!0,b)&&$,$=ls(W,I,!1,b)&&$,E)for(he=0;he<E.length;he++)W=b.g=E[he],$=ls(W,I,!1,b)&&$}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var m=this.i;for(const b in m.g){const E=m.g[b];for(let I=0;I<E.length;I++)fe(E[I]);delete m.g[b],m.h--}}this.G=null},jt.prototype.J=function(m,b,E,I){return this.i.add(String(m),b,!1,E,I)},jt.prototype.K=function(m,b,E,I){return this.i.add(String(m),b,!0,E,I)};function ls(m,b,E,I){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();let $=!0;for(let W=0;W<b.length;++W){const he=b[W];if(he&&!he.da&&he.capture==E){const Pe=he.listener,Dt=he.ha||he.src;he.fa&&Ne(m.i,he),$=Pe.call(Dt,I)!==!1&&$}}return $&&!I.defaultPrevented}function Yp(m,b){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(m,b||0)}function of(m){m.g=Yp(()=>{m.g=null,m.i&&(m.i=!1,of(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class An extends N{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:of(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(m){N.call(this),this.h=m,this.g={}}v(wa,N);var Mu=[];function Pu(m){Ce(m.g,function(b,E){this.g.hasOwnProperty(E)&&Lo(b)},m),m.g={}}wa.prototype.N=function(){wa.Z.N.call(this),Pu(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=u.JSON.stringify,Xp=u.JSON.parse,lf=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function uf(){}function cf(){}var wi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function on(){k.call(this,"d")}v(on,k);function ii(){k.call(this,"c")}v(ii,k);var Ct={},hf=null;function jo(){return hf=hf||new jt}Ct.Ia="serverreachability";function ff(m){k.call(this,Ct.Ia,m)}v(ff,k);function Fi(m){const b=jo();Wt(b,new ff(b))}Ct.STAT_EVENT="statevent";function Sa(m,b){k.call(this,Ct.STAT_EVENT,m),this.stat=b}v(Sa,k);function zt(m){const b=jo();Wt(b,new Sa(b,m))}Ct.Ja="timingevent";function qi(m,b){k.call(this,Ct.Ja,m),this.size=b}v(qi,k);function Hi(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},b)}function Si(){this.g=!0}Si.prototype.ua=function(){this.g=!1};function Wp(m,b,E,I,$,W){m.info(function(){if(m.g)if(W){var he="",Pe=W.split("&");for(let Ze=0;Ze<Pe.length;Ze++){var Dt=Pe[Ze].split("=");if(Dt.length>1){const vt=Dt[0];Dt=Dt[1];const oi=vt.split("_");he=oi.length>=2&&oi[1]=="type"?he+(vt+"="+Dt+"&"):he+(vt+"=redacted&")}}}else he=null;else he=W;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+b+`
`+E+`
`+he})}function df(m,b,E,I,$,W,he){m.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+b+`
`+E+`
`+W+" "+he})}function Gi(m,b,E,I){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Zp(m,E)+(I?" "+I:"")})}function xa(m,b){m.info(function(){return"TIMEOUT: "+b})}Si.prototype.info=function(){};function Zp(m,b){if(!m.g)return b;if(!b)return null;try{const W=JSON.parse(b);if(W){for(m=0;m<W.length;m++)if(Array.isArray(W[m])){var E=W[m];if(!(E.length<2)){var I=E[1];if(Array.isArray(I)&&!(I.length<1)){var $=I[0];if($!="noop"&&$!="stop"&&$!="close")for(let he=1;he<I.length;he++)I[he]=""}}}}return us(W)}catch{return b}}var Aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ou={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lu;function Ia(){}v(Ia,uf),Ia.prototype.g=function(){return new XMLHttpRequest},Lu=new Ia;function xr(m){return encodeURIComponent(String(m))}function mf(m){var b=1;m=m.split(":");const E=[];for(;b>0&&m.length;)E.push(m.shift()),b--;return m.length&&E.push(m.join(":")),E}function xi(m,b,E,I){this.j=m,this.i=b,this.l=E,this.S=I||1,this.V=new wa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ai}function Ai(){this.i=null,this.g="",this.h=!1}var Ut={},nn={};function Ki(m,b,E){m.M=1,m.A=Ra(Ft(b)),m.u=E,m.R=!0,zo(m,null)}function zo(m,b){m.F=Date.now(),$i(m),m.B=Ft(m.A);var E=m.B,I=m.S;Array.isArray(I)||(I=[String(I)]),qo(E.i,"t",I),m.C=0,E=m.j.L,m.h=new Ai,m.g=Cf(m.j,E?b:null,!m.u),m.P>0&&(m.O=new An(d(m.Y,m,m.g),m.P)),b=m.V,E=m.g,I=m.ba;var $="readystatechange";Array.isArray($)||($&&(Mu[0]=$.toString()),$=Mu);for(let W=0;W<$.length;W++){const he=yt(E,$[W],I||b.handleEvent,!1,b.h||b);if(!he)break;b.g[he.key]=he}b=m.J?F(m.J):{},m.u?(m.v||(m.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,b)):(m.v="GET",m.g.ea(m.B,m.v,null,b)),Fi(),Wp(m.i,m.v,m.B,m.l,m.S,m.u)}xi.prototype.ba=function(m){m=m.target;const b=this.O;b&&Ci(m)==3?b.j():this.Y(m)},xi.prototype.Y=function(m){try{if(m==this.g)e:{const Pe=Ci(this.g),Dt=this.g.ya(),Ze=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Pe!=4||Dt==7||(Dt==8||Ze<=0?Fi(3):Fi(2)),Qi(this);var b=this.g.ca();this.X=b;var E=Jp(this);if(this.o=b==200,df(this.i,this.v,this.B,this.l,this.S,Pe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var I,$=this.g;if((I=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var W=I;break t}}W=null}if(m=W)Gi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yi(this,m);else{this.o=!1,this.m=3,zt(12),Hn(this),ri(this);break e}}if(this.R){m=!0;let vt;for(;!this.K&&this.C<E.length;)if(vt=gf(this,E),vt==nn){Pe==4&&(this.m=4,zt(14),m=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Ut){this.m=4,zt(15),Gi(this.i,this.l,E,"[Invalid Chunk]"),m=!1;break}else Gi(this.i,this.l,vt,null),Yi(this,vt);if(pf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||E.length!=0||this.h.h||(this.m=1,zt(16),m=!1),this.o=this.o&&m,!m)Gi(this.i,this.l,E,"[Invalid Chunked Response]"),Hn(this),ri(this);else if(E.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Zu(he),he.P=!0,zt(11))}}else Gi(this.i,this.l,E,null),Yi(this,E);Pe==4&&Hn(this),this.o&&!this.K&&(Pe==4?xf(this.j,this):(this.o=!1,$i(this)))}else Ir(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Hn(this),ri(this)}}}catch{}finally{}};function Jp(m){if(!pf(m))return m.g.la();const b=ln(m.g);if(b==="")return"";let E="";const I=b.length,$=Ci(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Hn(m),ri(m),"";m.h.i=new u.TextDecoder}for(let W=0;W<I;W++)m.h.h=!0,E+=m.h.i.decode(b[W],{stream:!($&&W==I-1)});return b.length=0,m.h.g+=E,m.C=0,m.h.g}function pf(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function gf(m,b){var E=m.C,I=b.indexOf(`
`,E);return I==-1?nn:(E=Number(b.substring(E,I)),isNaN(E)?Ut:(I+=1,I+E>b.length?nn:(b=b.slice(I,I+E),m.C=I+E,b)))}xi.prototype.cancel=function(){this.K=!0,Hn(this)};function $i(m){m.T=Date.now()+m.H,Uo(m,m.H)}function Uo(m,b){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Hi(d(m.aa,m),b)}function Qi(m){m.D&&(u.clearTimeout(m.D),m.D=null)}xi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(xa(this.i,this.B),this.M!=2&&(Fi(),zt(17)),Hn(this),this.m=2,ri(this)):Uo(this,this.T-m)};function ri(m){m.j.I==0||m.K||xf(m.j,m)}function Hn(m){Qi(m);var b=m.O;b&&typeof b.dispose=="function"&&b.dispose(),m.O=null,Pu(m.V),m.g&&(b=m.g,m.g=null,b.abort(),b.dispose())}function Yi(m,b){try{var E=m.j;if(E.I!=0&&(E.g==m||Wi(E.h,m))){if(!m.L&&Wi(E.h,m)&&E.I==3){try{var I=E.Ba.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<m.F)Qo(E),ys(E);else break e;Pa(E),zt(18)}}else E.xa=$[1],0<E.xa-E.K&&$[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Hi(d(E.Va,E),6e3));Xi(E.h)<=1&&E.ta&&(E.ta=void 0)}else ir(E,11)}else if((m.L||E.g==m)&&Qo(E),!P(b))for($=E.Ba.g.parse(b),b=0;b<$.length;b++){let Ze=$[b];const vt=Ze[0];if(!(vt<=E.K))if(E.K=vt,Ze=Ze[1],E.I==2)if(Ze[0]=="c"){E.M=Ze[1],E.ba=Ze[2];const oi=Ze[3];oi!=null&&(E.ka=oi,E.j.info("VER="+E.ka));const rr=Ze[4];rr!=null&&(E.za=rr,E.j.info("SVER="+E.za));const Di=Ze[5];Di!=null&&typeof Di=="number"&&Di>0&&(I=1.5*Di,E.O=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Ni=m.g;if(Ni){const Oa=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var W=I.h;W.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Uu(W,W.h),W.h=null))}if(I.G){const Yo=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(I.wa=Yo,nt(I.J,I.G,Yo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-m.F,E.j.info("Handshake RTT: "+E.T+"ms")),I=E;var he=m;if(I.na=Rf(I,I.L?I.ba:null,I.W),he.L){Bu(I.h,he);var Pe=he,Dt=I.O;Dt&&(Pe.H=Dt),Pe.D&&(Qi(Pe),$i(Pe)),I.g=he}else wf(I);E.i.length>0&&nr(E)}else Ze[0]!="stop"&&Ze[0]!="close"||ir(E,7);else E.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?ir(E,7):Xu(E):Ze[0]!="noop"&&E.l&&E.l.qa(Ze),E.A=0)}}Fi(4)}catch{}}var Bt=class{constructor(m,b){this.g=m,this.map=b}};function ju(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zu(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Xi(m){return m.h?1:m.g?m.g.size:0}function Wi(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function Uu(m,b){m.g?m.g.add(b):m.h=b}function Bu(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}ju.prototype.cancel=function(){if(this.i=Fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Fu(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const E of m.g.values())b=b.concat(E.G);return b}return S(m.i)}var yf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bo(m,b){if(m){m=m.split("&");for(let E=0;E<m.length;E++){const I=m[E].indexOf("=");let $,W=null;I>=0?($=m[E].substring(0,I),W=m[E].substring(I+1)):$=m[E],b($,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Gn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;m instanceof Gn?(this.l=m.l,rn(this,m.j),this.o=m.o,this.g=m.g,cs(this,m.u),this.h=m.h,qu(this,Tf(m.i)),this.m=m.m):m&&(b=String(m).match(yf))?(this.l=!1,rn(this,b[1]||"",!0),this.o=Zi(b[2]||""),this.g=Zi(b[3]||"",!0),cs(this,b[4]),this.h=Zi(b[5]||"",!0),qu(this,b[6]||"",!0),this.m=Zi(b[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}Gn.prototype.toString=function(){const m=[];var b=this.j;b&&m.push(Ca(b,Fo,!0),":");var E=this.g;return(E||b=="file")&&(m.push("//"),(b=this.o)&&m.push(Ca(b,Fo,!0),"@"),m.push(xr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&m.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(Ca(E,E.charAt(0)=="/"?Hu:vf,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",Ca(E,_f)),m.join("")},Gn.prototype.resolve=function(m){const b=Ft(this);let E=!!m.j;E?rn(b,m.j):E=!!m.o,E?b.o=m.o:E=!!m.g,E?b.g=m.g:E=m.u!=null;var I=m.h;if(E)cs(b,m.u);else if(E=!!m.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var $=b.h.lastIndexOf("/");$!=-1&&(I=b.h.slice(0,$+1)+I)}if($=I,$==".."||$==".")I="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){I=$.lastIndexOf("/",0)==0,$=$.split("/");const W=[];for(let he=0;he<$.length;){const Pe=$[he++];Pe=="."?I&&he==$.length&&W.push(""):Pe==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),I&&he==$.length&&W.push("")):(W.push(Pe),I=!0)}I=W.join("/")}else I=$}return E?b.h=I:E=m.i.toString()!=="",E?qu(b,Tf(m.i)):E=!!m.m,E&&(b.m=m.m),b};function Ft(m){return new Gn(m)}function rn(m,b,E){m.j=E?Zi(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function cs(m,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);m.u=b}else m.u=null}function qu(m,b,E){b instanceof fs?(m.i=b,Ho(m.i,m.l)):(E||(b=Ca(b,hs)),m.i=new fs(b,m.l))}function nt(m,b,E){m.i.set(b,E)}function Ra(m){return nt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Zi(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ca(m,b,E){return typeof m=="string"?(m=encodeURI(m).replace(b,kn),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function kn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Fo=/[#\/\?@]/g,vf=/[#\?:]/g,Hu=/[#\?]/g,hs=/[#\?@]/g,_f=/#/g;function fs(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function Vn(m){m.g||(m.g=new Map,m.h=0,m.i&&Bo(m.i,function(b,E){m.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}n=fs.prototype,n.add=function(m,b){Vn(this),this.i=null,m=ds(this,m);let E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(b),this.h+=1,this};function bf(m,b){Vn(m),b=ds(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function Gu(m,b){return Vn(m),b=ds(m,b),m.g.has(b)}n.forEach=function(m,b){Vn(this),this.g.forEach(function(E,I){E.forEach(function($){m.call(b,$,I,this)},this)},this)};function Ku(m,b){Vn(m);let E=[];if(typeof b=="string")Gu(m,b)&&(E=E.concat(m.g.get(ds(m,b))));else for(m=Array.from(m.g.values()),b=0;b<m.length;b++)E=E.concat(m[b]);return E}n.set=function(m,b){return Vn(this),this.i=null,m=ds(this,m),Gu(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=Ku(this,m),m.length>0?String(m[0]):b):b};function qo(m,b,E){bf(m,b),E.length>0&&(m.i=null,m.g.set(ds(m,b),S(E)),m.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(let I=0;I<b.length;I++){var E=b[I];const $=xr(E);E=Ku(this,E);for(let W=0;W<E.length;W++){let he=$;E[W]!==""&&(he+="="+xr(E[W])),m.push(he)}}return this.i=m.join("&")};function Tf(m){const b=new fs;return b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),b}function ds(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function Ho(m,b){b&&!m.j&&(Vn(m),m.i=null,m.g.forEach(function(E,I){const $=I.toLowerCase();I!=$&&(bf(this,I),qo(this,$,E))},m)),m.j=b}function Ii(m,b){const E=new Si;if(u.Image){const I=new Image;I.onload=g(si,E,"TestLoadImage: loaded",!0,b,I),I.onerror=g(si,E,"TestLoadImage: error",!1,b,I),I.onabort=g(si,E,"TestLoadImage: abort",!1,b,I),I.ontimeout=g(si,E,"TestLoadImage: timeout",!1,b,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=m}else b(!1)}function $u(m,b){const E=new Si,I=new AbortController,$=setTimeout(()=>{I.abort(),si(E,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:I.signal}).then(W=>{clearTimeout($),W.ok?si(E,"TestPingServer: ok",!0,b):si(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout($),si(E,"TestPingServer: error",!1,b)})}function si(m,b,E,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(E)}catch{}}function ms(){this.g=new lf}function Ji(m){this.i=m.Sb||null,this.h=m.ab||!1}v(Ji,uf),Ji.prototype.g=function(){return new Da(this.i,this.h)};function Da(m,b){jt.call(this),this.H=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Da,jt),n=Da.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=b,this.readyState=1,Ri(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(b.body=m),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Go(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Go(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?ps(this):Ri(this),this.readyState==3&&Go(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,ps(this))},n.Na=function(m){this.g&&(this.response=m,ps(this))},n.ga=function(){this.g&&ps(this)};function ps(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Ri(m)}n.setRequestHeader=function(m,b){this.A.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=b.next();return m.join(`\r
`)};function Ri(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ai(m){let b="";return Ce(m,function(E,I){b+=I,b+=":",b+=E,b+=`\r
`}),b}function Na(m,b,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=ai(E),typeof m=="string"?E!=null&&xr(E):nt(m,b,E))}function ot(m){jt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ot,jt);var er=/^https?$/i,Qu=["POST","PUT"];n=ot.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,b,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lu.g(),this.g.onreadystatechange=_(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(W){ka(this,W);return}if(m=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)E.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())E.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),$=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(Qu,b,void 0)>=0)||I||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,he]of E)this.g.setRequestHeader(W,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(W){ka(this,W)}};function ka(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.o=5,Yu(m),Ar(m)}function Yu(m){m.A||(m.A=!0,Wt(m,"complete"),Wt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Wt(this,"complete"),Wt(this,"abort"),Ar(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),ot.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Va(this):this.Xa())},n.Xa=function(){Va(this)};function Va(m){if(m.h&&typeof o<"u"){if(m.v&&Ci(m)==4)setTimeout(m.Ca.bind(m),0);else if(Wt(m,"readystatechange"),Ci(m)==4){m.h=!1;try{const W=m.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var I;if(I=W===0){let he=String(m.D).match(yf)[1]||null;!he&&u.self&&u.self.location&&(he=u.self.location.protocol.slice(0,-1)),I=!er.test(he?he.toLowerCase():"")}E=I}if(E)Wt(m,"complete"),Wt(m,"success");else{m.o=6;try{var $=Ci(m)>2?m.g.statusText:""}catch{$=""}m.l=$+" ["+m.ca()+"]",Yu(m)}}finally{Ar(m)}}}}function Ar(m,b){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const E=m.g;m.g=null,b||Wt(m,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ci(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),Xp(b)}};function ln(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ir(m){const b={};m=(m.g&&Ci(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<m.length;I++){if(P(m[I]))continue;var E=mf(m[I]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=b[$]||[];b[$]=W,W.push(E)}Fe(b,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(m,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||b}function gs(m){this.za=0,this.i=[],this.j=new Si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tr("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tr("baseRetryDelayMs",5e3,m),this.Za=tr("retryDelaySeedMs",1e4,m),this.Ta=tr("forwardChannelMaxRetries",2,m),this.va=tr("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new ju(m&&m.concurrentRequestLimit),this.Ba=new ms,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=gs.prototype,n.ka=8,n.I=1,n.connect=function(m,b,E,I){zt(0),this.W=m,this.H=b||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.J=Rf(this,null,this.W),nr(this)};function Xu(m){if(Ko(m),m.I==3){var b=m.V++,E=Ft(m.J);if(nt(E,"SID",m.M),nt(E,"RID",b),nt(E,"TYPE","terminate"),Ma(m,E),b=new xi(m,m.j,b),b.M=2,b.A=Ra(Ft(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=b.A,E=!0),E||(b.g=Cf(b.j,null),b.g.ea(b.A)),b.F=Date.now(),$i(b)}If(m)}function ys(m){m.g&&(Zu(m),m.g.cancel(),m.g=null)}function Ko(m){ys(m),m.v&&(u.clearTimeout(m.v),m.v=null),Qo(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function nr(m){if(!zu(m.h)&&!m.m){m.m=!0;var b=m.Ea;ee||A(),re||(ee(),re=!0),R.add(b,m),m.D=0}}function $o(m,b){return Xi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=b.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Hi(d(m.Ea,m,b),Af(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const $=new xi(this,this.j,m);let W=this.o;if(this.U&&(W?(W=F(W),pe(W,this.U)):W=this.U),this.u!==null||this.R||($.J=W,W=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(b+=I,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=Ef(this,$,b),E=Ft(this.J),nt(E,"RID",m),nt(E,"CVER",22),this.G&&nt(E,"X-HTTP-Session-Id",this.G),Ma(this,E),W&&(this.R?b="headers="+xr(ai(W))+"&"+b:this.u&&Na(E,this.u,W)),Uu(this.h,$),this.Ra&&nt(E,"TYPE","init"),this.S?(nt(E,"$req",b),nt(E,"SID","null"),$.U=!0,Ki($,E,null)):Ki($,E,b),this.I=2}}else this.I==3&&(m?Wu(this,m):this.i.length==0||zu(this.h)||Wu(this))};function Wu(m,b){var E;b?E=b.l:E=m.V++;const I=Ft(m.J);nt(I,"SID",m.M),nt(I,"RID",E),nt(I,"AID",m.K),Ma(m,I),m.u&&m.o&&Na(I,m.u,m.o),E=new xi(m,m.j,E,m.D+1),m.u===null&&(E.J=m.o),b&&(m.i=b.G.concat(m.i)),b=Ef(m,E,1e3),E.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Uu(m.h,E),Ki(E,I,b)}function Ma(m,b){m.H&&Ce(m.H,function(E,I){nt(b,I,E)}),m.l&&Ce({},function(E,I){nt(b,I,E)})}function Ef(m,b,E){E=Math.min(m.i.length,E);const I=m.l?d(m.l.Ka,m.l,m):null;e:{var $=m.i;let Pe=-1;for(;;){const Dt=["count="+E];Pe==-1?E>0?(Pe=$[0].g,Dt.push("ofs="+Pe)):Pe=0:Dt.push("ofs="+Pe);let Ze=!0;for(let vt=0;vt<E;vt++){var W=$[vt].g;const oi=$[vt].map;if(W-=Pe,W<0)Pe=Math.max(0,$[vt].g-100),Ze=!1;else try{W="req"+W+"_"||"";try{var he=oi instanceof Map?oi:Object.entries(oi);for(const[rr,Di]of he){let Ni=Di;h(Di)&&(Ni=us(Di)),Dt.push(W+rr+"="+encodeURIComponent(Ni))}}catch(rr){throw Dt.push(W+"type="+encodeURIComponent("_badmap")),rr}}catch{I&&I(oi)}}if(Ze){he=Dt.join("&");break e}}he=void 0}return m=m.i.splice(0,E),b.G=m,he}function wf(m){if(!m.g&&!m.v){m.Y=1;var b=m.Da;ee||A(),re||(ee(),re=!0),R.add(b,m),m.A=0}}function Pa(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Hi(d(m.Da,m),Af(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Sf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Hi(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),ys(this),Sf(this))};function Zu(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function Sf(m){m.g=new xi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var b=Ft(m.na);nt(b,"RID","rpc"),nt(b,"SID",m.M),nt(b,"AID",m.K),nt(b,"CI",m.F?"0":"1"),!m.F&&m.ia&&nt(b,"TO",m.ia),nt(b,"TYPE","xmlhttp"),Ma(m,b),m.u&&m.o&&Na(b,m.u,m.o),m.O&&(m.g.H=m.O);var E=m.g;m=m.ba,E.M=1,E.A=Ra(Ft(b)),E.u=null,E.R=!0,zo(E,m)}n.Va=function(){this.C!=null&&(this.C=null,ys(this),Pa(this),zt(19))};function Qo(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function xf(m,b){var E=null;if(m.g==b){Qo(m),Zu(m),m.g=null;var I=2}else if(Wi(m.h,b))E=b.G,Bu(m.h,b),I=1;else return;if(m.I!=0){if(b.o)if(I==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var $=m.D;I=jo(),Wt(I,new qi(I,E)),nr(m)}else wf(m);else if($=b.m,$==3||$==0&&b.X>0||!(I==1&&$o(m,b)||I==2&&Pa(m)))switch(E&&E.length>0&&(b=m.h,b.i=b.i.concat(E)),$){case 1:ir(m,5);break;case 4:ir(m,10);break;case 3:ir(m,6);break;default:ir(m,2)}}}function Af(m,b){let E=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(E*=2),E*b}function ir(m,b){if(m.j.info("Error code "+b),b==2){var E=d(m.bb,m),I=m.Ua;const $=!I;I=new Gn(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||rn(I,"https"),Ra(I),$?Ii(I.toString(),E):$u(I.toString(),E)}else zt(2);m.I=0,m.l&&m.l.pa(b),If(m),Ko(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function If(m){if(m.I=0,m.ja=[],m.l){const b=Fu(m.h);(b.length!=0||m.i.length!=0)&&(C(m.ja,b),C(m.ja,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.oa()}}function Rf(m,b,E){var I=E instanceof Gn?Ft(E):new Gn(E);if(I.g!="")b&&(I.g=b+"."+I.g),cs(I,I.u);else{var $=u.location;I=$.protocol,b=b?b+"."+$.hostname:$.hostname,$=+$.port;const W=new Gn(null);I&&rn(W,I),b&&(W.g=b),$&&cs(W,$),E&&(W.h=E),I=W}return E=m.G,b=m.wa,E&&b&&nt(I,E,b),nt(I,"VER",m.ka),Ma(m,I),I}function Cf(m,b,E){if(b&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Aa&&!m.ma?new ot(new Ji({ab:E})):new ot(m.ma),b.Fa(m.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Df(){}n=Df.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function vs(){}vs.prototype.g=function(m,b){return new In(m,b)};function In(m,b){jt.call(this),this.g=new gs(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(m?m["X-WebChannel-Client-Profile"]=b.sa:m={"X-WebChannel-Client-Profile":b.sa}),this.g.U=m,(m=b&&b.Qb)&&!P(m)&&(this.g.u=m),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.G=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new Rr(this)}v(In,jt),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Xu(this.g)},In.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.v&&(E={},E.__data__=us(m),m=E);b.i.push(new Bt(b.Ya++,m)),b.I==3&&nr(b)},In.prototype.N=function(){this.g.l=null,delete this.j,Xu(this.g),delete this.g,In.Z.N.call(this)};function Nf(m){on.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){e:{for(const E in b){m=E;break e}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}v(Nf,on);function kf(){ii.call(this),this.status=1}v(kf,ii);function Rr(m){this.g=m}v(Rr,Df),Rr.prototype.ra=function(){Wt(this.g,"a")},Rr.prototype.qa=function(m){Wt(this.g,new Nf(m))},Rr.prototype.pa=function(m){Wt(this.g,new kf)},Rr.prototype.oa=function(){Wt(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,ZI=function(){return new vs},WI=function(){return jo()},XI=Ct,$0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Aa.NO_ERROR=0,Aa.TIMEOUT=8,Aa.HTTP_ERROR=6,nm=Aa,Ou.COMPLETE="complete",YI=Ou,cf.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",jt.prototype.listen=jt.prototype.J,$c=cf,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,QI=ot}).apply(typeof jd<"u"?jd:typeof self<"u"?self:typeof window<"u"?window:{});const Zw="@firebase/firestore",Jw="4.9.2";class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Tu="12.3.0";const wo=new e_("@firebase/firestore");function kl(){return wo.logLevel}function ue(n,...e){if(wo.logLevel<=Ge.DEBUG){const t=e.map(i_);wo.debug(`Firestore (${Tu}): ${n}`,...t)}}function Pt(n,...e){if(wo.logLevel<=Ge.ERROR){const t=e.map(i_);wo.error(`Firestore (${Tu}): ${n}`,...t)}}function vh(n,...e){if(wo.logLevel<=Ge.WARN){const t=e.map(i_);wo.warn(`Firestore (${Tu}): ${n}`,...t)}}function i_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ye(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,JI(n,i,t)}function JI(n,e,t){let i=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Pt(i),new Error(i)}function Te(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||JI(e,s,i)}function _e(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends rs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class g3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(vn.UNAUTHENTICATED)))}shutdown(){}}class v3{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Te(this.o===void 0,42304);let i=this.i;const s=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let o=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yr,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Te(typeof i.accessToken=="string",31837,{l:i}),new g3(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class _3{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class b3{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new _3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Te(this.o===void 0,3512);const i=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Te(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new eS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function E3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class r_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=E3(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<t&&(i+=e.charAt(s[o]%62))}return i}}function ke(n,e){return n<e?-1:n>e?1:0}function Q0(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const s=n.charAt(i),o=e.charAt(i);if(s!==o)return a0(s)===a0(o)?ke(s,o):a0(s)?1:-1}return ke(n.length,e.length)}const w3=55296,S3=57343;function a0(n){const e=n.charCodeAt(0);return e>=w3&&e<=S3}function Wl(n,e,t){return n.length===e.length&&n.every(((i,s)=>t(i,e[s])))}function eR(n){return n+"\0"}const tS="__name__";class ur{constructor(e,t,i){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ye(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const o=ur.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return ke(e.length,t.length)}static compareSegments(e,t){const i=ur.isNumericId(e),s=ur.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?ur.extractNumericId(e).compare(ur.extractNumericId(t)):Q0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ia.fromString(e.substring(4,e.length-2))}}class et extends ur{construct(e,t,i){return new et(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((s=>s.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const x3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends ur{construct(e,t,i){return new Et(e,t,i)}static isValidIdentifier(e){return x3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tS}static keyField(){return new Et([tS])}static fromServerFormat(e){const t=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ce(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ce(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ce(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(o(),s++)}if(o(),u)throw new ce(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(t)}static emptyPath(){return new Et([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}function tR(n,e,t){if(!t)throw new ce(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function A3(n,e,t,i){if(e===!0&&i===!0)throw new ce(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nS(n){if(!me.isDocumentKey(n))throw new ce(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iS(n){if(me.isDocumentKey(n))throw new ce(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function hp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye(12329,{type:typeof n})}function Ui(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hp(n);throw new ce(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Yt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Gh(n,e){if(!nR(n))throw new ce(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(s&&typeof u!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new ce(ne.INVALID_ARGUMENT,t);return!0}const rS=-62135596800,sS=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*sS);return new tt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rS)throw new ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sS}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gh(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Yt("string",tt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new tt(0,0))}static max(){return new xe(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;class Cm{constructor(e,t,i,s){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=s}}function Y0(n){return n.fields.find((e=>e.kind===2))}function no(n){return n.fields.filter((e=>e.kind!==2))}Cm.UNKNOWN_ID=-1;class im{constructor(e,t){this.fieldPath=e,this.kind=t}}class _h{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _h(0,ni.min())}}function iR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(i===1e9?new tt(t+1,0):new tt(t,i));return new ni(s,me.empty(),e)}function rR(n){return new ni(n.readTime,n.key,Zl)}class ni{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ni(xe.min(),me.empty(),Zl)}static max(){return new ni(xe.max(),me.empty(),Zl)}}function s_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}const sR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ga(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==sR)throw n;ue("LocalStore","Unexpectedly lost primary lease")}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,i)=>{t(e)}))}static reject(e){return new K(((t,i)=>{i(e)}))}static waitFor(e){return new K(((t,i)=>{let s=0,o=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&t()}),(f=>i(f)))})),u=!0,o===s&&t()}))}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next((s=>s?K.resolve(s):i()));return t}static forEach(e,t){const i=[];return e.forEach(((s,o)=>{i.push(t.call(this,s,o))})),this.waitFor(i)}static mapArray(e,t){return new K(((i,s)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((g=>{u[d]=g,++h,h===o&&i(u)}),(g=>s(g)))}}))}static doWhile(e,t){return new K(((i,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):i()};o()}))}}const Jn="SimpleDb";class fp{static open(e,t,i,s){try{return new fp(t,e.transaction(s,i))}catch(o){throw new eh(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Yr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new eh(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const s=a_(i.target.error);this.S.reject(new eh(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ue(Jn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new R3(t)}}class ra{static delete(e){return ue(Jn,"Removing database:",e),so(MI().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!BI())return!1;if(ra.F())return!0;const e=en(),t=ra.M(e),i=0<t&&t<10,s=oR(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,ra.M(en())===12.2&&Pt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ue(Jn,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;t(u)},s.onblocked=()=>{i(new eh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?i(new ce(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new ce(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new eh(e,u))},s.onupgradeneeded=o=>{ue(Jn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,s.transaction,o.oldVersion,this.version).next((()=>{ue(Jn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,s){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=fp.open(this.db,e,o?"readonly":"readwrite",i),f=s(h).next((d=>(h.C(),d))).catch((d=>(h.abort(d),K.reject(d)))).toPromise();return f.catch((()=>{})),await h.D,f}catch(h){const f=h,d=f.name!=="FirebaseError"&&u<3;if(ue(Jn,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function oR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class I3{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return so(this.U.delete())}}class eh extends ce{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ya(n){return n.name==="IndexedDbTransactionError"}class R3{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(ue(Jn,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(ue(Jn,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),so(i)}add(e){return ue(Jn,"ADD",this.store.name,e,e),so(this.store.add(e))}get(e){return so(this.store.get(e)).next((t=>(t===void 0&&(t=null),ue(Jn,"GET",this.store.name,e,t),t)))}delete(e){return ue(Jn,"DELETE",this.store.name,e),so(this.store.delete(e))}count(){return ue(Jn,"COUNT",this.store.name),so(this.store.count())}J(e,t){const i=this.options(e,t),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(i.range);return new K(((u,h)=>{o.onerror=f=>{h(f.target.error)},o.onsuccess=f=>{u(f.target.result)}}))}{const o=this.cursor(i),u=[];return this.H(o,((h,f)=>{u.push(f)})).next((()=>u))}}Y(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new K(((s,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{s(u.target.result)}}))}Z(e,t){ue(Jn,"DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const s=this.cursor(i);return this.H(s,((o,u,h)=>h.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const s=this.cursor(i);return this.H(s,t)}te(e){const t=this.cursor({});return new K(((i,s)=>{t.onerror=o=>{const u=a_(o.target.error);s(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():i()})):i()}}))}H(e,t){const i=[];return new K(((s,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void s();const f=new I3(h),d=t(h.primaryKey,h.value,f);if(d instanceof K){const g=d.catch((v=>(f.done(),K.reject(v))));i.push(g)}f.isDone?s():f.G===null?h.continue():h.continue(f.G)}})).next((()=>K.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function so(n){return new K(((e,t)=>{n.onsuccess=i=>{const s=i.target.result;e(s)},n.onerror=i=>{const s=a_(i.target.error);t(s)}}))}let aS=!1;function a_(n){const e=ra.M(en());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aS||(aS=!0,setTimeout((()=>{throw i}),0)),i}}return n}const th="IndexBackfiller";class C3{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ue(th,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ue(th,`Documents written: ${t}`)}catch(t){ya(t)?ue(th,"Ignoring IndexedDB error during index backfill: ",t):await ga(t)}await this.re(6e4)}))}}class D3{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let s=t,o=!0;return K.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!i.has(u))return ue(th,`Processing collection: ${u}`),this.oe(e,u,s).next((h=>{s-=h,i.add(u)}));o=!1})))).next((()=>t-s))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,i).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(s,o))).next((h=>(ue(th,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>u.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((s,o)=>{const u=rR(o);s_(u,i)>0&&(i=u)})),new ni(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class zn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zn.ce=-1;const fo=-1;function dp(n){return n==null}function bh(n){return n===0&&1/n==-1/0}function lR(n){return typeof n=="number"&&Number.isInteger(n)&&!bh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Dm="";function wn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=oS(e)),e=N3(n.get(t),e);return oS(e)}function N3(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Dm:t+="";break;default:t+=o}}return t}function oS(n){return n+Dm+""}function dr(n){const e=n.length;if(Te(e>=2,64408,{path:n}),e===2)return Te(n.charAt(0)===Dm&&n.charAt(1)==="",56145,{path:n}),et.emptyPath();const t=e-2,i=[];let s="";for(let o=0;o<e;){const u=n.indexOf(Dm,o);switch((u<0||u>t)&&ye(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let f;s.length===0?f=h:(s+=h,f=s,s=""),i.push(f);break;case"":s+=n.substring(o,u),s+="\0";break;case"":s+=n.substring(o,u+1);break;default:ye(61167,{path:n})}o=u+2}return new et(i)}const io="remoteDocuments",Kh="owner",xl="owner",Th="mutationQueues",k3="userId",Li="mutations",lS="batchId",uo="userMutationsIndex",uS=["userId","batchId"];function rm(n,e){return[n,wn(e)]}function uR(n,e,t){return[n,wn(e),t]}const V3={},Jl="documentMutations",Nm="remoteDocumentsV14",M3=["prefixPath","collectionGroup","readTime","documentId"],sm="documentKeyIndex",P3=["prefixPath","collectionGroup","documentId"],cR="collectionGroupIndex",O3=["collectionGroup","readTime","prefixPath","documentId"],Eh="remoteDocumentGlobal",X0="remoteDocumentGlobalKey",eu="targets",hR="queryTargetsIndex",L3=["canonicalId","targetId"],tu="targetDocuments",j3=["targetId","path"],o_="documentTargetsIndex",z3=["path","targetId"],km="targetGlobalKey",mo="targetGlobal",wh="collectionParents",U3=["collectionId","parent"],nu="clientMetadata",B3="clientId",mp="bundles",F3="bundleId",pp="namedQueries",q3="name",l_="indexConfiguration",H3="indexId",W0="collectionGroupIndex",G3="collectionGroup",nh="indexState",K3=["indexId","uid"],fR="sequenceNumberIndex",$3=["uid","sequenceNumber"],ih="indexEntries",Q3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dR="documentKeyIndex",Y3=["indexId","uid","orderedDocumentKey"],gp="documentOverlays",X3=["userId","collectionPath","documentId"],Z0="collectionPathOverlayIndex",W3=["userId","collectionPath","largestBatchId"],mR="collectionGroupOverlayIndex",Z3=["userId","collectionGroup","largestBatchId"],u_="globals",J3="name",pR=[Th,Li,Jl,io,eu,Kh,mo,tu,nu,Eh,wh,mp,pp],e5=[...pR,gp],gR=[Th,Li,Jl,Nm,eu,Kh,mo,tu,nu,Eh,wh,mp,pp,gp],yR=gR,c_=[...yR,l_,nh,ih],t5=c_,vR=[...c_,u_],n5=vR;class J0 extends aR{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function tn(n,e){const t=_e(n);return ra.O(t.le,e)}function cS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function va(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _R(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mt{constructor(e,t){this.comparator=e,this.root=t||mn.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??mn.RED,this.left=s??mn.EMPTY,this.right=o??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,o){return new mn(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return mn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,i,s,o){return this}insert(e,t,i){return new mn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class at{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hS(this.data.getIterator())}getIteratorFrom(e){return new hS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new at(this.comparator);return t.data=e,t}}class hS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Al(n){return n.hasNext()?n.getNext():void 0}class Un{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new Un([])}unionWith(e){let t=new at(Et.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Un(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class bR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bR("Invalid base64 string: "+o):o}})(e);return new Lt(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const i5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(n){if(Te(!!n,39018),typeof n=="string"){let e=0;const t=i5.exec(n);if(Te(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Jr(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}const TR="server_timestamp",ER="__type__",wR="__previous_value__",SR="__local_write_time__";function h_(n){return(n?.mapValue?.fields||{})[ER]?.stringValue===TR}function yp(n){const e=n.mapValue.fields[wR];return h_(e)?yp(e):e}function Sh(n){const e=Zr(n.mapValue.fields[SR].timestampValue);return new tt(e.seconds,e.nanos)}class r5{constructor(e,t,i,s,o,u,h,f,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const Vm="(default)";class So{constructor(e,t){this.projectId=e,this.database=t||Vm}static empty(){return new So("","")}get isDefaultDatabase(){return this.database===Vm}isEqual(e){return e instanceof So&&e.projectId===this.projectId&&e.database===this.database}}const f_="__type__",xR="__max__",Js={mapValue:{fields:{__type__:{stringValue:xR}}}},d_="__vector__",iu="value",am={nullValue:"NULL_VALUE"};function oa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?h_(n)?4:AR(n)?9007199254740991:vp(n)?10:11:ye(28295,{value:n})}function Er(n,e){if(n===e)return!0;const t=oa(n);if(t!==oa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sh(n).isEqual(Sh(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Zr(s.timestampValue),h=Zr(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Jr(s.bytesValue).isEqual(Jr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return bt(s.geoPointValue.latitude)===bt(o.geoPointValue.latitude)&&bt(s.geoPointValue.longitude)===bt(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return bt(s.integerValue)===bt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=bt(s.doubleValue),h=bt(o.doubleValue);return u===h?bh(u)===bh(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Wl(n.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(cS(u)!==cS(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Er(u[f],h[f])))return!1;return!0})(n,e);default:return ye(52216,{left:n})}}function xh(n,e){return(n.values||[]).find((t=>Er(t,e)))!==void 0}function la(n,e){if(n===e)return 0;const t=oa(n),i=oa(e);if(t!==i)return ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=bt(o.integerValue||o.doubleValue),f=bt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return fS(n.timestampValue,e.timestampValue);case 4:return fS(Sh(n),Sh(e));case 5:return Q0(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=Jr(o),f=Jr(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=ke(h[d],f[d]);if(g!==0)return g}return ke(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=ke(bt(o.latitude),bt(u.latitude));return h!==0?h:ke(bt(o.longitude),bt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return dS(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},f=u.fields||{},d=h[iu]?.arrayValue,g=f[iu]?.arrayValue,v=ke(d?.values?.length||0,g?.values?.length||0);return v!==0?v:dS(d,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Js.mapValue&&u===Js.mapValue)return 0;if(o===Js.mapValue)return 1;if(u===Js.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const _=Q0(f[v],g[v]);if(_!==0)return _;const S=la(h[f[v]],d[g[v]]);if(S!==0)return S}return ke(f.length,g.length)})(n.mapValue,e.mapValue);default:throw ye(23264,{he:t})}}function fS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Zr(n),i=Zr(e),s=ke(t.seconds,i.seconds);return s!==0?s:ke(t.nanos,i.nanos)}function dS(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const o=la(t[s],i[s]);if(o)return o}return ke(t.length,i.length)}function ru(n){return ev(n)}function ev(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Zr(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Jr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return me.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",s=!0;for(const o of t.values||[])s?s=!1:i+=",",i+=ev(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${ev(t.fields[u])}`;return s+"}"})(n.mapValue):ye(61005,{value:n})}function om(n){switch(oa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yp(n);return e?16+om(e):16;case 5:return 2*n.stringValue.length;case 6:return Jr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+om(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let s=0;return va(i.fields,((o,u)=>{s+=o.length+om(u)})),s})(n.mapValue);default:throw ye(13486,{value:n})}}function Ah(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tv(n){return!!n&&"integerValue"in n}function Ih(n){return!!n&&"arrayValue"in n}function mS(n){return!!n&&"nullValue"in n}function pS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lm(n){return!!n&&"mapValue"in n}function vp(n){return(n?.mapValue?.fields||{})[f_]?.stringValue===d_}function rh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return va(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=rh(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rh(n.arrayValue.values[t]);return e}return{...n}}function AR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===xR}const IR={mapValue:{fields:{[f_]:{stringValue:d_},[iu]:{arrayValue:{}}}}};function s5(n){return"nullValue"in n?am:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ah(So.empty(),me.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?vp(n)?IR:{mapValue:{}}:ye(35942,{value:n})}function a5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ah(So.empty(),me.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?IR:"mapValue"in n?vp(n)?{mapValue:{}}:Js:ye(61959,{value:n})}function gS(n,e){const t=la(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function yS(n,e){const t=la(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!lm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(t)}setAll(e){let t=Et.emptyPath(),i={},s=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,s),i={},s=[],t=h.popLast()}u?i[h.lastSegment()]=rh(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,s)}delete(e){const t=this.field(e.popLast());lm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];lm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){va(t,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new bn(rh(this.value))}}function RR(n){const e=[];return va(n.fields,((t,i)=>{const s=new Et([t]);if(lm(i)){const o=RR(i.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new Un(e)}class Rt{constructor(e,t,i,s,o,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Rt(e,0,xe.min(),xe.min(),xe.min(),bn.empty(),0)}static newFoundDocument(e,t,i,s){return new Rt(e,1,t,xe.min(),i,s,0)}static newNoDocument(e,t){return new Rt(e,2,t,xe.min(),xe.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new Rt(e,3,t,xe.min(),xe.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class su{constructor(e,t){this.position=e,this.inclusive=t}}function vS(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?i=me.comparator(me.fromName(u.referenceValue),t.key):i=la(u,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function _S(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Er(n.position[t],e.position[t]))return!1;return!0}class Rh{constructor(e,t="asc"){this.field=e,this.dir=t}}function o5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class CR{}class Ke extends CR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new l5(e,t,i):t==="array-contains"?new h5(e,i):t==="in"?new PR(e,i):t==="not-in"?new f5(e,i):t==="array-contains-any"?new d5(e,i):new Ke(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new u5(e,i):new c5(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(la(t,this.value)):t!==null&&oa(this.value)===oa(t)&&this.matchesComparison(la(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class st extends CR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new st(e,t)}matches(e){return au(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function au(n){return n.op==="and"}function nv(n){return n.op==="or"}function m_(n){return DR(n)&&au(n)}function DR(n){for(const e of n.filters)if(e instanceof st)return!1;return!0}function iv(n){if(n instanceof Ke)return n.field.canonicalString()+n.op.toString()+ru(n.value);if(m_(n))return n.filters.map((e=>iv(e))).join(",");{const e=n.filters.map((t=>iv(t))).join(",");return`${n.op}(${e})`}}function NR(n,e){return n instanceof Ke?(function(i,s){return s instanceof Ke&&i.op===s.op&&i.field.isEqual(s.field)&&Er(i.value,s.value)})(n,e):n instanceof st?(function(i,s){return s instanceof st&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,u,h)=>o&&NR(u,s.filters[h])),!0):!1})(n,e):void ye(19439)}function kR(n,e){const t=n.filters.concat(e);return st.create(t,n.op)}function VR(n){return n instanceof Ke?(function(t){return`${t.field.canonicalString()} ${t.op} ${ru(t.value)}`})(n):n instanceof st?(function(t){return t.op.toString()+" {"+t.getFilters().map(VR).join(" ,")+"}"})(n):"Filter"}class l5 extends Ke{constructor(e,t,i){super(e,t,i),this.key=me.fromName(i.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class u5 extends Ke{constructor(e,t){super(e,"in",t),this.keys=MR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class c5 extends Ke{constructor(e,t){super(e,"not-in",t),this.keys=MR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function MR(n,e){return(e.arrayValue?.values||[]).map((t=>me.fromName(t.referenceValue)))}class h5 extends Ke{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ih(t)&&xh(t.arrayValue,this.value)}}class PR extends Ke{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xh(this.value.arrayValue,t)}}class f5 extends Ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xh(this.value.arrayValue,t)}}class d5 extends Ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ih(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>xh(this.value.arrayValue,i)))}}class m5{constructor(e,t=null,i=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function rv(n,e=null,t=[],i=[],s=null,o=null,u=null){return new m5(n,e,t,i,s,o,u)}function xo(n){const e=_e(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>iv(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),dp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ru(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ru(i))).join(",")),e.Te=t}return e.Te}function $h(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!o5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!NR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_S(n.startAt,e.startAt)&&_S(n.endAt,e.endAt)}function Mm(n){return me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Pm(n,e){return n.filters.filter((t=>t instanceof Ke&&t.field.isEqual(e)))}function bS(n,e,t){let i=am,s=!0;for(const o of Pm(n,e)){let u=am,h=!0;switch(o.op){case"<":case"<=":u=s5(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=am}gS({value:i,inclusive:s},{value:u,inclusive:h})<0&&(i=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];gS({value:i,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(i=u,s=t.inclusive);break}}return{value:i,inclusive:s}}function TS(n,e,t){let i=Js,s=!0;for(const o of Pm(n,e)){let u=Js,h=!0;switch(o.op){case">=":case">":u=a5(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Js}yS({value:i,inclusive:s},{value:u,inclusive:h})>0&&(i=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];yS({value:i,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(i=u,s=t.inclusive);break}}return{value:i,inclusive:s}}class Eu{constructor(e,t=null,i=[],s=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OR(n,e,t,i,s,o,u,h){return new Eu(n,e,t,i,s,o,u,h)}function _p(n){return new Eu(n)}function ES(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function LR(n){return n.collectionGroup!==null}function sh(n){const e=_e(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new at(Et.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Rh(o,i))})),t.has(Et.keyField().canonicalString())||e.Ie.push(new Rh(Et.keyField(),i))}return e.Ie}function ti(n){const e=_e(n);return e.Ee||(e.Ee=p5(e,sh(n))),e.Ee}function p5(n,e){if(n.limitType==="F")return rv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Rh(s.field,o)}));const t=n.endAt?new su(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new su(n.startAt.position,n.startAt.inclusive):null;return rv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function sv(n,e){const t=n.filters.concat([e]);return new Eu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Om(n,e,t){return new Eu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bp(n,e){return $h(ti(n),ti(e))&&n.limitType===e.limitType}function jR(n){return`${xo(ti(n))}|lt:${n.limitType}`}function Vl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((s=>VR(s))).join(", ")}]`),dp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>ru(s))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>ru(s))).join(",")),`Target(${i})`})(ti(n))}; limitType=${n.limitType})`}function Qh(n,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):me.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,s){for(const o of sh(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(i,s){return!(i.startAt&&!(function(u,h,f){const d=vS(u,h,f);return u.inclusive?d<=0:d<0})(i.startAt,sh(i),s)||i.endAt&&!(function(u,h,f){const d=vS(u,h,f);return u.inclusive?d>=0:d>0})(i.endAt,sh(i),s))})(n,e)}function zR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UR(n){return(e,t)=>{let i=!1;for(const s of sh(n)){const o=g5(s,e,t);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function g5(n,e,t){const i=n.field.isKeyField()?me.comparator(e.key,t.key):(function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?la(f,d):ye(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ye(19790,{direction:n.dir})}}class ss{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,((t,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return _R(this.inner)}size(){return this.innerSize}}const y5=new mt(me.comparator);function ei(){return y5}const BR=new mt(me.comparator);function Qc(...n){let e=BR;for(const t of n)e=e.insert(t.key,t);return e}function FR(n){let e=BR;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function mr(){return ah()}function qR(){return ah()}function ah(){return new ss((n=>n.toString()),((n,e)=>n.isEqual(e)))}const v5=new mt(me.comparator),_5=new at(me.comparator);function ze(...n){let e=_5;for(const t of n)e=e.add(t);return e}const b5=new at(ke);function p_(){return b5}function g_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function HR(n){return{integerValue:""+n}}function T5(n,e){return lR(e)?HR(e):g_(n,e)}class Tp{constructor(){this._=void 0}}function E5(n,e,t){return n instanceof Ch?(function(s,o){const u={fields:{[ER]:{stringValue:TR},[SR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&h_(o)&&(o=yp(o)),o&&(u.fields[wR]=o),{mapValue:u}})(t,e):n instanceof ou?KR(n,e):n instanceof lu?$R(n,e):(function(s,o){const u=GR(s,o),h=wS(u)+wS(s.Ae);return tv(u)&&tv(s.Ae)?HR(h):g_(s.serializer,h)})(n,e)}function w5(n,e,t){return n instanceof ou?KR(n,e):n instanceof lu?$R(n,e):t}function GR(n,e){return n instanceof Dh?(function(i){return tv(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Ch extends Tp{}class ou extends Tp{constructor(e){super(),this.elements=e}}function KR(n,e){const t=QR(e);for(const i of n.elements)t.some((s=>Er(s,i)))||t.push(i);return{arrayValue:{values:t}}}class lu extends Tp{constructor(e){super(),this.elements=e}}function $R(n,e){let t=QR(e);for(const i of n.elements)t=t.filter((s=>!Er(s,i)));return{arrayValue:{values:t}}}class Dh extends Tp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function wS(n){return bt(n.integerValue||n.doubleValue)}function QR(n){return Ih(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class S5{constructor(e,t){this.field=e,this.transform=t}}function x5(n,e){return n.field.isEqual(e.field)&&(function(i,s){return i instanceof ou&&s instanceof ou||i instanceof lu&&s instanceof lu?Wl(i.elements,s.elements,Er):i instanceof Dh&&s instanceof Dh?Er(i.Ae,s.Ae):i instanceof Ch&&s instanceof Ch})(n.transform,e.transform)}class A5{constructor(e,t){this.version=e,this.transformResults=t}}class Tn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function um(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ep{}function YR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wp(n.key,Tn.none()):new wu(n.key,n.data,Tn.none());{const t=n.data,i=bn.empty();let s=new at(Et.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new as(n.key,i,new Un(s.toArray()),Tn.none())}}function I5(n,e,t){n instanceof wu?(function(s,o,u){const h=s.value.clone(),f=xS(s.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof as?(function(s,o,u){if(!um(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=xS(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(XR(s)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function oh(n,e,t,i){return n instanceof wu?(function(o,u,h,f){if(!um(o.precondition,u))return h;const d=o.value.clone(),g=AS(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,i):n instanceof as?(function(o,u,h,f){if(!um(o.precondition,u))return h;const d=AS(o.fieldTransforms,f,u),g=u.data;return g.setAll(XR(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,i):(function(o,u,h){return um(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function R5(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),o=GR(i.transform,s||null);o!=null&&(t===null&&(t=bn.empty()),t.set(i.field,o))}return t||null}function SS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Wl(i,s,((o,u)=>x5(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wu extends Ep{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class as extends Ep{constructor(e,t,i,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function XR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function xS(n,e,t){const i=new Map;Te(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,h=e.data.field(o.field);i.set(o.field,w5(u,h,t[s]))}return i}function AS(n,e,t){const i=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);i.set(s.field,E5(o,u,e))}return i}class wp extends Ep{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WR extends Ep{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class y_{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&I5(o,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=oh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=oh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=qR();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(s.key)?null:h;const f=YR(u,h);f!==null&&i.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(xe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,((t,i)=>SS(t,i)))&&Wl(this.baseMutations,e.baseMutations,((t,i)=>SS(t,i)))}}class v_{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Te(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return v5})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new v_(e,t,i,s)}}class __{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class C5{constructor(e,t){this.count=e,this.unchangedNames=t}}var $t,Ye;function D5(n){switch(n){case ne.OK:return ye(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ye(15467,{code:n})}}function ZR(n){if(n===void 0)return Pt("GRPC error has no .code"),ne.UNKNOWN;switch(n){case $t.OK:return ne.OK;case $t.CANCELLED:return ne.CANCELLED;case $t.UNKNOWN:return ne.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ne.INTERNAL;case $t.UNAVAILABLE:return ne.UNAVAILABLE;case $t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case $t.NOT_FOUND:return ne.NOT_FOUND;case $t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case $t.ABORTED:return ne.ABORTED;case $t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case $t.DATA_LOSS:return ne.DATA_LOSS;default:return ye(39323,{code:n})}}(Ye=$t||($t={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function N5(){return new TextEncoder}const k5=new ia([4294967295,4294967295],0);function IS(n){const e=N5().encode(n),t=new $I;return t.update(e),new Uint8Array(t.digest())}function RS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ia([t,i],0),new ia([s,o],0)]}class b_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Yc(`Invalid padding: ${t}`);if(i<0)throw new Yc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Yc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Yc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ia.fromNumber(this.ge)}ye(e,t,i){let s=e.add(t.multiply(ia.fromNumber(i)));return s.compare(k5)===1&&(s=new ia([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=IS(e),[i,s]=RS(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);if(!this.we(u))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new b_(o,s,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=IS(e),[i,s]=RS(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yh{constructor(e,t,i,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Xh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Yh(xe.min(),s,new mt(ke),ei(),ze())}}class Xh{constructor(e,t,i,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Xh(i,t,ze(),ze(),ze())}}class cm{constructor(e,t,i,s){this.be=e,this.removedTargetIds=t,this.key=i,this.De=s}}class JR{constructor(e,t){this.targetId=e,this.Ce=t}}class e2{constructor(e,t,i=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class CS{constructor(){this.ve=0,this.Fe=DS(),this.Me=Lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),i=ze();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:ye(38017,{changeType:o})}})),new Xh(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=DS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V5{constructor(e){this.Ge=e,this.ze=new Map,this.je=ei(),this.Je=Ud(),this.He=Ud(),this.Ye=new mt(ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,i=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(Mm(o))if(i===0){const u=new me(o.path);this.et(t,u,Rt.newNoDocument(u,xe.min()))}else Te(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=t;let u,h;try{u=Jr(i).toUint8Array()}catch(f){if(f instanceof bR)return vh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new b_(u,s,o)}catch(f){return vh(f instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let s=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&Mm(h.target)){const f=new me(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Rt.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let i=ze();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new Yh(e,t,this.Ye,this.je,i);return this.je=ei(),this.Je=Ud(),this.He=Ud(),this.Ye=new mt(ke),s}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new CS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new at(ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new at(ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new CS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ud(){return new mt(me.comparator)}function DS(){return new mt(me.comparator)}const M5={asc:"ASCENDING",desc:"DESCENDING"},P5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O5={and:"AND",or:"OR"};class L5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function av(n,e){return n.useProto3Json||dp(e)?e:{value:e}}function uu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function j5(n,e){return uu(n,e.toTimestamp())}function Dn(n){return Te(!!n,49232),xe.fromTimestamp((function(t){const i=Zr(t);return new tt(i.seconds,i.nanos)})(n))}function T_(n,e){return ov(n,e).canonicalString()}function ov(n,e){const t=(function(s){return new et(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function n2(n){const e=et.fromString(n);return Te(h2(e),10190,{key:e.toString()}),e}function Lm(n,e){return T_(n.databaseId,e.path)}function po(n,e){const t=n2(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new me(s2(t))}function i2(n,e){return T_(n.databaseId,e)}function r2(n){const e=n2(n);return e.length===4?et.emptyPath():s2(e)}function lv(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function s2(n){return Te(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function NS(n,e,t){return{name:Lm(n,e),fields:t.value.mapValue.fields}}function z5(n,e,t){const i=po(n,e.name),s=Dn(e.updateTime),o=e.createTime?Dn(e.createTime):xe.min(),u=new bn({mapValue:{fields:e.fields}}),h=Rt.newFoundDocument(i,s,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function U5(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ye(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(Te(g===void 0||typeof g=="string",58123),Lt.fromBase64String(g||"")):(Te(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Lt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(d){const g=d.code===void 0?ne.UNKNOWN:ZR(d.code);return new ce(g,d.message||"")})(u);t=new e2(i,s,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=po(n,i.document.name),o=Dn(i.document.updateTime),u=i.document.createTime?Dn(i.document.createTime):xe.min(),h=new bn({mapValue:{fields:i.document.fields}}),f=Rt.newFoundDocument(s,o,u,h),d=i.targetIds||[],g=i.removedTargetIds||[];t=new cm(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=po(n,i.document),o=i.readTime?Dn(i.readTime):xe.min(),u=Rt.newNoDocument(s,o),h=i.removedTargetIds||[];t=new cm([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=po(n,i.document),o=i.removedTargetIds||[];t=new cm([],o,s,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new C5(s,o),h=i.targetId;t=new JR(h,u)}}return t}function jm(n,e){let t;if(e instanceof wu)t={update:NS(n,e.key,e.value)};else if(e instanceof wp)t={delete:Lm(n,e.key)};else if(e instanceof as)t={update:NS(n,e.key,e.data),updateMask:K5(e.fieldMask)};else{if(!(e instanceof WR))return ye(16599,{Vt:e.type});t={verify:Lm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof Ch)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ou)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof lu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Dh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw ye(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:j5(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye(27497)})(n,e.precondition)),t}function uv(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?Tn.updateTime(Dn(o.updateTime)):o.exists!==void 0?Tn.exists(o.exists):Tn.none()})(e.currentDocument):Tn.none(),i=e.updateTransforms?e.updateTransforms.map((s=>(function(u,h){let f=null;if("setToServerValue"in h)Te(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new Ch;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];f=new ou(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];f=new lu(g)}else"increment"in h?f=new Dh(u,h.increment):ye(16584,{proto:h});const d=Et.fromServerFormat(h.fieldPath);return new S5(d,f)})(n,s))):[];if(e.update){e.update.name;const s=po(n,e.update.name),o=new bn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(f){const d=f.fieldPaths||[];return new Un(d.map((g=>Et.fromServerFormat(g))))})(e.updateMask);return new as(s,o,u,t,i)}return new wu(s,o,t,i)}if(e.delete){const s=po(n,e.delete);return new wp(s,t)}if(e.verify){const s=po(n,e.verify);return new WR(s,t)}return ye(1463,{proto:e})}function B5(n,e){return n&&n.length>0?(Te(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?Dn(s.updateTime):Dn(o);return u.isEqual(xe.min())&&(u=Dn(o)),new A5(u,s.transformResults||[])})(t,e)))):[]}function a2(n,e){return{documents:[i2(n,e.path)]}}function o2(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=i2(n,s);const o=(function(d){if(d.length!==0)return c2(st.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((g=>(function(_){return{field:Ml(_.field),direction:q5(_.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=av(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function l2(n){let e=r2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Te(i===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(v){const _=u2(v);return _ instanceof st&&m_(_)?_.getFilters():[_]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((_=>(function(C){return new Rh(Pl(C.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(_)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let _;return _=typeof v=="object"?v.value:v,dp(_)?null:_})(t.limit));let f=null;t.startAt&&(f=(function(v){const _=!!v.before,S=v.values||[];return new su(S,_)})(t.startAt));let d=null;return t.endAt&&(d=(function(v){const _=!v.before,S=v.values||[];return new su(S,_)})(t.endAt)),OR(e,s,u,o,h,"F",f,d)}function F5(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function u2(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Pl(t.unaryFilter.field);return Ke.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Pl(t.unaryFilter.field);return Ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Pl(t.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Pl(t.unaryFilter.field);return Ke.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ke.create(Pl(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return st.create(t.compositeFilter.filters.map((i=>u2(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(t.compositeFilter.op))})(n):ye(30097,{filter:n})}function q5(n){return M5[n]}function H5(n){return P5[n]}function G5(n){return O5[n]}function Ml(n){return{fieldPath:n.canonicalString()}}function Pl(n){return Et.fromServerFormat(n.fieldPath)}function c2(n){return n instanceof Ke?(function(t){if(t.op==="=="){if(pS(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NAN"}};if(mS(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pS(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NAN"}};if(mS(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(t.field),op:H5(t.op),value:t.value}}})(n):n instanceof st?(function(t){const i=t.getFilters().map((s=>c2(s)));return i.length===1?i[0]:{compositeFilter:{op:G5(t.op),filters:i}}})(n):ye(54877,{filter:n})}function K5(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function h2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Gr{constructor(e,t,i,s,o=xe.min(),u=xe.min(),h=Lt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class f2{constructor(e){this.yt=e}}function $5(n,e){let t;if(e.document)t=z5(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=me.fromSegments(e.noDocument.path),s=Io(e.noDocument.readTime);t=Rt.newNoDocument(i,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye(56709);{const i=me.fromSegments(e.unknownDocument.path),s=Io(e.unknownDocument.version);t=Rt.newUnknownDocument(i,s)}}return e.readTime&&t.setReadTime((function(s){const o=new tt(s[0],s[1]);return xe.fromTimestamp(o)})(e.readTime)),t}function kS(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(o,u){return{name:Lm(o,u.key),fields:u.data.value.mapValue.fields,updateTime:uu(o,u.version.toTimestamp()),createTime:uu(o,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ao(e.version)};else{if(!e.isUnknownDocument())return ye(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:Ao(e.version)}}return i}function zm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ao(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Io(n){const e=new tt(n.seconds,n.nanoseconds);return xe.fromTimestamp(e)}function ao(n,e){const t=(e.baseMutations||[]).map((o=>uv(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const i=e.mutations.map((o=>uv(n.yt,o))),s=tt.fromMillis(e.localWriteTimeMs);return new y_(e.batchId,s,t,i)}function Xc(n){const e=Io(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Io(n.lastLimboFreeSnapshotVersion):xe.min();let i;return i=(function(o){return o.documents!==void 0})(n.query)?(function(o){const u=o.documents.length;return Te(u===1,1966,{count:u}),ti(_p(r2(o.documents[0])))})(n.query):(function(o){return ti(l2(o))})(n.query),new Gr(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Lt.fromBase64String(n.resumeToken))}function d2(n,e){const t=Ao(e.snapshotVersion),i=Ao(e.lastLimboFreeSnapshotVersion);let s;s=Mm(e.target)?a2(n.yt,e.target):o2(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xo(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function m2(n){const e=l2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Om(e,e.limit,"L"):e}function o0(n,e){return new __(e.largestBatchId,uv(n.yt,e.overlayMutation))}function VS(n,e){const t=e.path.lastSegment();return[n,wn(e.path.popLast()),t]}function MS(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ao(i.readTime),documentKey:wn(i.documentKey.path),largestBatchId:i.largestBatchId}}class Q5{getBundleMetadata(e,t){return PS(e).get(t).next((i=>{if(i)return(function(o){return{id:o.bundleId,createTime:Io(o.createTime),version:o.version}})(i)}))}saveBundleMetadata(e,t){return PS(e).put((function(s){return{bundleId:s.id,createTime:Ao(Dn(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return OS(e).get(t).next((i=>{if(i)return(function(o){return{name:o.name,query:m2(o.bundledQuery),readTime:Io(o.readTime)}})(i)}))}saveNamedQuery(e,t){return OS(e).put((function(s){return{name:s.name,readTime:Ao(Dn(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function PS(n){return tn(n,mp)}function OS(n){return tn(n,pp)}class Sp{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new Sp(e,i)}getOverlay(e,t){return jc(e).get(VS(this.userId,t)).next((i=>i?o0(this.serializer,i):null))}getOverlays(e,t){const i=mr();return K.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,t,i){const s=[];return i.forEach(((o,u)=>{const h=new __(t,u);s.push(this.St(e,h))})),K.waitFor(s)}removeOverlaysForBatchId(e,t,i){const s=new Set;t.forEach((u=>s.add(wn(u.getCollectionPath()))));const o=[];return s.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(jc(e).Z(Z0,h))})),K.waitFor(o)}getOverlaysForCollection(e,t,i){const s=mr(),o=wn(t),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return jc(e).J(Z0,u).next((h=>{for(const f of h){const d=o0(this.serializer,f);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(e,t,i,s){const o=mr();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jc(e).ee({index:mR,range:h},((f,d,g)=>{const v=o0(this.serializer,d);o.size()<s||v.largestBatchId===u?(o.set(v.getKey(),v),u=v.largestBatchId):g.done()})).next((()=>o))}St(e,t){return jc(e).put((function(s,o,u){const[h,f,d]=VS(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:d,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:jm(s.yt,u.mutation)}})(this.serializer,this.userId,t))}}function jc(n){return tn(n,gp)}class Y5{bt(e){return tn(e,u_)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const i=t?.value;return i?Lt.fromUint8Array(i):Lt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class oo{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(bt(e.integerValue));else if("doubleValue"in e){const i=bt(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),bh(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=Zr(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Jr(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?AR(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):vp(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ye(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const i=e.fields||{};this.Ft(t,55);for(const s of Object.keys(i))this.Ot(s,t),this.Ct(i[s],t)}kt(e,t){const i=e.fields||{};this.Ft(t,53);const s=iu,o=i[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(bt(o)),this.Ot(s,t),this.Ct(i[s],t)}Qt(e,t){const i=e.values||[];this.Ft(t,50);for(const s of i)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),me.fromName(e).path.forEach((i=>{this.Ft(t,60),this.Ut(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}oo.Kt=new oo;const Il=255;function X5(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function LS(n){const e=64-(function(i){let s=0;for(let o=0;o<8;++o){const u=X5(255&i[o]);if(s+=u,u!==8)break}return s})(n);return Math.ceil(e/8)}class W5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Jt(i.value),i=t.next();this.Ht()}Yt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),i=LS(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),i=LS(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(Il),this.sn(255)}_n(){this.an(Il),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let s=1;s<t.length;++s)t[s]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Il?(this.sn(Il),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Il?(this.an(Il),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class Z5{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class J5{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class zc{constructor(){this.cn=new W5,this.ln=new Z5(this.cn),this.hn=new J5(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class lo{constructor(e,t,i,s){this.Tn=e,this.In=t,this.En=i,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.dn,0),t!==e?i.set([0],this.dn.length):++i[i.length-1],new lo(this.Tn,this.In,this.En,i)}Rn(e,t,i){return{indexId:this.Tn,uid:e,arrayValue:hm(this.En),directionalValue:hm(this.dn),orderedDocumentKey:hm(t),documentKey:i.path.toArray()}}Vn(e,t,i){const s=this.Rn(e,t,i);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Bs(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=jS(n.En,e.En),t!==0?t:(t=jS(n.dn,e.dn),t!==0?t:me.comparator(n.In,e.In)))}function jS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}function hm(n){return UI()?(function(t){let i="";for(let s=0;s<t.length;s++)i+=String.fromCharCode(t[s]);return i})(n):n}function zS(n){return typeof n!="string"?n:(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(n)}class US{constructor(e){this.mn=new at(((t,i)=>Et.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const i=t;i.isInequality()?this.mn=this.mn.add(i):this.gn.push(i)}}get pn(){return this.mn.size>1}yn(e){if(Te(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Y0(e);if(t!==void 0&&!this.wn(t))return!1;const i=no(e);let s=new Set,o=0,u=0;for(;o<i.length&&this.wn(i[o]);++o)s=s.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!s.has(h.field.canonicalString())){const f=i[o];if(!this.Sn(h,f)||!this.bn(this.fn[u++],f))return!1}++o}for(;o<i.length;++o){const h=i[o];if(u>=this.fn.length||!this.bn(this.fn[u++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new at(Et.comparator);const t=[];for(const i of this.gn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new im(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new im(i.field,0))}for(const i of this.fn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new im(i.field,i.dir==="asc"?0:1)));return new Cm(Cm.UNKNOWN_ID,this.collectionId,t,_h.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function p2(n){if(Te(n instanceof Ke||n instanceof st,20012),n instanceof Ke){if(n instanceof PR){const t=n.value.arrayValue?.values?.map((i=>Ke.create(n.field,"==",i)))||[];return st.create(t,"or")}return n}const e=n.filters.map((t=>p2(t)));return st.create(e,n.op)}function e6(n){if(n.getFilters().length===0)return[];const e=fv(p2(n));return Te(g2(e),7391),cv(e)||hv(e)?[e]:e.getFilters()}function cv(n){return n instanceof Ke}function hv(n){return n instanceof st&&m_(n)}function g2(n){return cv(n)||hv(n)||(function(t){if(t instanceof st&&nv(t)){for(const i of t.getFilters())if(!cv(i)&&!hv(i))return!1;return!0}return!1})(n)}function fv(n){if(Te(n instanceof Ke||n instanceof st,34018),n instanceof Ke)return n;if(n.filters.length===1)return fv(n.filters[0]);const e=n.filters.map((i=>fv(i)));let t=st.create(e,n.op);return t=Um(t),g2(t)?t:(Te(t instanceof st,64498),Te(au(t),40251),Te(t.filters.length>1,57927),t.filters.reduce(((i,s)=>E_(i,s))))}function E_(n,e){let t;return Te(n instanceof Ke||n instanceof st,38388),Te(e instanceof Ke||e instanceof st,25473),t=n instanceof Ke?e instanceof Ke?(function(s,o){return st.create([s,o],"and")})(n,e):BS(n,e):e instanceof Ke?BS(e,n):(function(s,o){if(Te(s.filters.length>0&&o.filters.length>0,48005),au(s)&&au(o))return kR(s,o.getFilters());const u=nv(s)?s:o,h=nv(s)?o:s,f=u.filters.map((d=>E_(d,h)));return st.create(f,"or")})(n,e),Um(t)}function BS(n,e){if(au(e))return kR(e,n.getFilters());{const t=e.filters.map((i=>E_(n,i)));return st.create(t,"or")}}function Um(n){if(Te(n instanceof Ke||n instanceof st,11850),n instanceof Ke)return n;const e=n.getFilters();if(e.length===1)return Um(e[0]);if(DR(n))return n;const t=e.map((s=>Um(s))),i=[];return t.forEach((s=>{s instanceof Ke?i.push(s):s instanceof st&&(s.op===n.op?i.push(...s.filters):i.push(s))})),i.length===1?i[0]:st.create(i,n.op)}class t6{constructor(){this.Cn=new w_}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(ni.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class w_{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new at(et.comparator),o=!s.has(i);return this.index[t]=s.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new at(et.comparator)).toArray()}}const FS="IndexedDbIndexManager",Bd=new Uint8Array(0);class n6{constructor(e,t){this.databaseId=t,this.vn=new w_,this.Fn=new ss((i=>xo(i)),((i,s)=>$h(i,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const i=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const o={collectionId:i,parent:wn(s)};return qS(e).put(o)}return K.resolve()}getCollectionParents(e,t){const i=[],s=IDBKeyRange.bound([t,""],[eR(t),""],!1,!0);return qS(e).J(s).next((o=>{for(const u of o){if(u.collectionId!==t)break;i.push(dr(u.parent))}return i}))}addFieldIndex(e,t){const i=Uc(e),s=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete s.indexId;const o=i.add(s);if(t.indexState){const u=Cl(e);return o.next((h=>{u.put(MS(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const i=Uc(e),s=Cl(e),o=Rl(e);return i.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Uc(e),i=Rl(e),s=Cl(e);return t.Z().next((()=>i.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return K.forEach(this.Mn(t),(i=>this.getIndexType(e,i).next((s=>{if(s===0||s===1){const o=new US(i).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const i=Rl(e);let s=!0;const o=new Map;return K.forEach(this.Mn(t),(u=>this.xn(e,u).next((h=>{s&&(s=!!h),o.set(u,h)})))).next((()=>{if(s){let u=ze();const h=[];return K.forEach(o,((f,d)=>{ue(FS,`Using index ${(function(L){return`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map((J=>`${J.fieldPath}:${J.kind}`)).join(",")}`})(f)} to execute ${xo(t)}`);const g=(function(L,J){const ee=Y0(J);if(ee===void 0)return null;for(const re of Pm(L,ee.fieldPath))switch(re.op){case"array-contains-any":return re.value.arrayValue.values||[];case"array-contains":return[re.value]}return null})(d,f),v=(function(L,J){const ee=new Map;for(const re of no(J))for(const R of Pm(L,re.fieldPath))switch(R.op){case"==":case"in":ee.set(re.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return ee.set(re.fieldPath.canonicalString(),R.value),Array.from(ee.values())}return null})(d,f),_=(function(L,J){const ee=[];let re=!0;for(const R of no(J)){const A=R.kind===0?bS(L,R.fieldPath,L.startAt):TS(L,R.fieldPath,L.startAt);ee.push(A.value),re&&(re=A.inclusive)}return new su(ee,re)})(d,f),S=(function(L,J){const ee=[];let re=!0;for(const R of no(J)){const A=R.kind===0?TS(L,R.fieldPath,L.endAt):bS(L,R.fieldPath,L.endAt);ee.push(A.value),re&&(re=A.inclusive)}return new su(ee,re)})(d,f),C=this.On(f,d,_),V=this.On(f,d,S),M=this.Nn(f,d,v),z=this.Bn(f.indexId,g,C,_.inclusive,V,S.inclusive,M);return K.forEach(z,(q=>i.Y(q,t.limit).next((L=>{L.forEach((J=>{const ee=me.fromSegments(J.documentKey);u.has(ee)||(u=u.add(ee),h.push(ee))}))}))))})).next((()=>h))}return K.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=e6(st.create(e.filters,"and")).map((i=>rv(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,i,s,o,u,h){const f=(t!=null?t.length:1)*Math.max(i.length,o.length),d=f/(t!=null?t.length:1),g=[];for(let v=0;v<f;++v){const _=t?this.Ln(t[v/d]):Bd,S=this.kn(e,_,i[v%d],s),C=this.qn(e,_,o[v%d],u),V=h.map((M=>this.kn(e,_,M,!0)));g.push(...this.createRange(S,C,V))}return g}kn(e,t,i,s){const o=new lo(e,me.empty(),t,i);return s?o:o.An()}qn(e,t,i,s){const o=new lo(e,me.empty(),t,i);return s?o.An():o}xn(e,t){const i=new US(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((o=>{let u=null;for(const h of o)i.yn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,t){let i=2;const s=this.Mn(t);return K.forEach(s,(o=>this.xn(e,o).next((u=>{u?i!==0&&u.fields.length<(function(f){let d=new at(Et.comparator),g=!1;for(const v of f.filters)for(const _ of v.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?g=!0:d=d.add(_.field));for(const v of f.orderBy)v.field.isKeyField()||(d=d.add(v.field));return d.size+(g?1:0)})(o)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(t)&&s.length>1&&i===2?1:i))}Qn(e,t){const i=new zc;for(const s of no(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const u=i.Pn(s.kind);oo.Kt.Dt(o,u)}return i.un()}Ln(e){const t=new zc;return oo.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const i=new zc;return oo.Kt.Dt(Ah(this.databaseId,t),i.Pn((function(o){const u=no(o);return u.length===0?0:u[u.length-1].kind})(e))),i.un()}Nn(e,t,i){if(i===null)return[];let s=[];s.push(new zc);let o=0;for(const u of no(e)){const h=i[o++];for(const f of s)if(this.Un(t,u.fieldPath)&&Ih(h))s=this.Kn(s,u,h);else{const d=f.Pn(u.kind);oo.Kt.Dt(h,d)}}return this.Wn(s)}On(e,t,i){return this.Nn(e,t,i.position)}Wn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Kn(e,t,i){const s=[...e],o=[];for(const u of i.arrayValue.values||[])for(const h of s){const f=new zc;f.seed(h.un()),oo.Kt.Dt(u,f.Pn(t.kind)),o.push(f)}return o}Un(e,t){return!!e.filters.find((i=>i instanceof Ke&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=Uc(e),s=Cl(e);return(t?i.J(W0,IDBKeyRange.bound(t,t)):i.J()).next((o=>{const u=[];return K.forEach(o,(h=>s.get([h.indexId,this.uid]).next((f=>{u.push((function(g,v){const _=v?new _h(v.sequenceNumber,new ni(Io(v.readTime),new me(dr(v.documentKey)),v.largestBatchId)):_h.empty(),S=g.fields.map((([C,V])=>new im(Et.fromServerFormat(C),V)));return new Cm(g.indexId,g.collectionGroup,S,_)})(h,f))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,s)=>{const o=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:ke(i.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const s=Uc(e),o=Cl(e);return this.Gn(e).next((u=>s.J(W0,IDBKeyRange.bound(t,t)).next((h=>K.forEach(h,(f=>o.put(MS(f.indexId,this.uid,u,i))))))))}updateIndexEntries(e,t){const i=new Map;return K.forEach(t,((s,o)=>{const u=i.get(s.collectionGroup);return(u?K.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next((h=>(i.set(s.collectionGroup,h),K.forEach(h,(f=>this.zn(e,s,f).next((d=>{const g=this.jn(o,f);return d.isEqual(g)?K.resolve():this.Jn(e,o,f,d,g)})))))))}))}Hn(e,t,i,s){return Rl(e).put(s.Rn(this.uid,this.$n(i,t.key),t.key))}Yn(e,t,i,s){return Rl(e).delete(s.Vn(this.uid,this.$n(i,t.key),t.key))}zn(e,t,i){const s=Rl(e);let o=new at(Bs);return s.ee({index:dR,range:IDBKeyRange.only([i.indexId,this.uid,hm(this.$n(i,t))])},((u,h)=>{o=o.add(new lo(i.indexId,t,zS(h.arrayValue),zS(h.directionalValue)))})).next((()=>o))}jn(e,t){let i=new at(Bs);const s=this.Qn(t,e);if(s==null)return i;const o=Y0(t);if(o!=null){const u=e.data.field(o.fieldPath);if(Ih(u))for(const h of u.arrayValue.values||[])i=i.add(new lo(t.indexId,e.key,this.Ln(h),s))}else i=i.add(new lo(t.indexId,e.key,Bd,s));return i}Jn(e,t,i,s,o){ue(FS,"Updating index entries for document '%s'",t.key);const u=[];return(function(f,d,g,v,_){const S=f.getIterator(),C=d.getIterator();let V=Al(S),M=Al(C);for(;V||M;){let z=!1,q=!1;if(V&&M){const L=g(V,M);L<0?q=!0:L>0&&(z=!0)}else V!=null?q=!0:z=!0;z?(v(M),M=Al(C)):q?(_(V),V=Al(S)):(V=Al(S),M=Al(C))}})(s,o,Bs,(h=>{u.push(this.Hn(e,t,i,h))}),(h=>{u.push(this.Yn(e,t,i,h))})),K.waitFor(u)}Gn(e){let t=1;return Cl(e).ee({index:fR,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,s,o)=>{o.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((u,h)=>Bs(u,h))).filter(((u,h,f)=>!h||Bs(u,f[h-1])!==0));const s=[];s.push(e);for(const u of i){const h=Bs(u,e),f=Bs(u,t);if(h===0)s[0]=e.An();else if(h>0&&f<0)s.push(u),s.push(u.An());else if(f>0)break}s.push(t);const o=[];for(let u=0;u<s.length;u+=2){if(this.Zn(s[u],s[u+1]))return[];const h=s[u].Vn(this.uid,Bd,me.empty()),f=s[u+1].Vn(this.uid,Bd,me.empty());o.push(IDBKeyRange.bound(h,f))}return o}Zn(e,t){return Bs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(HS)}getMinOffset(e,t){return K.mapArray(this.Mn(t),(i=>this.xn(e,i).next((s=>s||ye(44426))))).next(HS)}}function qS(n){return tn(n,wh)}function Rl(n){return tn(n,ih)}function Uc(n){return tn(n,l_)}function Cl(n){return tn(n,nh)}function HS(n){Te(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const s=n[i].indexState.offset;s_(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new ni(e.readTime,e.documentKey,t)}const GS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y2=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}function v2(n,e,t){const i=n.store(Li),s=n.store(Jl),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=i.ee({range:u},((g,v,_)=>(h++,_.delete())));o.push(f.next((()=>{Te(h===1,47070,{batchId:t.batchId})})));const d=[];for(const g of t.mutations){const v=uR(e,g.key.path,t.batchId);o.push(s.delete(v)),d.push(g.key)}return K.waitFor(o).next((()=>d))}function Bm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ye(14731);e=n.noDocument}return JSON.stringify(e).length}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(y2,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class xp{constructor(e,t,i,s){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=s,this.Xn={}}static wt(e,t,i,s){Te(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new xp(o,t,i,s)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fs(e).ee({index:uo,range:i},((s,o,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,i,s){const o=Ol(e),u=Fs(e);return u.add({}).next((h=>{Te(typeof h=="number",49019);const f=new y_(h,t,i,s),d=(function(S,C,V){const M=V.baseMutations.map((q=>jm(S.yt,q))),z=V.mutations.map((q=>jm(S.yt,q)));return{userId:C,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:M,mutations:z}})(this.serializer,this.userId,f),g=[];let v=new at(((_,S)=>ke(_.canonicalString(),S.canonicalString())));for(const _ of s){const S=uR(this.userId,_.key.path,h);v=v.add(_.key.path.popLast()),g.push(u.put(d)),g.push(o.put(S,V3))}return v.forEach((_=>{g.push(this.indexManager.addToCollectionParentIndex(e,_))})),e.addOnCommittedListener((()=>{this.Xn[h]=f.keys()})),K.waitFor(g).next((()=>f))}))}lookupMutationBatch(e,t){return Fs(e).get(t).next((i=>i?(Te(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),ao(this.serializer,i)):null))}er(e,t){return this.Xn[t]?K.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const s=i.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Fs(e).ee({index:uo,range:s},((u,h,f)=>{h.userId===this.userId&&(Te(h.batchId>=i,47524,{tr:i}),o=ao(this.serializer,h)),f.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=fo;return Fs(e).ee({index:uo,range:t,reverse:!0},((s,o,u)=>{i=o.batchId,u.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,fo],[this.userId,Number.POSITIVE_INFINITY]);return Fs(e).J(uo,t).next((i=>i.map((s=>ao(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=rm(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=[];return Ol(e).ee({range:s},((u,h,f)=>{const[d,g,v]=u,_=dr(g);if(d===this.userId&&t.path.isEqual(_))return Fs(e).get(v).next((S=>{if(!S)throw ye(61480,{nr:u,batchId:v});Te(S.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:S.userId,batchId:v}),o.push(ao(this.serializer,S))}));f.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new at(ke);const s=[];return t.forEach((o=>{const u=rm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),f=Ol(e).ee({range:h},((d,g,v)=>{const[_,S,C]=d,V=dr(S);_===this.userId&&o.path.isEqual(V)?i=i.add(C):v.done()}));s.push(f)})),K.waitFor(s).next((()=>this.rr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1,o=rm(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new at(ke);return Ol(e).ee({range:u},((f,d,g)=>{const[v,_,S]=f,C=dr(_);v===this.userId&&i.isPrefixOf(C)?C.length===s&&(h=h.add(S)):g.done()})).next((()=>this.rr(e,h)))}rr(e,t){const i=[],s=[];return t.forEach((o=>{s.push(Fs(e).get(o).next((u=>{if(u===null)throw ye(35274,{batchId:o});Te(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),i.push(ao(this.serializer,u))})))})),K.waitFor(s).next((()=>i))}removeMutationBatch(e,t){return v2(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),K.forEach(i,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return K.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),s=[];return Ol(e).ee({range:i},((o,u,h)=>{if(o[0]===this.userId){const f=dr(o[1]);s.push(f)}else h.done()})).next((()=>{Te(s.length===0,56720,{sr:s.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return _2(e,this.userId,t)}_r(e){return b2(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:fo,lastStreamToken:""}))}}function _2(n,e,t){const i=rm(e,t.path),s=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return Ol(n).ee({range:o,X:!0},((h,f,d)=>{const[g,v,_]=h;g===e&&v===s&&(u=!0),d.done()})).next((()=>u))}function Fs(n){return tn(n,Li)}function Ol(n){return tn(n,Jl)}function b2(n){return tn(n,Th)}class Ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ro(0)}static cr(){return new Ro(-1)}}class i6{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const i=new Ro(t.highestTargetId);return t.highestTargetId=i.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>xe.fromTimestamp(new tt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((i=>(i.targetCount+=1,this.Tr(t,i),this.hr(e,i))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Dl(e).delete(t.targetId))).next((()=>this.lr(e))).next((i=>(Te(i.targetCount>0,8065),i.targetCount-=1,this.hr(e,i))))}removeTargets(e,t,i){let s=0;const o=[];return Dl(e).ee(((u,h)=>{const f=Xc(h);f.sequenceNumber<=t&&i.get(f.targetId)===null&&(s++,o.push(this.removeTargetData(e,f)))})).next((()=>K.waitFor(o))).next((()=>s))}forEachTarget(e,t){return Dl(e).ee(((i,s)=>{const o=Xc(s);t(o)}))}lr(e){return KS(e).get(km).next((t=>(Te(t!==null,2888),t)))}hr(e,t){return KS(e).put(km,t)}Pr(e,t){return Dl(e).put(d2(this.serializer,t))}Tr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const i=xo(t),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Dl(e).ee({range:s,index:hR},((u,h,f)=>{const d=Xc(h);$h(t,d.target)&&(o=d,f.done())})).next((()=>o))}addMatchingKeys(e,t,i){const s=[],o=$s(e);return t.forEach((u=>{const h=wn(u.path);s.push(o.put({targetId:i,path:h})),s.push(this.referenceDelegate.addReference(e,i,u))})),K.waitFor(s)}removeMatchingKeys(e,t,i){const s=$s(e);return K.forEach(t,(o=>{const u=wn(o.path);return K.waitFor([s.delete([i,u]),this.referenceDelegate.removeReference(e,i,o)])}))}removeMatchingKeysForTargetId(e,t){const i=$s(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),s=$s(e);let o=ze();return s.ee({range:i,X:!0},((u,h,f)=>{const d=dr(u[1]),g=new me(d);o=o.add(g)})).next((()=>o))}containsKey(e,t){const i=wn(t.path),s=IDBKeyRange.bound([i],[eR(i)],!1,!0);let o=0;return $s(e).ee({index:o_,X:!0,range:s},(([u,h],f,d)=>{u!==0&&(o++,d.done())})).next((()=>o>0))}At(e,t){return Dl(e).get(t).next((i=>i?Xc(i):null))}}function Dl(n){return tn(n,eu)}function KS(n){return tn(n,mo)}function $s(n){return tn(n,tu)}const $S="LruGarbageCollector",T2=1048576;function QS([n,e],[t,i]){const s=ke(n,t);return s===0?ke(e,i):s}class r6{constructor(e){this.Ir=e,this.buffer=new at(QS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();QS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class E2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue($S,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ya(t)?ue($S,"Ignoring IndexedDB error during garbage collection: ",t):await ga(t)}await this.Vr(3e5)}))}}class s6{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(zn.ce);const i=new r6(t);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(GS)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,s,o,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,t)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(d=Date.now(),kl()<=Ge.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function w2(n,e){return new s6(n,e)}class a6{constructor(e,t){this.db=e,this.garbageCollector=w2(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((i,s)=>t(s)))}addReference(e,t,i){return Fd(e,i)}removeReference(e,t,i){return Fd(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Fd(e,t)}br(e,t){return(function(s,o){let u=!1;return b2(s).te((h=>_2(s,h,o).next((f=>(f&&(u=!0),K.resolve(!f)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Sr(e,((u,h)=>{if(h<=t){const f=this.br(e,u).next((d=>{if(!d)return o++,i.getEntry(e,u).next((()=>(i.removeEntry(u,xe.min()),$s(e).delete((function(v){return[0,wn(v.path)]})(u)))))}));s.push(f)}})).next((()=>K.waitFor(s))).next((()=>i.apply(e))).next((()=>o))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Fd(e,t)}Sr(e,t){const i=$s(e);let s,o=zn.ce;return i.ee({index:o_},(([u,h],{path:f,sequenceNumber:d})=>{u===0?(o!==zn.ce&&t(new me(dr(s)),o),o=d,s=f):o=zn.ce})).next((()=>{o!==zn.ce&&t(new me(dr(s)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fd(n,e){return $s(n).put((function(i,s){return{targetId:0,path:wn(i.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}class S2{constructor(){this.changes=new ss((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class o6{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Za(e).put(i)}removeEntry(e,t,i){return Za(e).delete((function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],zm(u),h[h.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.Dr(e,i))))}getEntry(e,t){let i=Rt.newInvalidDocument(t);return Za(e).ee({index:sm,range:IDBKeyRange.only(Bc(t))},((s,o)=>{i=this.Cr(t,o)})).next((()=>i))}vr(e,t){let i={size:0,document:Rt.newInvalidDocument(t)};return Za(e).ee({index:sm,range:IDBKeyRange.only(Bc(t))},((s,o)=>{i={document:this.Cr(t,o),size:Bm(o)}})).next((()=>i))}getEntries(e,t){let i=ei();return this.Fr(e,t,((s,o)=>{const u=this.Cr(s,o);i=i.insert(s,u)})).next((()=>i))}Mr(e,t){let i=ei(),s=new mt(me.comparator);return this.Fr(e,t,((o,u)=>{const h=this.Cr(o,u);i=i.insert(o,h),s=s.insert(o,Bm(u))})).next((()=>({documents:i,Or:s})))}Fr(e,t,i){if(t.isEmpty())return K.resolve();let s=new at(WS);t.forEach((f=>s=s.add(f)));const o=IDBKeyRange.bound(Bc(s.first()),Bc(s.last())),u=s.getIterator();let h=u.getNext();return Za(e).ee({index:sm,range:o},((f,d,g)=>{const v=me.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;h&&WS(h,v)<0;)i(h,null),h=u.getNext();h&&h.isEqual(v)&&(i(h,d),h=u.hasNext()?u.getNext():null),h?g.j(Bc(h)):g.done()})).next((()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,i,s,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),zm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Za(e).J(IDBKeyRange.bound(h,f,!0)).next((d=>{o?.incrementDocumentReadCount(d.length);let g=ei();for(const v of d){const _=this.Cr(me.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);_.isFoundDocument()&&(Qh(t,_)||s.has(_.key))&&(g=g.insert(_.key,_))}return g}))}getAllFromCollectionGroup(e,t,i,s){let o=ei();const u=XS(t,i),h=XS(t,ni.max());return Za(e).ee({index:cR,range:IDBKeyRange.bound(u,h,!0)},((f,d,g)=>{const v=this.Cr(me.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(v.key,v),o.size===s&&g.done()})).next((()=>o))}newChangeBuffer(e){return new l6(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return YS(e).get(X0).next((t=>(Te(!!t,20021),t)))}Dr(e,t){return YS(e).put(X0,t)}Cr(e,t){if(t){const i=$5(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(xe.min())))return i}return Rt.newInvalidDocument(e)}}function x2(n){return new o6(n)}class l6 extends S2{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new ss((i=>i.toString()),((i,s)=>i.isEqual(s)))}applyChanges(e){const t=[];let i=0,s=new at(((o,u)=>ke(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const h=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const f=kS(this.Nr.serializer,u);s=s.add(o.path.popLast());const d=Bm(f);i+=d-h.size,t.push(this.Nr.addEntry(e,o,f))}else if(i-=h.size,this.trackRemovals){const f=kS(this.Nr.serializer,u.convertToNoDocument(xe.min()));t.push(this.Nr.addEntry(e,o,f))}})),s.forEach((o=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Nr.updateMetadata(e,i)),K.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((i=>(this.Br.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:i,Or:s})=>(s.forEach(((o,u)=>{this.Br.set(o,{size:u,readTime:i.get(o).readTime})})),i)))}}function YS(n){return tn(n,Eh)}function Za(n){return tn(n,Nm)}function Bc(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function XS(n,e){const t=e.documentKey.path.toArray();return[n,zm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function WS(n,e){const t=n.path.toArray(),i=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(s=ke(t[o],i[o]),s)return s;return s=ke(t.length,i.length),s||(s=ke(t[t.length-2],i[i.length-2]),s||ke(t[t.length-1],i[i.length-1]))}class u6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class A2{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(i!==null&&oh(i.mutation,s,Un.empty(),tt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,ze()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=ze()){const s=mr();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,i).next((o=>{let u=Qc();return o.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=mr();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,ze())))}populateOverlays(e,t,i){const s=[];return i.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,s){let o=ei();const u=ah(),h=(function(){return ah()})();return t.forEach(((f,d)=>{const g=i.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof as)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),oh(g.mutation,d,g.mutation.getFieldMask(),tt.now())):u.set(d.key,Un.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>h.set(d,new u6(g,u.get(d)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=ah();let s=new mt(((u,h)=>u-h)),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=i.get(f)||Un.empty();g=h.applyToLocalView(d,g),i.set(f,g);const v=(s.get(h.batchId)||ze()).add(f);s=s.insert(h.batchId,v)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,v=qR();g.forEach((_=>{if(!o.has(_)){const S=YR(t.get(_),i.get(_));S!==null&&v.set(_,S),o=o.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return K.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,s){return(function(u){return me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):LR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-o.size):K.resolve(mr());let h=Zl,f=o;return u.next((d=>K.forEach(d,((g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(g)?K.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{f=f.insert(g,_)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,ze()))).next((g=>({batchId:h,changes:FR(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next((i=>{let s=Qc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const o=t.collectionGroup;let u=Qc();return this.indexManager.getCollectionParents(e,o).next((h=>K.forEach(h,(f=>{const d=(function(v,_){return new Eu(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next((g=>{g.forEach(((v,_)=>{u=u.insert(v,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,s)))).next((u=>{o.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,Rt.newInvalidDocument(g)))}));let h=Qc();return u.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&oh(g.mutation,d,Un.empty(),tt.now()),Qh(t,d)&&(h=h.insert(f,d))})),h}))}}class c6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Dn(s.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:m2(s.bundledQuery),readTime:Dn(s.readTime)}})(t)),K.resolve()}}class h6{constructor(){this.overlays=new mt(me.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=mr();return K.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((s,o)=>{this.St(e,t,o)})),K.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const s=mr(),o=t.length+1,u=new me(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return K.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let o=new mt(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let g=o.get(d.largestBatchId);g===null&&(g=mr(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=mr(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>h.set(d,g))),!(h.size()>=s)););return K.resolve(h)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new __(t,i));let o=this.qr.get(t);o===void 0&&(o=ze(),this.qr.set(t,o)),this.qr.set(t,o.add(i.key))}}class f6{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}class S_{constructor(){this.Qr=new at(an.$r),this.Ur=new at(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new an(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new an(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new me(new et([])),i=new an(t,e),s=new an(t,e+1),o=[];return this.Ur.forEachInRange([i,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new me(new et([])),i=new an(t,e),s=new an(t,e+1);let o=ze();return this.Ur.forEachInRange([i,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new an(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class an{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return me.comparator(e.key,t.key)||ke(e.Yr,t.Yr)}static Kr(e,t){return ke(e.Yr,t.Yr)||me.comparator(e.key,t.key)}}class d6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new at(an.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new y_(o,t,i,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new an(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return K.resolve(u)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ei(i),o=s<0?0:s;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?fo:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new an(t,0),s=new an(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],(u=>{const h=this.Xr(u.Yr);o.push(h)})),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new at(ke);return t.forEach((s=>{const o=new an(s,0),u=new an(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{i=i.add(h.Yr)}))})),K.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let o=i;me.isDocumentKey(o)||(o=o.child(""));const u=new an(new me(o),0);let h=new at(ke);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(h=h.add(f.Yr)),!0)}),u),K.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Te(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return K.forEach(t.mutations,(s=>{const o=new an(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new an(t,0),s=this.Zr.firstAfterOrEqual(i);return K.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class m6{constructor(e){this.ri=e,this.docs=(function(){return new mt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),o=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():Rt.newInvalidDocument(t))}getEntries(e,t){let i=ei();return t.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Rt.newInvalidDocument(s))})),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let o=ei();const u=t.path,h=new me(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||s_(rR(g),i)<=0||(s.has(g.key)||Qh(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,t,i,s){ye(9500)}ii(e,t){return K.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new p6(this)}getSize(e){return K.resolve(this.size)}}class p6 extends S2{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class g6{constructor(e){this.persistence=e,this.si=new ss((t=>xo(t)),$h),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new S_,this.targetCount=0,this.ai=Ro.ur()}forEachTarget(e,t){return this.si.forEach(((i,s)=>t(s))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ro(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let s=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),K.waitFor(o).next((()=>s))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),K.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),K.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}}class x_{constructor(e,t){this.ui={},this.overlays={},this.ci=new zn(0),this.li=!1,this.li=!0,this.hi=new f6,this.referenceDelegate=e(this),this.Pi=new g6(this),this.indexManager=new t6,this.remoteDocumentCache=(function(s){return new m6(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new f2(t),this.Ii=new c6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new h6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new d6(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ue("MemoryPersistence","Starting transaction:",e);const s=new y6(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return K.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class y6 extends aR{constructor(e){super(),this.currentSequenceNumber=e}}class Ap{constructor(e){this.persistence=e,this.Ri=new S_,this.Vi=null}static mi(e){return new Ap(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(i=>{const s=me.fromPath(i);return this.gi(e,s).next((o=>{o||t.removeEntry(s,xe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Fm{constructor(e,t){this.persistence=e,this.pi=new ss((i=>wn(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=w2(this,t)}static mi(e,t){return new Fm(e,t)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return K.forEach(this.pi,((i,s)=>this.br(e,i,s).next((o=>o?K.resolve():t(s)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((h=>{h||(i++,o.removeEntry(u,xe.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=om(e.data.value)),t}br(e,t,i){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return K.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class v6{constructor(e){this.serializer=e}k(e,t,i,s){const o=new fp("createOrUpgrade",t);i<1&&s>=1&&((function(f){f.createObjectStore(Kh)})(e),(function(f){f.createObjectStore(Th,{keyPath:k3}),f.createObjectStore(Li,{keyPath:lS,autoIncrement:!0}).createIndex(uo,uS,{unique:!0}),f.createObjectStore(Jl)})(e),ZS(e),(function(f){f.createObjectStore(io)})(e));let u=K.resolve();return i<3&&s>=3&&(i!==0&&((function(f){f.deleteObjectStore(tu),f.deleteObjectStore(eu),f.deleteObjectStore(mo)})(e),ZS(e)),u=u.next((()=>(function(f){const d=f.store(mo),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xe.min().toTimestamp(),targetCount:0};return d.put(km,g)})(o)))),i<4&&s>=4&&(i!==0&&(u=u.next((()=>(function(f,d){return d.store(Li).J().next((v=>{f.deleteObjectStore(Li),f.createObjectStore(Li,{keyPath:lS,autoIncrement:!0}).createIndex(uo,uS,{unique:!0});const _=d.store(Li),S=v.map((C=>_.put(C)));return K.waitFor(S)}))})(e,o)))),u=u.next((()=>{(function(f){f.createObjectStore(nu,{keyPath:B3})})(e)}))),i<5&&s>=5&&(u=u.next((()=>this.yi(o)))),i<6&&s>=6&&(u=u.next((()=>((function(f){f.createObjectStore(Eh)})(e),this.wi(o))))),i<7&&s>=7&&(u=u.next((()=>this.Si(o)))),i<8&&s>=8&&(u=u.next((()=>this.bi(e,o)))),i<9&&s>=9&&(u=u.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&s>=10&&(u=u.next((()=>this.Di(o)))),i<11&&s>=11&&(u=u.next((()=>{(function(f){f.createObjectStore(mp,{keyPath:F3})})(e),(function(f){f.createObjectStore(pp,{keyPath:q3})})(e)}))),i<12&&s>=12&&(u=u.next((()=>{(function(f){const d=f.createObjectStore(gp,{keyPath:X3});d.createIndex(Z0,W3,{unique:!1}),d.createIndex(mR,Z3,{unique:!1})})(e)}))),i<13&&s>=13&&(u=u.next((()=>(function(f){const d=f.createObjectStore(Nm,{keyPath:M3});d.createIndex(sm,P3),d.createIndex(cR,O3)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(io)))),i<14&&s>=14&&(u=u.next((()=>this.Fi(e,o)))),i<15&&s>=15&&(u=u.next((()=>(function(f){f.createObjectStore(l_,{keyPath:H3,autoIncrement:!0}).createIndex(W0,G3,{unique:!1}),f.createObjectStore(nh,{keyPath:K3}).createIndex(fR,$3,{unique:!1}),f.createObjectStore(ih,{keyPath:Q3}).createIndex(dR,Y3,{unique:!1})})(e)))),i<16&&s>=16&&(u=u.next((()=>{t.objectStore(nh).clear()})).next((()=>{t.objectStore(ih).clear()}))),i<17&&s>=17&&(u=u.next((()=>{(function(f){f.createObjectStore(u_,{keyPath:J3})})(e)}))),i<18&&s>=18&&UI()&&(u=u.next((()=>{t.objectStore(nh).clear()})).next((()=>{t.objectStore(ih).clear()}))),u}wi(e){let t=0;return e.store(io).ee(((i,s)=>{t+=Bm(s)})).next((()=>{const i={byteSize:t};return e.store(Eh).put(X0,i)}))}yi(e){const t=e.store(Th),i=e.store(Li);return t.J().next((s=>K.forEach(s,(o=>{const u=IDBKeyRange.bound([o.userId,fo],[o.userId,o.lastAcknowledgedBatchId]);return i.J(uo,u).next((h=>K.forEach(h,(f=>{Te(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=ao(this.serializer,f);return v2(e,o.userId,d).next((()=>{}))}))))}))))}Si(e){const t=e.store(tu),i=e.store(io);return e.store(mo).get(km).next((s=>{const o=[];return i.ee(((u,h)=>{const f=new et(u),d=(function(v){return[0,wn(v)]})(f);o.push(t.get(d).next((g=>g?K.resolve():(v=>t.put({targetId:0,path:wn(v),sequenceNumber:s.highestListenSequenceNumber}))(f))))})).next((()=>K.waitFor(o)))}))}bi(e,t){e.createObjectStore(wh,{keyPath:U3});const i=t.store(wh),s=new w_,o=u=>{if(s.add(u)){const h=u.lastSegment(),f=u.popLast();return i.put({collectionId:h,parent:wn(f)})}};return t.store(io).ee({X:!0},((u,h)=>{const f=new et(u);return o(f.popLast())})).next((()=>t.store(Jl).ee({X:!0},(([u,h,f],d)=>{const g=dr(h);return o(g.popLast())}))))}Di(e){const t=e.store(eu);return t.ee(((i,s)=>{const o=Xc(s),u=d2(this.serializer,o);return t.put(u)}))}Ci(e,t){const i=t.store(io),s=[];return i.ee(((o,u)=>{const h=t.store(Nm),f=(function(v){return v.document?new me(et.fromString(v.document.name).popFirst(5)):v.noDocument?me.fromSegments(v.noDocument.path):v.unknownDocument?me.fromSegments(v.unknownDocument.path):ye(36783)})(u).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(h.put(d))})).next((()=>K.waitFor(s)))}Fi(e,t){const i=t.store(Li),s=x2(this.serializer),o=new x_(Ap.mi,this.serializer.yt);return i.J().next((u=>{const h=new Map;return u.forEach((f=>{let d=h.get(f.userId)??ze();ao(this.serializer,f).keys().forEach((g=>d=d.add(g))),h.set(f.userId,d)})),K.forEach(h,((f,d)=>{const g=new vn(d),v=Sp.wt(this.serializer,g),_=o.getIndexManager(g),S=xp.wt(g,this.serializer,_,o.referenceDelegate);return new A2(s,S,v,_).recalculateAndSaveOverlaysForDocumentKeys(new J0(t,zn.ce),f).next()}))}))}}function ZS(n){n.createObjectStore(tu,{keyPath:j3}).createIndex(o_,z3,{unique:!0}),n.createObjectStore(eu,{keyPath:"targetId"}).createIndex(hR,L3,{unique:!0}),n.createObjectStore(mo)}const qs="IndexedDbPersistence",l0=18e5,u0=5e3,c0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_6="main";class A_{constructor(e,t,i,s,o,u,h,f,d,g,v=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Mi=o,this.window=u,this.document=h,this.xi=d,this.Oi=g,this.Ni=v,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=_=>Promise.resolve(),!A_.v())throw new ce(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new a6(this,s),this.$i=t+_6,this.serializer=new f2(f),this.Ui=new ra(this.$i,this.Ni,new v6(this.serializer)),this.hi=new Y5,this.Pi=new i6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=x2(this.serializer),this.Ii=new Q5,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&Pt(qs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(ne.FAILED_PRECONDITION,c0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new zn(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>qd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ya(e))return ue(qs,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(qs,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Fc(e).get(xl).next((t=>K.resolve(this.es(t))))}ts(e){return qd(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,l0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=tn(t,nu);return i.J().next((s=>{const o=this.ss(s,l0),u=s.filter((h=>o.indexOf(h)===-1));return K.forEach(u,(h=>i.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?K.resolve(!0):Fc(e).get(xl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,u0)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new ce(ne.FAILED_PRECONDITION,c0);return!1}}return!(!this.networkEnabled||!this.inForeground)||qd(e).J().next((i=>this.ss(i,u0).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(o||u&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ue(qs,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Kh,nu],(e=>{const t=new J0(e,zn.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((i=>this.rs(i.updateTimeMs,t)&&!this.us(i.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>qd(e).J().next((t=>this.ss(t,l0).map((i=>i.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return xp.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new n6(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Sp.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,i){ue(qs,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=(function(f){return f===18?n5:f===17?vR:f===16?t5:f===15?c_:f===14?yR:f===13?gR:f===12?e5:f===11?pR:void ye(60245)})(this.Ni);let u;return this.Ui.runTransaction(e,s,o,(h=>(u=new J0(h,this.ci?this.ci.next():zn.ce),t==="readwrite-primary"?this.Hi(u).next((f=>!!f||this.Yi(u))).next((f=>{if(!f)throw Pt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(ne.FAILED_PRECONDITION,sR);return i(u)})).next((f=>this.Xi(u).next((()=>f)))):this.Is(u).next((()=>i(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Is(e){return Fc(e).get(xl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,u0)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ce(ne.FAILED_PRECONDITION,c0)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fc(e).put(xl,t)}static v(){return ra.v()}Zi(e){const t=Fc(e);return t.get(xl).next((i=>this.es(i)?(ue(qs,"Releasing primary lease."),t.delete(xl)):K.resolve()))}rs(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(Pt(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;zI()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return ue(qs,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Pt(qs,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Pt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fc(n){return tn(n,Kh)}function qd(n){return tn(n,nu)}function I2(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class I_{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=s}static As(e,t){let i=ze(),s=ze();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new I_(e,t.fromCache,i,s)}}class b6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class R2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zI()?8:oR(en())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,s){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,s,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new b6;return this.Ss(e,t,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>o.result))}bs(e,t,i,s){return i.documentReadCount<this.fs?(kl()<=Ge.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Vl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(kl()<=Ge.DEBUG&&ue("QueryEngine","Query:",Vl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(kl()<=Ge.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Vl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(t))):K.resolve())}ys(e,t){if(ES(t))return K.resolve(null);let i=ti(t);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Om(t,null,"F"),i=ti(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=ze(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const d=this.Ds(t,h);return this.Cs(t,d,u,f.readTime)?this.ys(e,Om(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,i,s){return ES(t)||s.isEqual(xe.min())?K.resolve(null):this.ps.getDocuments(e,i).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,i,s)?K.resolve(null):(kl()<=Ge.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vl(t)),this.vs(e,u,t,iR(s,Zl)).next((h=>h)))}))}Ds(e,t){let i=new at(UR(e));return t.forEach(((s,o)=>{Qh(e,o)&&(i=i.add(o))})),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,i){return kl()<=Ge.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Vl(t)),this.ps.getDocumentsMatchingQuery(e,t,ni.min(),i)}vs(e,t,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const R_="LocalStore",T6=3e8;class E6{constructor(e,t,i,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new mt(ke),this.xs=new ss((o=>xo(o)),$h),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function C2(n,e,t,i){return new E6(n,e,t,i)}async function D2(n,e){const t=_e(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let f=ze();for(const d of s){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:h})))}))}))}function w6(n,e){const t=_e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,g){const v=d.batch,_=v.keys();let S=K.resolve();return _.forEach((C=>{S=S.next((()=>g.getEntry(f,C))).next((V=>{const M=d.docVersions.get(C);Te(M!==null,48541),V.version.compareTo(M)<0&&(v.applyToRemoteDocument(V,d),V.isValidDocument()&&(V.setReadTime(d.commitVersion),g.addEntry(V)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=ze();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,s)))}))}function N2(n){const e=_e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function S6(n,e){const t=_e(n),i=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const h=[];e.targetChanges.forEach(((g,v)=>{const _=s.get(v);if(!_)return;h.push(t.Pi.removeMatchingKeys(o,g.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(o,g.addedDocuments,v))));let S=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Lt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,i)),s=s.insert(v,S),(function(V,M,z){return V.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=T6?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(_,S,g)&&h.push(t.Pi.updateTargetData(o,S))}));let f=ei(),d=ze();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(x6(o,u,e.documentUpdates).next((g=>{f=g.ks,d=g.qs}))),!i.isEqual(xe.min())){const g=t.Pi.getLastRemoteSnapshotVersion(o).next((v=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(g)}return K.waitFor(h).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.Ms=s,o)))}function x6(n,e,t){let i=ze(),s=ze();return t.forEach((o=>i=i.add(o))),e.getEntries(n,i).next((o=>{let u=ei();return t.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(xe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ue(R_,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:s}}))}function A6(n,e){const t=_e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=fo),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function qm(n,e){const t=_e(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return t.Pi.getTargetData(i,e).next((o=>o?(s=o,K.resolve(s)):t.Pi.allocateTargetId(i).next((u=>(s=new Gr(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=t.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function cu(n,e,t){const i=_e(n),s=i.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!ya(u))throw u;ue(R_,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function dv(n,e,t){const i=_e(n);let s=xe.min(),o=ze();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const v=_e(f),_=v.xs.get(g);return _!==void 0?K.resolve(v.Ms.get(_)):v.Pi.getTargetData(d,g)})(i,u,ti(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?s:xe.min(),t?o:ze()))).next((h=>(M2(i,zR(e),h),{documents:h,Qs:o})))))}function k2(n,e){const t=_e(n),i=_e(t.Pi),s=t.Ms.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(o=>i.At(o,e).next((u=>u?u.target:null))))}function V2(n,e){const t=_e(n),i=t.Os.get(e)||xe.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.Ns.getAllFromCollectionGroup(s,e,iR(i,Zl),Number.MAX_SAFE_INTEGER))).then((s=>(M2(t,e,s),s)))}function M2(n,e,t){let i=n.Os.get(e)||xe.min();t.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(e,i)}const P2="firestore_clients";function JS(n,e){return`${P2}_${n}_${e}`}const O2="firestore_mutations";function ex(n,e,t){let i=`${O2}_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}const L2="firestore_targets";function h0(n,e){return`${L2}_${n}_${e}`}const cr="SharedClientState";class Hm{constructor(e,t,i,s){this.user=e,this.batchId=t,this.state=i,this.error=s}static Ws(e,t,i){const s=JSON.parse(i);let o,u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(o=new ce(s.error.code,s.error.message))),u?new Hm(e,t,s.state,o):(Pt(cr,`Failed to parse mutation state for ID '${t}': ${i}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lh{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ws(e,t){const i=JSON.parse(t);let s,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new ce(i.error.code,i.error.message))),o?new lh(e,i.state,s):(Pt(cr,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const i=JSON.parse(t);let s=typeof i=="object"&&i.activeTargetIds instanceof Array,o=p_();for(let u=0;s&&u<i.activeTargetIds.length;++u)s=lR(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return s?new Gm(e,o):(Pt(cr,`Failed to parse client data for instance '${e}': ${t}`),null)}}class C_{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new C_(t.clientId,t.onlineState):(Pt(cr,`Failed to parse online state: ${e}`),null)}}class mv{constructor(){this.activeTargetIds=p_()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f0{constructor(e,t,i,s,o){this.window=e,this.Mi=t,this.persistenceKey=i,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new mt(ke),this.started=!1,this.Xs=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.eo=JS(this.persistenceKey,this.Js),this.no=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new mv),this.ro=new RegExp(`^${P2}_${u}_([^_]*)$`),this.io=new RegExp(`^${O2}_${u}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${L2}_${u}_(\\d+)$`),this.oo=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this._o=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const i of e){if(i===this.Js)continue;const s=this.getItem(JS(this.persistenceKey,i));if(s){const o=Gm.Ws(i,s);o&&(this.Zs=this.Zs.insert(o.clientId,o))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const i=this.uo(t);i&&this.co(i)}for(const i of this.Xs)this.Ys(i);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((i,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,i){this.ho(e,t,i),this.Po(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(h0(this.persistenceKey,e));if(s){const o=lh.Ws(e,s);o&&(i=o.state)}}return t&&this.To.zs(e),this.ao(),i}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(h0(this.persistenceKey,e))}updateQueryState(e,t,i){this.Io(e,t,i)}handleUserChange(e,t,i){t.forEach((s=>{this.Po(s)})),this.currentUser=e,i.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(cr,"READ",e,t),t}setItem(e,t){ue(cr,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(cr,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(ue(cr,"EVENT",t.key,t.newValue),t.key===this.eo)return void Pt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const i=this.Ro(t.key);return this.Vo(i,null)}{const i=this.mo(t.key,t.newValue);if(i)return this.Vo(i.clientId,i)}}else if(this.io.test(t.key)){if(t.newValue!==null){const i=this.fo(t.key,t.newValue);if(i)return this.po(i)}}else if(this.so.test(t.key)){if(t.newValue!==null){const i=this.yo(t.key,t.newValue);if(i)return this.wo(i)}}else if(t.key===this.oo){if(t.newValue!==null){const i=this.uo(t.newValue);if(i)return this.co(i)}}else if(t.key===this.no){const i=(function(o){let u=zn.ce;if(o!=null)try{const h=JSON.parse(o);Te(typeof h=="number",30636,{So:o}),u=h}catch(h){Pt(cr,"Failed to read sequence number from WebStorage",h)}return u})(t.newValue);i!==zn.ce&&this.sequenceNumberHandler(i)}else if(t.key===this._o){const i=this.bo(t.newValue);await Promise.all(i.map((s=>this.syncEngine.Do(s))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,i){const s=new Hm(this.currentUser,e,t,i),o=ex(this.persistenceKey,this.currentUser,e);this.setItem(o,s.Gs())}Po(e){const t=ex(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,i){const s=h0(this.persistenceKey,e),o=new lh(e,t,i);this.setItem(s,o.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const i=this.Ro(e);return Gm.Ws(i,t)}fo(e,t){const i=this.io.exec(e),s=Number(i[1]),o=i[2]!==void 0?i[2]:null;return Hm.Ws(new vn(o),s,t)}yo(e,t){const i=this.so.exec(e),s=Number(i[1]);return lh.Ws(s,t)}uo(e){return C_.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ue(cr,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const i=t?this.Zs.insert(e,t):this.Zs.remove(e),s=this.lo(this.Zs),o=this.lo(i),u=[],h=[];return o.forEach((f=>{s.has(f)||u.push(f)})),s.forEach((f=>{o.has(f)||h.push(f)})),this.syncEngine.Fo(u,h).then((()=>{this.Zs=i}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=p_();return e.forEach(((i,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class j2{constructor(){this.Mo=new mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class I6{Oo(e){}shutdown(){}}const tx="ConnectivityMonitor";class nx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(tx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(tx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hd=null;function pv(){return Hd===null?Hd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hd++,"0x"+Hd.toString(16)}const d0="RestConnection",R6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Vm?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,t,i,s,o){const u=pv(),h=this.zo(e,t.toUriEncodedString());ue(d0,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,o);const{host:d}=new URL(h),g=_u(d);return this.Jo(e,h,f,i,g).then((v=>(ue(d0,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw vh(d0,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(e,t,i,s,o,u){return this.Go(e,t,i,s,o)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),i&&i.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const i=R6[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class D6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yn="WebChannelConnection";class N6 extends C6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,o){const u=pv();return new Promise(((h,f)=>{const d=new QI;d.setWithCredentials(!0),d.listenOnce(YI.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case nm.NO_ERROR:const v=d.getResponseJson();ue(yn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case nm.TIMEOUT:ue(yn,`RPC '${e}' ${u} timed out`),f(new ce(ne.DEADLINE_EXCEEDED,"Request time out"));break;case nm.HTTP_ERROR:const _=d.getStatus();if(ue(yn,`RPC '${e}' ${u} failed with status:`,_,"response text:",d.getResponseText()),_>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S?.error;if(C&&C.status&&C.message){const V=(function(z){const q=z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(q)>=0?q:ne.UNKNOWN})(C.status);f(new ce(V,C.message))}else f(new ce(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ce(ne.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ue(yn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);ue(yn,`RPC '${e}' ${u} sending request:`,s),d.send(t,"POST",g,i,15)}))}T_(e,t,i){const s=pv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ZI(),h=WI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const g=o.join("");ue(yn,`Creating RPC '${e}' stream ${s}: ${g}`,f);const v=u.createWebChannel(g,f);this.I_(v);let _=!1,S=!1;const C=new D6({Yo:M=>{S?ue(yn,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(_||(ue(yn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),ue(yn,`RPC '${e}' stream ${s} sending:`,M),v.send(M))},Zo:()=>v.close()}),V=(M,z,q)=>{M.listen(z,(L=>{try{q(L)}catch(J){setTimeout((()=>{throw J}),0)}}))};return V(v,$c.EventType.OPEN,(()=>{S||(ue(yn,`RPC '${e}' stream ${s} transport opened.`),C.o_())})),V(v,$c.EventType.CLOSE,(()=>{S||(S=!0,ue(yn,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(v))})),V(v,$c.EventType.ERROR,(M=>{S||(S=!0,vh(yn,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),C.a_(new ce(ne.UNAVAILABLE,"The operation could not be completed")))})),V(v,$c.EventType.MESSAGE,(M=>{if(!S){const z=M.data[0];Te(!!z,16349);const q=z,L=q?.error||q[0]?.error;if(L){ue(yn,`RPC '${e}' stream ${s} received error:`,L);const J=L.status;let ee=(function(A){const D=$t[A];if(D!==void 0)return ZR(D)})(J),re=L.message;ee===void 0&&(ee=ne.INTERNAL,re="Unknown error status: "+J+" with message "+L.message),S=!0,C.a_(new ce(ee,re)),v.close()}else ue(yn,`RPC '${e}' stream ${s} received:`,z),C.u_(z)}})),V(h,XI.STAT_EVENT,(M=>{M.stat===$0.PROXY?ue(yn,`RPC '${e}' stream ${s} detected buffering proxy`):M.stat===$0.NOPROXY&&ue(yn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function z2(){return typeof window<"u"?window:null}function fm(){return typeof document<"u"?document:null}function Ip(n){return new L5(n,!0)}class U2{constructor(e,t,i=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-i);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ix="PersistentStream";class B2{constructor(e,t,i,s,o,u,h,f){this.Mi=e,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new U2(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Pt(t.toString()),Pt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===t&&this.G_(i,s)}),(i=>{e((()=>{const s=new ce(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(ix,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(ix,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class k6 extends B2{constructor(e,t,i,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=U5(this.serializer,e),i=(function(o){if(!("targetChange"in o))return xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?Dn(u.readTime):xe.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=lv(this.serializer),t.addTarget=(function(o,u){let h;const f=u.target;if(h=Mm(f)?{documents:a2(o,f)}:{query:o2(o,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=t2(o,u.resumeToken);const d=av(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(xe.min())>0){h.readTime=uu(o,u.snapshotVersion.toTimestamp());const d=av(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,e);const i=F5(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=lv(this.serializer),t.removeTarget=e,this.q_(t)}}class V6 extends B2{constructor(e,t,i,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=B5(e.writeResults,e.commitTime),i=Dn(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=lv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>jm(this.serializer,i)))};this.q_(t)}}class M6{}class P6 extends M6{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,ov(t,i),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(ne.UNKNOWN,o.toString())}))}Ho(e,t,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,ov(t,i),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class O6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pt(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Co="RemoteStore";class L6{constructor(e,t,i,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Mo(this)&&(ue(Co,"Restarting streams for network reachability change."),await(async function(f){const d=_e(f);d.Ea.add(4),await Wh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Rp(d)})(this))}))})),this.Ra=new O6(i,s)}}async function Rp(n){if(Mo(n))for(const e of n.da)await e(!0)}async function Wh(n){for(const e of n.da)await e(!1)}function Cp(n,e){const t=_e(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),k_(t)?N_(t):xu(t).O_()&&D_(t,e))}function hu(n,e){const t=_e(n),i=xu(t);t.Ia.delete(e),i.O_()&&F2(t,e),t.Ia.size===0&&(i.O_()?i.L_():Mo(t)&&t.Ra.set("Unknown"))}function D_(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xu(n).Y_(e)}function F2(n,e){n.Va.Ue(e),xu(n).Z_(e)}function N_(n){n.Va=new V5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),xu(n).start(),n.Ra.ua()}function k_(n){return Mo(n)&&!xu(n).x_()&&n.Ia.size>0}function Mo(n){return _e(n).Ea.size===0}function q2(n){n.Va=void 0}async function j6(n){n.Ra.set("Online")}async function z6(n){n.Ia.forEach(((e,t)=>{D_(n,e)}))}async function U6(n,e){q2(n),k_(n)?(n.Ra.ha(e),N_(n)):n.Ra.set("Unknown")}async function B6(n,e,t){if(n.Ra.set("Online"),e instanceof e2&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))})(n,e)}catch(i){ue(Co,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Km(n,i)}else if(e instanceof cm?n.Va.Ze(e):e instanceof JR?n.Va.st(e):n.Va.tt(e),!t.isEqual(xe.min()))try{const i=await N2(n.localStore);t.compareTo(i)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(Lt.EMPTY_BYTE_STRING,g.snapshotVersion)),F2(o,f);const v=new Gr(g.target,f,d,g.sequenceNumber);D_(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){ue(Co,"Failed to raise snapshot:",i),await Km(n,i)}}async function Km(n,e,t){if(!ya(e))throw e;n.Ea.add(1),await Wh(n),n.Ra.set("Offline"),t||(t=()=>N2(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(Co,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Rp(n)}))}function H2(n,e){return e().catch((t=>Km(n,t,e)))}async function Su(n){const e=_e(n),t=ua(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fo;for(;F6(e);)try{const s=await A6(e.localStore,i);if(s===null){e.Ta.length===0&&t.L_();break}i=s.batchId,q6(e,s)}catch(s){await Km(e,s)}G2(e)&&K2(e)}function F6(n){return Mo(n)&&n.Ta.length<10}function q6(n,e){n.Ta.push(e);const t=ua(n);t.O_()&&t.X_&&t.ea(e.mutations)}function G2(n){return Mo(n)&&!ua(n).x_()&&n.Ta.length>0}function K2(n){ua(n).start()}async function H6(n){ua(n).ra()}async function G6(n){const e=ua(n);for(const t of n.Ta)e.ea(t.mutations)}async function K6(n,e,t){const i=n.Ta.shift(),s=v_.from(i,e,t);await H2(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Su(n)}async function $6(n,e){e&&ua(n).X_&&await(async function(i,s){if((function(u){return D5(u)&&u!==ne.ABORTED})(s.code)){const o=i.Ta.shift();ua(i).B_(),await H2(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Su(i)}})(n,e),G2(n)&&K2(n)}async function rx(n,e){const t=_e(n);t.asyncQueue.verifyOperationInProgress(),ue(Co,"RemoteStore received new credentials");const i=Mo(t);t.Ea.add(3),await Wh(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Rp(t)}async function gv(n,e){const t=_e(n);e?(t.Ea.delete(2),await Rp(t)):e||(t.Ea.add(2),await Wh(t),t.Ra.set("Unknown"))}function xu(n){return n.ma||(n.ma=(function(t,i,s){const o=_e(t);return o.sa(),new k6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:j6.bind(null,n),t_:z6.bind(null,n),r_:U6.bind(null,n),H_:B6.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),k_(n)?N_(n):n.Ra.set("Unknown")):(await n.ma.stop(),q2(n))}))),n.ma}function ua(n){return n.fa||(n.fa=(function(t,i,s){const o=_e(t);return o.sa(),new V6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:H6.bind(null,n),r_:$6.bind(null,n),ta:G6.bind(null,n),na:K6.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Su(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(Co,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class V_{constructor(e,t,i,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,o){const u=Date.now()+i,h=new V_(e,t,u,s,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M_(n,e){if(Pt("AsyncQueue",`${e}: ${n}`),ya(n))return new ce(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class Hl{static emptySet(e){return new Hl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||me.comparator(t.key,i.key):(t,i)=>me.comparator(t.key,i.key),this.keyedMap=Qc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Hl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class sx{constructor(){this.ga=new mt(me.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class fu{constructor(e,t,i,s,o,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,s,o){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new fu(e,t,Hl.emptySet(t),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}class Q6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Y6{constructor(){this.queries=ax(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=_e(t),o=s.queries;s.queries=ax(),o.forEach(((u,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new ce(ne.ABORTED,"Firestore shutting down"))}}function ax(){return new ss((n=>jR(n)),bp)}async function $2(n,e){const t=_e(n);let i=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(i=2):(o=new Q6,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=M_(u,`Initialization of query '${Vl(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&P_(t)}async function Q2(n,e){const t=_e(n),i=e.query;let s=3;const o=t.queries.get(i);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function X6(n,e){const t=_e(n);let i=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const h of u.Sa)h.Fa(s)&&(i=!0);u.wa=s}}i&&P_(t)}function W6(n,e,t){const i=_e(n),s=i.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);i.queries.delete(e)}function P_(n){n.Ca.forEach((e=>{e.next()}))}var yv,ox;(ox=yv||(yv={})).Ma="default",ox.Cache="cache";class Y2{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new fu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=fu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yv.Cache}}class X2{constructor(e){this.key=e}}class W2{constructor(e){this.key=e}}class Z6{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=UR(e),this.tu=new Hl(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new sx,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const _=s.get(g),S=Qh(this.query,v)?v:null,C=!!_&&this.mutatedKeys.has(_.key),V=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;_&&S?_.data.isEqual(S.data)?C!==V&&(i.track({type:3,doc:S}),M=!0):this.su(_,S)||(i.track({type:2,doc:S}),M=!0,(f&&this.eu(S,f)>0||d&&this.eu(S,d)<0)&&(h=!0)):!_&&S?(i.track({type:0,doc:S}),M=!0):_&&!S&&(i.track({type:1,doc:_}),M=!0,(f||d)&&(h=!0)),M&&(S?(u=u.add(S),o=V?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,v)=>(function(S,C){const V=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:M})}};return V(S)-V(C)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(i),s=s??!1;const h=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new fu(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new W2(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new X2(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return fu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Au="SyncEngine";class J6{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class e9{constructor(e){this.key=e,this.hu=!1}}class t9{constructor(e,t,i,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ss((h=>jR(h)),bp),this.Iu=new Map,this.Eu=new Set,this.du=new mt(me.comparator),this.Au=new Map,this.Ru=new S_,this.Vu={},this.mu=new Map,this.fu=Ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n9(n,e,t=!0){const i=Dp(n);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await Z2(i,e,t,!0),s}async function i9(n,e){const t=Dp(n);await Z2(t,e,!0,!1)}async function Z2(n,e,t,i){const s=await qm(n.localStore,ti(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return i&&(h=await O_(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&Cp(n.remoteStore,s),h}async function O_(n,e,t,i,s){n.pu=(v,_,S)=>(async function(V,M,z,q){let L=M.view.ru(z);L.Cs&&(L=await dv(V.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,L))));const J=q&&q.targetChanges.get(M.targetId),ee=q&&q.targetMismatches.get(M.targetId)!=null,re=M.view.applyChanges(L,V.isPrimaryClient,J,ee);return vv(V,M.targetId,re.au),re.snapshot})(n,v,_,S);const o=await dv(n.localStore,e,!0),u=new Z6(e,o.Qs),h=u.ru(o.documents),f=Xh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),d=u.applyChanges(h,n.isPrimaryClient,f);vv(n,t,d.au);const g=new J6(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function r9(n,e,t){const i=_e(n),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter((u=>!bp(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await cu(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),t&&hu(i.remoteStore,s.targetId),du(i,s.targetId)})).catch(ga)):(du(i,s.targetId),await cu(i.localStore,s.targetId,!0))}async function s9(n,e){const t=_e(n),i=t.Tu.get(e),s=t.Iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),hu(t.remoteStore,i.targetId))}async function a9(n,e,t){const i=U_(n);try{const s=await(function(u,h){const f=_e(u),d=tt.now(),g=h.reduce(((S,C)=>S.add(C.key)),ze());let v,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let C=ei(),V=ze();return f.Ns.getEntries(S,g).next((M=>{C=M,C.forEach(((z,q)=>{q.isValidDocument()||(V=V.add(z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,C))).next((M=>{v=M;const z=[];for(const q of h){const L=R5(q,v.get(q.key).overlayedDocument);L!=null&&z.push(new as(q.key,L,RR(L.value.mapValue),Tn.exists(!0)))}return f.mutationQueue.addMutationBatch(S,d,z,h)})).next((M=>{_=M;const z=M.applyToLocalDocumentSet(v,V);return f.documentOverlayCache.saveOverlays(S,M.batchId,z)}))})).then((()=>({batchId:_.batchId,changes:FR(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(u,h,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new mt(ke)),d=d.insert(h,f),u.Vu[u.currentUser.toKey()]=d})(i,s.batchId,t),await _a(i,s.changes),await Su(i.remoteStore)}catch(s){const o=M_(s,"Failed to persist write");t.reject(o)}}async function J2(n,e){const t=_e(n);try{const i=await S6(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Te(u.hu,14607):s.removedDocuments.size>0&&(Te(u.hu,42227),u.hu=!1))})),await _a(t,i,e)}catch(i){await ga(i)}}function lx(n,e,t){const i=_e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const f=_e(u);f.onlineState=h;let d=!1;f.queries.forEach(((g,v)=>{for(const _ of v.Sa)_.va(h)&&(d=!0)})),d&&P_(f)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function o9(n,e,t){const i=_e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Au.get(e),o=s&&s.key;if(o){let u=new mt(me.comparator);u=u.insert(o,Rt.newNoDocument(o,xe.min()));const h=ze().add(o),f=new Yh(xe.min(),new Map,new mt(ke),u,h);await J2(i,f),i.du=i.du.remove(o),i.Au.delete(e),z_(i)}else await cu(i.localStore,e,!1).then((()=>du(i,e,t))).catch(ga)}async function l9(n,e){const t=_e(n),i=e.batch.batchId;try{const s=await w6(t.localStore,e);j_(t,i,null),L_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await _a(t,s)}catch(s){await ga(s)}}async function u9(n,e,t){const i=_e(n);try{const s=await(function(u,h){const f=_e(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next((v=>(Te(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(d,v)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(i.localStore,e);j_(i,e,t),L_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await _a(i,s)}catch(s){await ga(s)}}function L_(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function j_(n,e,t){const i=_e(n);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function du(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||eC(n,i)}))}function eC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(hu(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),z_(n))}function vv(n,e,t){for(const i of t)i instanceof X2?(n.Ru.addReference(i.key,e),c9(n,i)):i instanceof W2?(ue(Au,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||eC(n,i.key)):ye(19791,{wu:i})}function c9(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ue(Au,"New document in limbo: "+t),n.Eu.add(i),z_(n))}function z_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new me(et.fromString(e)),i=n.fu.next();n.Au.set(i,new e9(t)),n.du=n.du.insert(t,i),Cp(n.remoteStore,new Gr(ti(_p(t.path)),i,"TargetPurposeLimboResolution",zn.ce))}}async function _a(n,e,t){const i=_e(n),s=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{u.push(i.pu(f,e,t).then((d=>{if((d||t)&&i.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){s.push(d);const g=I_.As(f.targetId,d);o.push(g)}})))})),await Promise.all(u),i.Pu.H_(s),await(async function(f,d){const g=_e(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>K.forEach(d,(_=>K.forEach(_.Es,(S=>g.persistence.referenceDelegate.addReference(v,_.targetId,S))).next((()=>K.forEach(_.ds,(S=>g.persistence.referenceDelegate.removeReference(v,_.targetId,S)))))))))}catch(v){if(!ya(v))throw v;ue(R_,"Failed to update sequence numbers: "+v)}for(const v of d){const _=v.targetId;if(!v.fromCache){const S=g.Ms.get(_),C=S.snapshotVersion,V=S.withLastLimboFreeSnapshotVersion(C);g.Ms=g.Ms.insert(_,V)}}})(i.localStore,o))}async function h9(n,e){const t=_e(n);if(!t.currentUser.isEqual(e)){ue(Au,"User change. New user:",e.toKey());const i=await D2(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new ce(ne.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await _a(t,i.Ls)}}function f9(n,e){const t=_e(n),i=t.Au.get(e);if(i&&i.hu)return ze().add(i.key);{let s=ze();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const h=t.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}async function d9(n,e){const t=_e(n),i=await dv(t.localStore,e.query,!0),s=e.view.cu(i);return t.isPrimaryClient&&vv(t,e.targetId,s.au),s}async function m9(n,e){const t=_e(n);return V2(t.localStore,e).then((i=>_a(t,i)))}async function p9(n,e,t,i){const s=_e(n),o=await(function(h,f){const d=_e(h),g=_e(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(v=>g.er(v,f).next((_=>_?d.localDocuments.getDocuments(v,_):K.resolve(null)))))})(s.localStore,e);o!==null?(t==="pending"?await Su(s.remoteStore):t==="acknowledged"||t==="rejected"?(j_(s,e,i||null),L_(s,e),(function(h,f){_e(_e(h).mutationQueue).ir(f)})(s.localStore,e)):ye(6720,"Unknown batchState",{Su:t}),await _a(s,o)):ue(Au,"Cannot apply mutation batch with id: "+e)}async function g9(n,e){const t=_e(n);if(Dp(t),U_(t),e===!0&&t.gu!==!0){const i=t.sharedClientState.getAllActiveQueryTargets(),s=await ux(t,i.toArray());t.gu=!0,await gv(t.remoteStore,!0);for(const o of s)Cp(t.remoteStore,o)}else if(e===!1&&t.gu!==!1){const i=[];let s=Promise.resolve();t.Iu.forEach(((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):s=s.then((()=>(du(t,u),cu(t.localStore,u,!0)))),hu(t.remoteStore,u)})),await s,await ux(t,i),(function(u){const h=_e(u);h.Au.forEach(((f,d)=>{hu(h.remoteStore,d)})),h.Ru.Jr(),h.Au=new Map,h.du=new mt(me.comparator)})(t),t.gu=!1,await gv(t.remoteStore,!1)}}async function ux(n,e,t){const i=_e(n),s=[],o=[];for(const u of e){let h;const f=i.Iu.get(u);if(f&&f.length!==0){h=await qm(i.localStore,ti(f[0]));for(const d of f){const g=i.Tu.get(d),v=await d9(i,g);v.snapshot&&o.push(v.snapshot)}}else{const d=await k2(i.localStore,u);h=await qm(i.localStore,d),await O_(i,tC(d),u,!1,h.resumeToken)}s.push(h)}return i.Pu.H_(o),s}function tC(n){return OR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function y9(n){return(function(t){return _e(_e(t).persistence).Ts()})(_e(n).localStore)}async function v9(n,e,t,i){const s=_e(n);if(s.gu)return void ue(Au,"Ignoring unexpected query state notification.");const o=s.Iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await V2(s.localStore,zR(o[0])),h=Yh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Lt.EMPTY_BYTE_STRING);await _a(s,u,h);break}case"rejected":await cu(s.localStore,e,!0),du(s,e,i);break;default:ye(64155,t)}}async function _9(n,e,t){const i=Dp(n);if(i.gu){for(const s of e){if(i.Iu.has(s)&&i.sharedClientState.isActiveQueryTarget(s)){ue(Au,"Adding an already active target "+s);continue}const o=await k2(i.localStore,s),u=await qm(i.localStore,o);await O_(i,tC(o),u.targetId,!1,u.resumeToken),Cp(i.remoteStore,u)}for(const s of t)i.Iu.has(s)&&await cu(i.localStore,s,!1).then((()=>{hu(i.remoteStore,s),du(i,s)})).catch(ga)}}function Dp(n){const e=_e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=J2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o9.bind(null,e),e.Pu.H_=X6.bind(null,e.eventManager),e.Pu.yu=W6.bind(null,e.eventManager),e}function U_(n){const e=_e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u9.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ip(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return C2(this.persistence,new R2,e.initialUser,this.serializer)}Cu(e){return new x_(Ap.mi,this.serializer)}Du(e){return new j2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class b9 extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Te(this.persistence.referenceDelegate instanceof Fm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new E2(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new x_((i=>Fm.mi(i,t)),this.serializer)}}class nC extends Nh{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await U_(this.xu.syncEngine),await Su(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return C2(this.persistence,new R2,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new E2(i,e.asyncQueue,t)}Mu(e,t){const i=new D3(t,this.persistence);return new C3(e.asyncQueue,i)}Cu(e){const t=I2(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new A_(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,z2(),fm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new j2}}class T9 extends nC{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof f0&&(this.sharedClientState.syncEngine={Co:p9.bind(null,t),vo:v9.bind(null,t),Fo:_9.bind(null,t),Ts:y9.bind(null,t),Do:m9.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async i=>{await g9(this.xu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))}Du(e){const t=z2();if(!f0.v(t))throw new ce(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=I2(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new f0(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class kh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=h9.bind(null,this.syncEngine),await gv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Y6})()}createDatastore(e){const t=Ip(e.databaseInfo.databaseId),i=(function(o){return new N6(o)})(e.databaseInfo);return(function(o,u,h,f){return new P6(o,u,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,s,o,u,h){return new L6(i,s,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>lx(this.syncEngine,t,0)),(function(){return nx.v()?new nx:new I6})())}createSyncEngine(e,t){return(function(s,o,u,h,f,d,g){const v=new t9(s,o,u,h,f,d);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=_e(t);ue(Co,"RemoteStore shutting down."),i.Ea.add(5),await Wh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kh.provider={build:()=>new kh};class iC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ca="FirestoreClient";class E9{constructor(e,t,i,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=vn.UNAUTHENTICATED,this.clientId=r_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{ue(ca,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ue(ca,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=M_(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function m0(n,e){n.asyncQueue.verifyOperationInProgress(),ue(ca,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async s=>{i.isEqual(s)||(await D2(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function cx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await w9(n);ue(ca,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>rx(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,s)=>rx(e.remoteStore,s))),n._onlineComponents=e}async function w9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(ca,"Using user provided OfflineComponentProvider");try{await m0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;vh("Error using user provided cache. Falling back to memory cache: "+t),await m0(n,new Nh)}}else ue(ca,"Using default OfflineComponentProvider"),await m0(n,new b9(void 0));return n._offlineComponents}async function rC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(ca,"Using user provided OnlineComponentProvider"),await cx(n,n._uninitializedComponentsProvider._online)):(ue(ca,"Using default OnlineComponentProvider"),await cx(n,new kh))),n._onlineComponents}function S9(n){return rC(n).then((e=>e.syncEngine))}async function _v(n){const e=await rC(n),t=e.eventManager;return t.onListen=n9.bind(null,e.syncEngine),t.onUnlisten=r9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=i9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=s9.bind(null,e.syncEngine),t}function x9(n,e,t={}){const i=new Yr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,d){const g=new iC({next:_=>{g.Nu(),u.enqueueAndForget((()=>Q2(o,v))),_.fromCache&&f.source==="server"?d.reject(new ce(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),v=new Y2(h,g,{includeMetadataChanges:!0,qa:!0});return $2(o,v)})(await _v(n),n.asyncQueue,e,t,i))),i.promise}function sC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const hx=new Map;const A9="firestore.googleapis.com",fx=!0;class dx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A9,this.ssl=fx}else this.host=e.host,this.ssl=e.ssl??fx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T2)throw new ce(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class B_{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new y3;switch(i.type){case"firstParty":return new b3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=hx.get(t);i&&(ue("ComponentProvider","Removing Datastore"),hx.delete(t),i.terminate())})(this),Promise.resolve()}}class os{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class Ot{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Gh(t,Ot._jsonSchema))return new Ot(e,i||null,new me(et.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Yt("string",Ot._jsonSchemaVersion),referencePath:Yt("string")};class sa extends os{constructor(e,t,i){super(e,t,_p(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new me(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function Np(n,e,...t){if(n=xn(n),tR("collection","path",e),n instanceof B_){const i=et.fromString(e,...t);return iS(i),new sa(n,null,i)}{if(!(n instanceof Ot||n instanceof sa))throw new ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return iS(i),new sa(n.firestore,null,i)}}function bi(n,e,...t){if(n=xn(n),arguments.length===1&&(e=r_.newId()),tR("doc","path",e),n instanceof B_){const i=et.fromString(e,...t);return nS(i),new Ot(n,null,new me(i))}{if(!(n instanceof Ot||n instanceof sa))throw new ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return nS(i),new Ot(n.firestore,n instanceof sa?n.converter:null,new me(i))}}const mx="AsyncQueue";class px{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new U2(this,"async_queue_retry"),this._c=()=>{const i=fm();i&&ue(mx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=fm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=fm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ya(e))throw e;ue(mx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Pt("INTERNAL UNHANDLED ERROR: ",gx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=V_.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&ye(47125,{Pc:gx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function gx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function yx(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class ha extends B_{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new px,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new px(e),this._firestoreClient=void 0,await e}}}function I9(n,e,t){t||(t=Vm);const i=n_(n,"firestore");if(i.isInitialized(t)){const s=i.getImmediate({identifier:t}),o=i.getOptions(t);if(To(o,e))return s;throw new ce(ne.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ce(ne.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T2)throw new ce(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&_u(e.host)&&LI(e.host),i.initialize({options:e,instanceIdentifier:t})}function F_(n){if(n._terminated)throw new ce(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||R9(n),n._firestoreClient}function R9(n){const e=n._freezeSettings(),t=(function(s,o,u,h){return new r5(s,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new E9(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(Lt.fromBase64String(e))}catch(t){throw new ce(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vi(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gh(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:Yt("string",vi._jsonSchemaVersion),bytes:Yt("string")};class kp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class q_{constructor(e){this._methodName=e}}class pr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(Gh(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:Yt("string",pr._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class gr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gh(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new gr(e.vectorValues);throw new ce(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:Yt("string",gr._jsonSchemaVersion),vectorValues:Yt("object")};const C9=/^__.*__$/;class D9{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}class aC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new as(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:n})}}class H_{constructor(e,t,i,s,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new H_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $m(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oC(this.Ac)&&C9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N9{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ip(e)}Cc(e,t,i,s=!1){return new H_({Ac:e,methodName:t,Dc:i,path:Et.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vp(n){const e=n._freezeSettings(),t=Ip(n._databaseId);return new N9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lC(n,e,t,i,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);G_("Data must be an object, but it was:",u,i);const h=uC(i,u);let f,d;if(o.merge)f=new Un(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const _=bv(e,v,t);if(!u.contains(_))throw new ce(ne.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);hC(g,_)||g.push(_)}f=new Un(g),d=u.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,d=u.fieldTransforms;return new D9(new bn(h),f,d)}class Mp extends q_{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mp}}function k9(n,e,t,i){const s=n.Cc(1,e,t);G_("Data must be an object, but it was:",s,i);const o=[],u=bn.empty();va(i,((f,d)=>{const g=K_(e,f,t);d=xn(d);const v=s.yc(g);if(d instanceof Mp)o.push(g);else{const _=Zh(d,v);_!=null&&(o.push(g),u.set(g,_))}}));const h=new Un(o);return new aC(u,h,s.fieldTransforms)}function V9(n,e,t,i,s,o){const u=n.Cc(1,e,t),h=[bv(e,i,t)],f=[s];if(o.length%2!=0)throw new ce(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)h.push(bv(e,o[_])),f.push(o[_+1]);const d=[],g=bn.empty();for(let _=h.length-1;_>=0;--_)if(!hC(d,h[_])){const S=h[_];let C=f[_];C=xn(C);const V=u.yc(S);if(C instanceof Mp)d.push(S);else{const M=Zh(C,V);M!=null&&(d.push(S),g.set(S,M))}}const v=new Un(d);return new aC(g,v,u.fieldTransforms)}function M9(n,e,t,i=!1){return Zh(t,n.Cc(i?4:3,e))}function Zh(n,e){if(cC(n=xn(n)))return G_("Unsupported field value:",e,n),uC(n,e);if(n instanceof q_)return(function(i,s){if(!oC(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const o=[];let u=0;for(const h of i){let f=Zh(h,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(i,s){if((i=xn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return T5(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=tt.fromDate(i);return{timestampValue:uu(s.serializer,o)}}if(i instanceof tt){const o=new tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:uu(s.serializer,o)}}if(i instanceof pr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vi)return{bytesValue:t2(s.serializer,i._byteString)};if(i instanceof Ot){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:T_(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof gr)return(function(u,h){return{mapValue:{fields:{[f_]:{stringValue:d_},[iu]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return g_(h.serializer,d)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${hp(i)}`)})(n,e)}function uC(n,e){const t={};return _R(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(n,((i,s)=>{const o=Zh(s,e.mc(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function cC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof pr||n instanceof vi||n instanceof Ot||n instanceof q_||n instanceof gr)}function G_(n,e,t){if(!cC(t)||!nR(t)){const i=hp(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function bv(n,e,t){if((e=xn(e))instanceof kp)return e._internalPath;if(typeof e=="string")return K_(n,e);throw $m("Field path arguments must be of type string or ",n,!1,void 0,t)}const P9=new RegExp("[~\\*/\\[\\]]");function K_(n,e,t){if(e.search(P9)>=0)throw $m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kp(...e.split("."))._internalPath}catch{throw $m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $m(n,e,t,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${s}`),f+=")"),new ce(ne.INVALID_ARGUMENT,h+n+f)}function hC(n,e){return n.some((t=>t.isEqual(e)))}class fC{constructor(e,t,i,s,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new O9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class O9 extends fC{data(){return super.data()}}function $_(n,e){return typeof e=="string"?K_(n,e):e instanceof kp?e._internalPath:e._delegate._internalPath}function dC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q_{}class Y_ extends Q_{}function fa(n,e,...t){let i=[];e instanceof Q_&&i.push(e),i=i.concat(t),(function(o){const u=o.filter((f=>f instanceof W_)).length,h=o.filter((f=>f instanceof X_)).length;if(u>1||u>0&&h>0)throw new ce(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)n=s._apply(n);return n}class X_ extends Y_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new X_(e,t,i)}_apply(e){const t=this._parse(e);return mC(e._query,t),new os(e.firestore,e.converter,sv(e._query,t))}_parse(e){const t=Vp(e.firestore);return(function(o,u,h,f,d,g,v){let _;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ce(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){bx(v,g);const C=[];for(const V of v)C.push(_x(f,o,V));_={arrayValue:{values:C}}}else _=_x(f,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||bx(v,g),_=M9(h,u,v,g==="in"||g==="not-in");return Ke.create(d,g,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class W_ extends Q_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new W_(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:st.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const f of h)mC(u,f),u=sv(u,f)})(e._query,t),new os(e.firestore,e.converter,sv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Z_ extends Y_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Z_(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new ce(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ce(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rh(o,u)})(e._query,this._field,this._direction);return new os(e.firestore,e.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new Eu(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function mu(n,e="asc"){const t=e,i=$_("orderBy",n);return Z_._create(i,t)}class J_ extends Y_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new J_(e,t,i)}_apply(e){return new os(e.firestore,e.converter,Om(e._query,this._limit,this._limitType))}}function vx(n){return J_._create("limit",n,"F")}function _x(n,e,t){if(typeof(t=xn(t))=="string"){if(t==="")throw new ce(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LR(e)&&t.indexOf("/")!==-1)throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(et.fromString(t));if(!me.isDocumentKey(i))throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ah(n,new me(i))}if(t instanceof Ot)return Ah(n,t._key);throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hp(t)}.`)}function bx(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mC(n,e){const t=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class L9{convertValue(e,t="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return va(e,((s,o)=>{i[s]=this.convertValue(o,t)})),i}convertVectorValue(e){const t=e.fields?.[iu].arrayValue?.values?.map((i=>bt(i.doubleValue)));return new gr(t)}convertGeoPoint(e){return new pr(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=yp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Sh(e));default:return null}}convertTimestamp(e){const t=Zr(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=et.fromString(e);Te(h2(i),9688,{name:e});const s=new So(i.get(1),i.get(3)),o=new me(i.popFirst(5));return s.isEqual(t)||Pt(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function pC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class go extends fC{constructor(e,t,i,s,o,u){super(e,t,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field($_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=go._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}go._jsonSchemaVersion="firestore/documentSnapshot/1.0",go._jsonSchema={type:Yt("string",go._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class dm extends go{data(e={}){return super.data(e)}}class yo{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Wc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new dm(this._firestore,this._userDataWriter,i.key,i,new Wc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const f=new dm(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Wc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new dm(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Wc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:j9(h.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=r_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:n})}}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:Yt("string",yo._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class eb extends L9{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function Pp(n){n=Ui(n,os);const e=Ui(n.firestore,ha),t=F_(e),i=new eb(e);return dC(n._query),x9(t,n._query).then((s=>new yo(e,i,n,s)))}function tb(n,e,t){n=Ui(n,Ot);const i=Ui(n.firestore,ha),s=pC(n.converter,e,t);return Up(i,[lC(Vp(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Tn.none())])}function Op(n,e,t,...i){n=Ui(n,Ot);const s=Ui(n.firestore,ha),o=Vp(s);let u;return u=typeof(e=xn(e))=="string"||e instanceof kp?V9(o,"updateDoc",n._key,e,t,i):k9(o,"updateDoc",n._key,e),Up(s,[u.toMutation(n._key,Tn.exists(!0))])}function Lp(n){return Up(Ui(n.firestore,ha),[new wp(n._key,Tn.none())])}function jp(n,e){const t=Ui(n.firestore,ha),i=bi(n),s=pC(n.converter,e);return Up(t,[lC(Vp(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Tn.exists(!1))]).then((()=>i))}function zp(n,...e){n=xn(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||yx(e[i])||(t=e[i++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(yx(e[i])){const f=e[i];e[i]=f.next?.bind(f),e[i+1]=f.error?.bind(f),e[i+2]=f.complete?.bind(f)}let o,u,h;if(n instanceof Ot)u=Ui(n.firestore,ha),h=_p(n._key.path),o={next:f=>{e[i]&&e[i](z9(u,n,f))},error:e[i+1],complete:e[i+2]};else{const f=Ui(n,os);u=Ui(f.firestore,ha),h=f._query;const d=new eb(u);o={next:g=>{e[i]&&e[i](new yo(u,d,f,g))},error:e[i+1],complete:e[i+2]},dC(n._query)}return(function(d,g,v,_){const S=new iC(_),C=new Y2(g,S,v);return d.asyncQueue.enqueueAndForget((async()=>$2(await _v(d),C))),()=>{S.Nu(),d.asyncQueue.enqueueAndForget((async()=>Q2(await _v(d),C)))}})(F_(u),h,s,o)}function Up(n,e){return(function(i,s){const o=new Yr;return i.asyncQueue.enqueueAndForget((async()=>a9(await S9(i),s,o))),o.promise})(F_(n),e)}function z9(n,e,t){const i=t.docs.get(e._key),s=new eb(n);return new go(n,s,e._key,i,new Wc(t.hasPendingWrites,t.fromCache),e.converter)}class U9{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=H9(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function B9(n){return new U9(n)}class F9{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=kh.provider,this._offlineComponentProvider={build:t=>new nC(t,e?.cacheSizeBytes,this.forceOwnership)}}}class q9{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=kh.provider,this._offlineComponentProvider={build:t=>new T9(t,e?.cacheSizeBytes)}}}function H9(n){return new F9(n?.forceOwnership)}function G9(){return new q9}(function(e,t=!0){(function(s){Tu=s})(bu),Xl(new Eo("firestore",((i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new ha(new v3(i.getProvider("auth-internal")),new T3(u,i.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ce(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(d.options.projectId,g)})(u,s),u);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),na(Zw,Jw,e),na(Zw,Jw,"esm2020")})();var K9="firebase",$9="12.6.0";na(K9,$9,"app");function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q9=gC,yC=new qh("auth","Firebase",gC());const Qm=new e_("@firebase/auth");function Y9(n,...e){Qm.logLevel<=Ge.WARN&&Qm.warn(`Auth (${bu}): ${n}`,...e)}function mm(n,...e){Qm.logLevel<=Ge.ERROR&&Qm.error(`Auth (${bu}): ${n}`,...e)}function es(n,...e){throw nb(n,...e)}function yr(n,...e){return nb(n,...e)}function vC(n,e,t){const i={...Q9(),[e]:t};return new qh("auth","Firebase",i).create(e,{appName:n.name})}function vo(n){return vC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nb(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return yC.create(n,...e)}function De(n,e,...t){if(!n)throw nb(e,...t)}function Kr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mm(e),new Error(e)}function ts(n,e){n||Kr(e)}function Tv(){return typeof self<"u"&&self.location?.href||""}function X9(){return Tx()==="http:"||Tx()==="https:"}function Tx(){return typeof self<"u"&&self.location?.protocol||null}function W9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X9()||XP()||"connection"in navigator)?navigator.onLine:!0}function Z9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Jh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ts(t>e,"Short delay should be less than long delay!"),this.isMobile=QP()||WP()}get(){return W9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ib(n,e){ts(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class _C{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const J9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tL=new Jh(3e4,6e4);function rb(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Iu(n,e,t,i,s={}){return bC(n,s,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const h=Hh({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return YP()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&_u(n.emulatorConfig.host)&&(d.credentials="include"),_C.fetch()(await TC(n,n.config.apiHost,t,h),d)})}async function bC(n,e,t){n._canInitEmulator=!1;const i={...J9,...e};try{const s=new iL(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Gd(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gd(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Gd(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Gd(n,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw vC(n,g,d);es(n,g)}}catch(s){if(s instanceof rs)throw s;es(n,"network-request-failed",{message:String(s)})}}async function nL(n,e,t,i,s={}){const o=await Iu(n,e,t,i,s);return"mfaPendingCredential"in o&&es(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function TC(n,e,t,i){const s=`${e}${t}?${i}`,o=n,u=o.config.emulator?ib(n.config,s):`${n.config.apiScheme}://${s}`;return eL.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class iL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yr(this.auth,"network-request-failed")),tL.get())})}}function Gd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=yr(n,e,i);return s.customData._tokenResponse=t,s}async function rL(n,e){return Iu(n,"POST","/v1/accounts:delete",e)}async function Ym(n,e){return Iu(n,"POST","/v1/accounts:lookup",e)}function uh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sL(n,e=!1){const t=xn(n),i=await t.getIdToken(e),s=sb(i);De(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:i,authTime:uh(p0(s.auth_time)),issuedAtTime:uh(p0(s.iat)),expirationTime:uh(p0(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function p0(n){return Number(n)*1e3}function sb(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return mm("JWT malformed, contained fewer than 3 sections"),null;try{const s=VI(t);return s?JSON.parse(s):(mm("Failed to decode base64 JWT payload"),null)}catch(s){return mm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Ex(n){const e=sb(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Vh(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof rs&&aL(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function aL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class oL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ev{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uh(this.lastLoginAt),this.creationTime=uh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xm(n){const e=n.auth,t=await n.getIdToken(),i=await Vh(n,Ym(e,{idToken:t}));De(i?.users.length,e,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?EC(s.providerUserInfo):[],u=uL(n.providerData,o),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,d=h?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Ev(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function lL(n){const e=xn(n);await Xm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uL(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function EC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function cL(n,e){const t=await bC(n,{},async()=>{const i=Hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await TC(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&_u(n.emulatorConfig.host)&&(f.credentials="include"),_C.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hL(n,e){return Iu(n,"POST","/v2/accounts:revokeToken",rb(n,e))}class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ex(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=Ex(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await cL(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,u=new Gl;return i&&(De(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(De(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(De(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return Kr("not implemented")}}function Hs(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ji{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new oL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ev(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Vh(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sL(this,e)}reload(){return lL(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Xm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(vo(this.auth));const e=await this.getIdToken();return await Vh(this,rL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:S,providerData:C,stsTokenManager:V}=t;De(v&&V,e,"internal-error");const M=Gl.fromJSON(this.name,V);De(typeof v=="string",e,"internal-error"),Hs(i,e.name),Hs(s,e.name),De(typeof _=="boolean",e,"internal-error"),De(typeof S=="boolean",e,"internal-error"),Hs(o,e.name),Hs(u,e.name),Hs(h,e.name),Hs(f,e.name),Hs(d,e.name),Hs(g,e.name);const z=new ji({uid:v,auth:e,email:s,emailVerified:_,displayName:i,isAnonymous:S,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:M,createdAt:d,lastLoginAt:g});return C&&Array.isArray(C)&&(z.providerData=C.map(q=>({...q}))),f&&(z._redirectEventId=f),z}static async _fromIdTokenResponse(e,t,i=!1){const s=new Gl;s.updateFromServerResponse(t);const o=new ji({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Xm(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];De(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?EC(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,h=new Gl;h.updateFromIdToken(i);const f=new ji({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ev(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const wx=new Map;function $r(n){ts(n instanceof Function,"Expected a class definition");let e=wx.get(n);return e?(ts(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wx.set(n,e),e)}class wC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wC.type="NONE";const Sx=wC;function pm(n,e,t){return`firebase:${n}:${e}:${t}`}class Kl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=pm(this.userKey,s.apiKey,o),this.fullPersistenceKey=pm("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ym(this.auth,{idToken:e}).catch(()=>{});return t?ji._fromGetAccountInfoResponse(this.auth,t,e):null}return ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Kl($r(Sx),e,i);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||$r(Sx);const u=pm(i,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(u);if(g){let v;if(typeof g=="string"){const _=await Ym(e,{idToken:g}).catch(()=>{});if(!_)break;v=await ji._fromGetAccountInfoResponse(e,_,g)}else v=ji._fromJSON(e,g);d!==o&&(h=v),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Kl(o,e,i):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Kl(o,e,i))}}function xx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CC(e))return"Blackberry";if(DC(e))return"Webos";if(xC(e))return"Safari";if((e.includes("chrome/")||AC(e))&&!e.includes("edge/"))return"Chrome";if(RC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function SC(n=en()){return/firefox\//i.test(n)}function xC(n=en()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AC(n=en()){return/crios\//i.test(n)}function IC(n=en()){return/iemobile/i.test(n)}function RC(n=en()){return/android/i.test(n)}function CC(n=en()){return/blackberry/i.test(n)}function DC(n=en()){return/webos/i.test(n)}function ab(n=en()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fL(n=en()){return ab(n)&&!!window.navigator?.standalone}function dL(){return ZP()&&document.documentMode===10}function NC(n=en()){return ab(n)||RC(n)||DC(n)||CC(n)||/windows phone/i.test(n)||IC(n)}function kC(n,e=[]){let t;switch(n){case"Browser":t=xx(en());break;case"Worker":t=`${xx(en())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bu}/${i}`}class mL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function pL(n,e={}){return Iu(n,"GET","/v2/passwordPolicy",rb(n,e))}const gL=6;class yL{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??gL,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class vL{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ax(this),this.idTokenSubscription=new Ax(this),this.beforeStateQueue=new mL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Kl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ym(this,{idToken:e}),i=await ji._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(vo(this));const t=e?xn(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pL(this),t=new yL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await hL(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await Kl.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Y9(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ob(n){return xn(n)}class Ax{constructor(e){this.auth=e,this.observer=null,this.addObserver=rO(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _L(n){lb=n}function bL(n){return lb.loadJS(n)}function TL(){return lb.gapiScript}function EL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function wL(n,e){const t=n_(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(To(o,e??{}))return s;es(s,"already-initialized")}return t.initialize({options:e})}function SL(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map($r);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function xL(n,e,t){const i=ob(n);De(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=VC(e),{host:u,port:h}=AL(e),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){De(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),De(To(d,i.config.emulator)&&To(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,_u(u)?(LI(`${o}//${u}${f}`),$P("Auth",!0)):IL()}function VC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function AL(n){const e=VC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:Ix(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:Ix(u)}}}function Ix(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class MC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,t){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}async function $l(n,e){return nL(n,"POST","/v1/accounts:signInWithIdp",rb(n,e))}const RL="http://localhost";class Do extends MC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):es("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...o}=t;if(!i||!s)return null;const u=new Do(i,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return $l(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,$l(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$l(e,t)}buildRequest(){const e={requestUri:RL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hh(t)}return e}}class PC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ef extends PC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qs extends ef{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class Ys extends ef{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Do._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ys.credential(t,i)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";class Xs extends ef{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class Ws extends ef{constructor(){super("twitter.com")}static credential(e,t){return Do._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ws.credential(t,i)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";class pu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await ji._fromIdTokenResponse(e,i,s),u=Rx(i);return new pu({user:o,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Rx(i);return new pu({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Rx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Wm extends rs{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Wm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Wm(e,t,i,s)}}function OC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Wm._fromErrorAndOperation(n,o,e,i):o})}async function CL(n,e,t=!1){const i=await Vh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pu._forOperation(n,"link",i)}async function DL(n,e,t=!1){const{auth:i}=n;if(hr(i.app))return Promise.reject(vo(i));const s="reauthenticate";try{const o=await Vh(n,OC(i,s,e,n),t);De(o.idToken,i,"internal-error");const u=sb(o.idToken);De(u,i,"internal-error");const{sub:h}=u;return De(n.uid===h,i,"user-mismatch"),pu._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&es(i,"user-mismatch"),o}}async function NL(n,e,t=!1){if(hr(n.app))return Promise.reject(vo(n));const i="signIn",s=await OC(n,i,e),o=await pu._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}function kL(n,e,t,i){return xn(n).onIdTokenChanged(e,t,i)}function VL(n,e,t){return xn(n).beforeAuthStateChanged(e,t)}const Zm="__sak";class LC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zm,"1"),this.storage.removeItem(Zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ML=1e3,PL=10;class jC extends LC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);dL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,PL):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ML)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jC.type="LOCAL";const OL=jC;class zC extends LC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zC.type="SESSION";const UC=zC;function LL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Bp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Bp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(u).map(async d=>d(t.origin,o)),f=await LL(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bp.receivers=[];function ub(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class jL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=ub("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(v){const _=v;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(_.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function vr(){return window}function zL(n){vr().location.href=n}function BC(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function UL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BL(){return navigator?.serviceWorker?.controller||null}function FL(){return BC()?self:null}const FC="firebaseLocalStorageDb",qL=1,Jm="firebaseLocalStorage",qC="fbase_key";class tf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fp(n,e){return n.transaction([Jm],e?"readwrite":"readonly").objectStore(Jm)}function HL(){const n=indexedDB.deleteDatabase(FC);return new tf(n).toPromise()}function wv(){const n=indexedDB.open(FC,qL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Jm,{keyPath:qC})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Jm)?e(i):(i.close(),await HL(),e(await wv()))})})}async function Cx(n,e,t){const i=Fp(n,!0).put({[qC]:e,value:t});return new tf(i).toPromise()}async function GL(n,e){const t=Fp(n,!1).get(e),i=await new tf(t).toPromise();return i===void 0?null:i.value}function Dx(n,e){const t=Fp(n,!0).delete(e);return new tf(t).toPromise()}const KL=800,$L=3;class HC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>$L)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bp._getInstance(FL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UL(),!this.activeServiceWorker)return;this.sender=new jL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wv();return await Cx(e,Zm,"1"),await Dx(e,Zm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Cx(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>GL(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Dx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Fp(s,!1).getAll();return new tf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HC.type="LOCAL";const QL=HC;new Jh(3e4,6e4);function YL(n,e){return e?$r(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class cb extends MC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $l(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $l(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $l(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XL(n){return NL(n.auth,new cb(n),n.bypassAuthState)}function WL(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),DL(t,new cb(n),n.bypassAuthState)}async function ZL(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),CL(t,new cb(n),n.bypassAuthState)}class GC{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XL;case"linkViaPopup":case"linkViaRedirect":return ZL;case"reauthViaPopup":case"reauthViaRedirect":return WL;default:es(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JL=new Jh(2e3,1e4);class jl extends GC{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,jl.currentPopupAction&&jl.currentPopupAction.cancel(),jl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=ub();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JL.get())};e()}}jl.currentPopupAction=null;const ej="pendingRedirect",gm=new Map;class tj extends GC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=gm.get(this.auth._key());if(!e){try{const i=await nj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}gm.set(this.auth._key(),e)}return this.bypassAuthState||gm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nj(n,e){const t=sj(e),i=rj(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function ij(n,e){gm.set(n._key(),e)}function rj(n){return $r(n._redirectPersistence)}function sj(n){return pm(ej,n.config.apiKey,n.name)}async function aj(n,e,t=!1){if(hr(n.app))return Promise.reject(vo(n));const i=ob(n),s=YL(i,e),u=await new tj(i,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const oj=600*1e3;class lj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!KC(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(yr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nx(e))}saveEventToCache(e){this.cachedEventUids.add(Nx(e)),this.lastProcessedEventTime=Date.now()}}function Nx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function KC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function uj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KC(n);default:return!1}}async function cj(n,e={}){return Iu(n,"GET","/v1/projects",e)}const hj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fj=/^https?/;async function dj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cj(n);for(const t of e)try{if(mj(t))return}catch{}es(n,"unauthorized-domain")}function mj(n){const e=Tv(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!fj.test(t))return!1;if(hj.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const pj=new Jh(3e4,6e4);function kx(){const n=vr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gj(n){return new Promise((e,t)=>{function i(){kx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kx(),t(yr(n,"network-request-failed"))},timeout:pj.get()})}if(vr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vr().gapi?.load)i();else{const s=EL("iframefcb");return vr()[s]=()=>{gapi.load?i():t(yr(n,"network-request-failed"))},bL(`${TL()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw ym=null,e})}let ym=null;function yj(n){return ym=ym||gj(n),ym}const vj=new Jh(5e3,15e3),_j="__/auth/iframe",bj="emulator/auth/iframe",Tj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ej=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wj(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ib(e,bj):`https://${n.config.authDomain}/${_j}`,i={apiKey:e.apiKey,appName:n.name,v:bu},s=Ej.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Hh(i).slice(1)}`}async function Sj(n){const e=await yj(n),t=vr().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:wj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tj,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const u=yr(n,"network-request-failed"),h=vr().setTimeout(()=>{o(u)},vj.get());function f(){vr().clearTimeout(h),s(i)}i.ping(f).then(f,()=>{o(u)})}))}const xj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Aj=500,Ij=600,Rj="_blank",Cj="http://localhost";class Vx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dj(n,e,t,i=Aj,s=Ij){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...xj,width:i.toString(),height:s.toString(),top:o,left:u},d=en().toLowerCase();t&&(h=AC(d)?Rj:t),SC(d)&&(e=e||Cj,f.scrollbars="yes");const g=Object.entries(f).reduce((_,[S,C])=>`${_}${S}=${C},`,"");if(fL(d)&&h!=="_self")return Nj(e||"",h),new Vx(null);const v=window.open(e||"",h,g);De(v,n,"popup-blocked");try{v.focus()}catch{}return new Vx(v)}function Nj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const kj="__/auth/handler",Vj="emulator/auth/handler",Mj=encodeURIComponent("fac");async function Mx(n,e,t,i,s,o){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:bu,eventId:s};if(e instanceof PC){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",iO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof ef){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),d=f?`#${Mj}=${encodeURIComponent(f)}`:"";return`${Pj(n)}?${Hh(h).slice(1)}${d}`}function Pj({config:n}){return n.emulator?ib(n,Vj):`https://${n.authDomain}/${kj}`}const g0="webStorageSupport";class Oj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UC,this._completeRedirectFn=aj,this._overrideRedirectResult=ij}async _openPopup(e,t,i,s){ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Mx(e,t,i,Tv(),s);return Dj(e,o,ub())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await Mx(e,t,i,Tv(),s);return zL(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(ts(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Sj(e),i=new lj(e);return t.register("authEvent",s=>(De(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(g0,{type:g0},s=>{const o=s?.[0]?.[g0];o!==void 0&&t(!!o),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NC()||xC()||ab()}}const Lj=Oj;var Px="@firebase/auth",Ox="1.11.1";class jj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Uj(n){Xl(new Eo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;De(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kC(n)},d=new vL(i,s,o,f);return SL(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Xl(new Eo("auth-internal",e=>{const t=ob(e.getProvider("auth").getImmediate());return(i=>new jj(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(Px,Ox,zj(n)),na(Px,Ox,"esm2020")}const Bj=300,Fj=OI("authIdTokenMaxAge")||Bj;let Lx=null;const qj=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Fj)return;const s=t?.token;Lx!==s&&(Lx=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Hj(n=s3()){const e=n_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=wL(n,{popupRedirectResolver:Lj,persistence:[QL,OL,UC]}),i=OI("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=qj(o.toString());VL(t,u,()=>u(t.currentUser)),kL(t,h=>u(h))}}const s=qP("auth");return s&&xL(t,`http://${s}`),t}function Gj(){return document.getElementsByTagName("head")?.[0]??document}_L({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=yr("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",Gj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Uj("Browser");const Kj={apiKey:"AIzaSyAQ5FdR_OjZvMkTOYy9auXDctOQXGtZPgg",authDomain:"house-budget-pwa.firebaseapp.com",projectId:"house-budget-pwa",storageBucket:"house-budget-pwa.firebasestorage.app",messagingSenderId:"7591891522",appId:"1:7591891522:web:ebf15777f6c206129753db",measurementId:"G-6QDXEYXPTE"},$C=HI(Kj),Nn=I9($C,{localCache:B9({tabManager:G9()})});Hj($C);const y0=n=>Np(Nn,"users",n,"transactions"),qc={subscribeToTransactions:(n,e)=>{const t=fa(y0(n),mu("date","desc"));return zp(t,s=>{const o=s.docs.map(u=>({id:u.id,...u.data()}));e(o)})},getAllTransactions:async n=>{console.log(` TransactionService.getAllTransactions: Fetching for user ${n}`);const e=fa(y0(n),mu("date","desc")),i=(await Pp(e)).docs.map(s=>({id:s.id,...s.data()}));return console.log(` Fetched ${i.length} transactions:`,i.map(s=>({id:s.id,description:s.description}))),i},addTransaction:async n=>{const{userId:e,id:t,...i}=n;if(!e)throw new Error("User ID is required to create transaction");console.log(` TransactionService.addTransaction: Adding transaction for user ${e}:`,i),console.log(` Original transaction had temp ID: ${t}`);try{console.log(" About to call addDoc with:",i);const s=await jp(y0(e),i);console.log(" addDoc succeeded, docRef:",s),console.log(` Document ID: ${s.id}`),console.log(` Document path: ${s.path}`);const o={id:s.id,...i,userId:e};return console.log(" Final result object:",o),o}catch(s){throw console.error(" addDoc failed:",s),console.error("Error message:",s.message),s}},updateTransaction:async(n,e,t)=>{const i=bi(Nn,"users",n,"transactions",e);return await Op(i,t)},deleteTransaction:async(n,e)=>{console.log(` TransactionService.deleteTransaction: Deleting transaction ${e} for user ${n}`);try{const t=bi(Nn,"users",n,"transactions",e);console.log(` Deleting document at path: ${t.path}`),await Lp(t),console.log(` TransactionService.deleteTransaction: Successfully deleted transaction ${e}`)}catch(t){throw console.error(` TransactionService.deleteTransaction: Failed to delete transaction ${e}:`,t),console.error("Error message:",t.message),t}}},v0=n=>Np(Nn,"users",n,"envelopes"),Kd={subscribeToEnvelopes:(n,e)=>{const t=fa(v0(n),mu("orderIndex","asc"));return zp(t,s=>{const o=s.docs.map(u=>({id:u.id,...u.data()}));e(o)})},getAllEnvelopes:async n=>{const e=fa(v0(n),mu("name","asc"));return(await Pp(e)).docs.map(i=>({id:i.id,...i.data()}))},createEnvelope:async n=>{const{userId:e,id:t,...i}=n;if(!e)throw new Error("User ID is required to create envelope");console.log(` EnvelopeService.createEnvelope: Adding envelope for user ${e}:`,i),console.log(` Original envelope had temp ID: ${t}`);try{const s=await jp(v0(e),i);console.log(" Envelope addDoc succeeded, docRef:",s),console.log(` Document ID: ${s.id}`);const o={id:s.id,...i,userId:e};return console.log(" Final envelope result object:",o),o}catch(s){throw console.error(" Envelope addDoc failed:",s),s}},saveEnvelope:async(n,e)=>{const t=bi(Nn,"users",n,"envelopes",e.id);return await tb(t,e,{merge:!0})},updateBalance:async(n,e,t)=>{const i=bi(Nn,"users",n,"envelopes",e);return await Op(i,{currentBalance:t,lastUpdated:new Date().toISOString()})},deleteEnvelope:async(n,e)=>{console.log(` EnvelopeService.deleteEnvelope: Deleting envelope ${e} for user ${n}`);const t=bi(Nn,"users",n,"envelopes",e);await Lp(t),console.log(` EnvelopeService.deleteEnvelope: Successfully deleted envelope ${e}`)}},_0=n=>Np(Nn,"users",n,"distributionTemplates"),$d={subscribeToDistributionTemplates:(n,e)=>{const t=fa(_0(n),mu("lastUsed","desc"));return zp(t,s=>{const o=s.docs.map(u=>({id:u.id,...u.data()}));e(o)})},getAllDistributionTemplates:async n=>{const e=fa(_0(n),mu("lastUsed","desc"));return(await Pp(e)).docs.map(i=>({id:i.id,...i.data()}))},createDistributionTemplate:async n=>{const{userId:e,id:t,...i}=n;if(!e)throw new Error("User ID is required to create distribution template");console.log(` DistributionTemplateService.createDistributionTemplate: Adding template for user ${e}:`,i);try{const s=await jp(_0(e),i);console.log(" Template addDoc succeeded, docRef:",s);const o={id:s.id,...i,userId:e};return console.log(" Final template result object:",o),o}catch(s){throw console.error(" Template addDoc failed:",s),s}},saveDistributionTemplate:async(n,e)=>{const t=bi(Nn,"users",n,"distributionTemplates",e.id);return await tb(t,e,{merge:!0})},updateDistributionTemplate:async(n,e,t)=>{const i=bi(Nn,"users",n,"distributionTemplates",e);return await Op(i,t)},deleteDistributionTemplate:async(n,e)=>{console.log(` DistributionTemplateService.deleteDistributionTemplate: Deleting template ${e} for user ${n}`);const t=bi(Nn,"users",n,"distributionTemplates",e);await Lp(t),console.log(` DistributionTemplateService.deleteDistributionTemplate: Successfully deleted template ${e}`)}},b0=n=>Np(Nn,"users",n,"appSettings"),Nl={subscribeToAppSettings:(n,e)=>{const t=fa(b0(n),vx(1));return zp(t,s=>{if(s.empty){e(null);return}const o=s.docs.map(u=>({id:u.id,...u.data()}))[0];e(o)})},getAppSettings:async n=>{const e=fa(b0(n),vx(1)),t=await Pp(e);if(t.empty)return null;const i=t.docs[0];return{id:i.id,...i.data()}},createAppSettings:async n=>{const{userId:e,...t}=n;if(!e)throw new Error("User ID is required to create app settings");console.log(` AppSettingsService.createAppSettings: Creating settings for user ${e}:`,t);try{const i=await jp(b0(e),t);console.log(" Settings addDoc succeeded, docRef:",i);const s={id:i.id,...t,userId:e};return console.log(" Final settings result object:",s),s}catch(i){throw console.error(" Settings addDoc failed:",i),i}},saveAppSettings:async(n,e)=>{const t=bi(Nn,"users",n,"appSettings",e.id);return await tb(t,e,{merge:!0})},updateAppSettings:async(n,e,t)=>{const i=bi(Nn,"users",n,"appSettings",e);return await Op(i,t)},deleteAppSettings:async(n,e)=>{console.log(` AppSettingsService.deleteAppSettings: Deleting settings ${e} for user ${n}`);const t=bi(Nn,"users",n,"appSettings",e);await Lp(t),console.log(` AppSettingsService.deleteAppSettings: Successfully deleted settings ${e}`)}},Vt="test-user-123",$j=async()=>{if(typeof navigator>"u"||!navigator.onLine)return!1;try{const n=new AbortController,e=setTimeout(()=>n.abort(),3e3);return await fetch("https://www.google.com/favicon.ico",{method:"HEAD",mode:"no-cors",cache:"no-cache",signal:n.signal}),clearTimeout(e),!0}catch{return!1}},Hc=n=>n?.code==="unavailable"||n?.code==="cancelled"||n?.message?.includes("network")||n?.message?.includes("offline")||n?.message?.includes("Failed to fetch")||!navigator.onLine,Bn=vI((n,e)=>({envelopes:[],transactions:[],distributionTemplates:[],appSettings:null,isLoading:!1,error:null,isOnline:typeof navigator<"u"?navigator.onLine:!0,pendingSync:!1,fetchData:async()=>{n({isLoading:!0,error:null});try{const[t,i,s,o]=await Promise.all([Kd.getAllEnvelopes(Vt).catch(u=>(console.warn("Failed to fetch envelopes:",u),[])),qc.getAllTransactions(Vt).catch(u=>(console.warn("Failed to fetch transactions:",u),[])),$d.getAllDistributionTemplates(Vt).catch(u=>(console.warn("Failed to fetch templates:",u),[])),Nl.getAppSettings(Vt).catch(u=>(console.warn("Failed to fetch settings:",u),null))]);n(u=>{const h=v=>v.map(_=>({..._,date:_.date&&typeof _.date=="object"&&_.date.toDate?_.date.toDate().toISOString():_.date})),f=t.concat(u.envelopes.filter(v=>!t.some(_=>_.id===v.id))),d=h(i).concat(u.transactions.filter(v=>!i.some(_=>_.id===v.id)));let g=o;if(o&&"isDarkMode"in o&&!("theme"in o)){const v=o;g={...v,theme:v.isDarkMode?"dark":"light"},delete g.isDarkMode,g&&g.id&&Nl.updateAppSettings(Vt,g.id,{theme:g.theme}).catch(_=>console.warn("Failed to migrate app settings:",_))}return{envelopes:f,transactions:d,distributionTemplates:s,appSettings:g,isLoading:!1,pendingSync:!1}})}catch(t){console.error("Sync Failed:",t),Hc(t)?n({isLoading:!1,pendingSync:!0}):n({error:t.message,isLoading:!1})}},addTransaction:async t=>{const i=`temp-${Date.now()}-${Math.random()}`,s={...t,amount:t.amount.toString(),id:i,userId:Vt};n(o=>({transactions:[...o.transactions,s],isLoading:!0}));try{const o={...s,date:tt.fromDate(new Date(s.date))},u=await qc.addTransaction(o);console.log(` Replacing temp transaction ${i} with Firebase transaction:`,u);const h={...u,date:u.date&&typeof u.date=="object"&&u.date.toDate?u.date.toDate().toISOString():u.date};n(f=>({transactions:f.transactions.map(d=>d.id===i?h:d),isLoading:!1,pendingSync:!1}))}catch(o){console.error("Add Transaction Failed:",o),Hc(o)?n({isLoading:!1,pendingSync:!0,error:null}):n(u=>({transactions:u.transactions.filter(h=>h.id!==i),error:o.message,isLoading:!1}))}},createEnvelope:async t=>{const i=t.budget&&t.budget>0,s=i?{...t,budget:0}:t,o=`temp-${Date.now()}-${Math.random()}`,u={...s,id:o};n(h=>({envelopes:[...h.envelopes,u],isLoading:!0}));try{const h={...s,userId:Vt},f=await Kd.createEnvelope(h);if(n(d=>({envelopes:d.envelopes.map(g=>g.id===o?f:g),isLoading:!1,pendingSync:!1})),i){console.log(` Creating initial deposit transaction for envelope: ${f.name} (ID: ${f.id})`);try{await e().addTransaction({description:"Initial Deposit",amount:t.budget.toString(),envelopeId:f.id,date:new Date().toISOString(),type:"income"}),console.log(" Initial deposit transaction created")}catch(d){console.error(" Failed to create initial deposit transaction:",d)}}}catch(h){console.error("Create Envelope Failed:",h),Hc(h)?n({isLoading:!1,pendingSync:!0,error:null}):n(f=>({envelopes:f.envelopes.filter(d=>d.id!==o),error:h.message,isLoading:!1}))}},syncData:async()=>{if(e().isOnline){n({pendingSync:!0});try{await e().fetchData()}catch(t){console.error("Manual sync failed:",t)}}},updateOnlineStatus:async()=>{const t=await $j();n({isOnline:t})},addToEnvelope:async(t,i,s,o)=>{const u=o?typeof o=="string"?o:o.toISOString():new Date().toISOString();await e().addTransaction({description:s,amount:i.toString(),envelopeId:t,date:u,type:"income"})},spendFromEnvelope:async(t,i,s,o)=>{const u=o?typeof o=="string"?o:o.toISOString():new Date().toISOString();await e().addTransaction({description:s,amount:i.toString(),envelopeId:t,date:u,type:"expense"})},transferFunds:async(t,i,s,o,u)=>{console.log(`Transferring ${s} from ${t} to ${i} with note: ${o}`);const h=u?typeof u=="string"?u:u.toISOString():new Date().toISOString(),f=`transfer-${Date.now()}-${Math.random()}`;await e().addTransaction({description:`Transfer to ${e().envelopes.find(d=>d.id===i)?.name||"envelope"}`,amount:s.toString(),envelopeId:t,date:h,type:"expense",transferId:f}),await e().addTransaction({description:`Transfer from ${e().envelopes.find(d=>d.id===t)?.name||"envelope"}`,amount:s.toString(),envelopeId:i,date:h,type:"income",transferId:f})},deleteEnvelope:async t=>{const i=e().transactions.filter(s=>s.envelopeId===t);n(s=>({envelopes:s.envelopes.filter(o=>o.id!==t),transactions:s.transactions.filter(o=>o.envelopeId!==t),isLoading:!0}));try{await Kd.deleteEnvelope(Vt,t);for(const s of i)s.id&&!s.id.startsWith("temp-")&&await qc.deleteTransaction(Vt,s.id);n({isLoading:!1})}catch(s){if(console.error("Delete Envelope Failed:",s),Hc(s))n({isLoading:!1,pendingSync:!0,error:null});else{const o=e().envelopes.find(u=>u.id===t);n(o?u=>({envelopes:[...u.envelopes,o],transactions:[...u.transactions,...i],error:s.message,isLoading:!1}):{error:s.message,isLoading:!1})}}},deleteTransaction:async t=>{const i=e().transactions.find(o=>o.id===t);if(!i)return;const s=[t];if(i.transferId){const o=e().transactions.find(u=>u.transferId===i.transferId&&u.id!==t);o&&o.id&&s.push(o.id)}n(o=>({transactions:o.transactions.filter(u=>u.id&&!s.includes(u.id)),isLoading:!0}));try{const o=s.filter(u=>!u.startsWith("temp-"));for(const u of o)console.log(` About to delete transaction ID: ${u}`),await qc.deleteTransaction(Vt,u),console.log(` Deleted transaction ID: ${u}`);console.log(" All transaction deletions completed"),n({isLoading:!1})}catch(o){if(console.error("Delete Transaction Failed:",o),Hc(o))n({isLoading:!1,pendingSync:!0,error:null});else{const u=s.map(h=>e().transactions.find(f=>f.id===h)||i).filter(Boolean);n(h=>({transactions:[...h.transactions,...u],error:o.message,isLoading:!1}))}}},updateTransaction:async t=>{n(i=>({transactions:i.transactions.map(s=>s.id===t.id?t:s),isLoading:!0}));try{n({isLoading:!1})}catch(i){console.error("Update Transaction Failed:",i),n({error:i.message,isLoading:!1})}},restoreTransaction:async t=>{n(i=>({transactions:[...i.transactions,t],isLoading:!0}));try{n({isLoading:!1})}catch(i){console.error("Restore Transaction Failed:",i),n({error:i.message,isLoading:!1})}},importData:t=>{try{if(!t.envelopes||!t.transactions)return{success:!1,message:"Invalid backup format: Missing core data."};const i=t.envelopes.map(d=>({id:d.id,name:d.name,budget:d.budget||d.currentBalance||0,spent:d.spent||0,category:d.category||"General"})),s=t.transactions||[],o=t.distributionTemplates||[],u=t.appSettings||null;n({envelopes:i,transactions:s,distributionTemplates:o,appSettings:u,error:null,pendingSync:!1});const h=o.length,f=u?"Settings imported.":"";return{success:!0,message:`Loaded ${i.length} envelopes, ${s.length} transactions${h>0?`, ${h} templates`:""}.${f?` ${f}`:""}`}}catch(i){return console.error("Import failed:",i),{success:!1,message:"Failed to import data. Check file format."}}},resetData:async()=>{const t=e();try{console.log(" Starting complete data reset...");for(const i of t.envelopes)if(i.id)try{await Kd.deleteEnvelope(Vt,i.id),console.log(` Deleted envelope: ${i.name}`)}catch(s){console.error(` Failed to delete envelope ${i.name}:`,s)}for(const i of t.transactions)if(i.id)try{await qc.deleteTransaction(Vt,i.id),console.log(` Deleted transaction: ${i.description}`)}catch(s){console.error(` Failed to delete transaction ${i.description}:`,s)}for(const i of t.distributionTemplates)if(i.id)try{await $d.deleteDistributionTemplate(Vt,i.id),console.log(` Deleted template: ${i.name}`)}catch(s){console.error(` Failed to delete template ${i.name}:`,s)}if(t.appSettings?.id)try{await Nl.deleteAppSettings(Vt,t.appSettings.id),console.log(" Deleted app settings")}catch(i){console.error(" Failed to delete app settings:",i)}console.log(" Data reset complete - all Firebase data deleted")}catch(i){console.error(" Error during data reset:",i)}n({envelopes:[],transactions:[],distributionTemplates:[],appSettings:null,error:null,pendingSync:!1}),console.log(" Local state cleared")},renameEnvelope:async(t,i)=>{n(s=>({envelopes:s.envelopes.map(o=>o.id===t?{...o,name:i}:o),isLoading:!0}));try{n({isLoading:!1})}catch(s){console.error("Rename Envelope Failed:",s),n({error:s.message,isLoading:!1})}},saveTemplate:async(t,i,s)=>{try{const o={id:`temp-${Date.now()}`,userId:Vt,name:t,note:s,lastUsed:new Date().toISOString(),distributions:i},u=await $d.createDistributionTemplate(o);n(h=>({distributionTemplates:[...h.distributionTemplates,u]})),console.log(" Template saved to Firebase:",u)}catch(o){console.error(" Failed to save template to Firebase, saving locally:",o);const u={id:`local-${Date.now()}`,userId:Vt,name:t,note:s,lastUsed:new Date().toISOString(),distributions:i};n(h=>({distributionTemplates:[...h.distributionTemplates,u]})),console.log(" Template saved locally as fallback:",u)}},deleteTemplate:async t=>{try{await $d.deleteDistributionTemplate(Vt,t),n(i=>({distributionTemplates:i.distributionTemplates.filter(s=>s.id!==t)})),console.log(" Template deleted from Firebase:",t)}catch(i){throw console.error(" Failed to delete template from Firebase:",i),i}},updateAppSettings:async t=>{const i=e();if(!i.appSettings){try{await i.initializeAppSettings();const s=e();if(s.appSettings){const o={...s.appSettings,...t};n({appSettings:o}),await Nl.updateAppSettings(Vt,s.appSettings.id,t),console.log(" App settings updated successfully")}}catch(s){console.error(" Failed to initialize/update settings:",s)}return}try{n(s=>({appSettings:{...s.appSettings,...t}})),await Nl.updateAppSettings(Vt,i.appSettings.id,t),console.log(" App settings updated successfully")}catch(s){throw console.error(" Failed to update app settings:",s),n(o=>({appSettings:o.appSettings})),s}},initializeAppSettings:async()=>{try{const t={userId:Vt,theme:"system"},i=await Nl.createAppSettings(t);n({appSettings:i}),console.log(" App settings initialized successfully")}catch(t){console.error(" Failed to initialize app settings:",t),n({appSettings:{id:"local-settings",userId:Vt,theme:"system"}})}},getEnvelopeBalance:t=>{const i=e(),s=i.envelopes.find(g=>g.id===t);if(!s)return console.log(` getEnvelopeBalance: Envelope ${t} not found`),new Oi(0);const o=i.transactions.filter(g=>g.envelopeId===t);console.log(` getEnvelopeBalance: Envelope ${s.name} (${t}) has ${o.length} transactions`);const u=o.filter(g=>g.type==="expense"),h=o.filter(g=>g.type==="income"),f=u.reduce((g,v)=>g.plus(new Oi(v.amount||0)),new Oi(0)),d=h.reduce((g,v)=>g.plus(new Oi(v.amount||0)),new Oi(0));return console.log(` getEnvelopeBalance: Envelope ${s.name} - Budget: $${s.budget||0}, Income: $${d.toNumber()}, Spent: $${f.toNumber()}, Balance: $${new Oi(s.budget||0).plus(d).minus(f).toNumber()}`),new Oi(s.budget||0).plus(d).minus(f)}}));typeof window<"u"&&(window.addEventListener("online",async()=>{await Bn.getState().updateOnlineStatus();const n=Bn.getState();n.isOnline&&n.pendingSync&&(console.log(" Auto-syncing pending operations..."),n.syncData())}),window.addEventListener("offline",()=>{Bn.setState({isOnline:!1})}),setTimeout(()=>{Bn.getState().updateOnlineStatus()},1e3));const Qj=({isOpen:n,onClose:e})=>{const{envelopes:t,addToEnvelope:i,distributionTemplates:s,saveTemplate:o,deleteTemplate:u,getEnvelopeBalance:h}=Bn(),[f,d]=j.useState(""),[g,v]=j.useState({}),[_,S]=j.useState(""),[C,V]=j.useState(!1),[M,z]=j.useState(!1),[q,L]=j.useState(""),J=j.useMemo(()=>t.sort((de,H)=>de.name.localeCompare(H.name)),[t]),ee=parseFloat(f)||0,re=j.useMemo(()=>Object.values(g).reduce((de,H)=>de+H,0),[g]),R=ee-re,A=Math.abs(R)<.01,D=ee>0&&A,N=re>0&&A,k=(de,H)=>{const ae=parseFloat(H);v(fe=>({...fe,[de]:isNaN(ae)?0:ae}))},U=()=>{D&&(Object.entries(g).forEach(([de,H])=>{H>0&&i(de,H,_||"Deposit",new Date)}),d(""),v({}),S(""),e())},P=()=>{q.trim()&&(o(q,g,_),V(!1),L(""))},Ee=de=>{const H=Object.fromEntries(Object.entries(de.distributions).filter(([fe])=>J.some(Ce=>Ce.id===fe)));v(H);const ae=Object.values(H).reduce((fe,Ce)=>fe+Ce,0);d(ae.toFixed(2)),S(de.note||""),z(!1)};return n?w.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col bg-gray-50 dark:bg-black sm:bg-gray-100 dark:sm:bg-black",children:[w.jsxs("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 flex items-center justify-between shadow-sm shrink-0",children:[w.jsx("button",{onClick:e,className:"text-blue-600 dark:text-blue-400 font-medium text-base",children:"Cancel"}),w.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:"Distribute Funds"}),w.jsx("button",{onClick:U,disabled:!D,className:`font-bold text-base ${D?"text-blue-600 dark:text-blue-400":"text-gray-300 dark:text-zinc-600"}`,children:"Apply"})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto pb-20 relative",children:[w.jsxs("div",{className:"sticky top-0 z-10 bg-gray-50/95 dark:bg-black/95 backdrop-blur-sm border-b border-gray-200 dark:border-zinc-800 shadow-sm p-4 space-y-4",children:[w.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-zinc-400 mb-1",children:"Deposit Amount"}),w.jsxs("div",{className:"flex items-center",children:[w.jsx("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mr-2",children:"$"}),w.jsx("input",{type:"number",inputMode:"decimal",value:f,onChange:de=>d(de.target.value),placeholder:"0.00",className:"text-3xl font-bold text-black dark:text-white w-full focus:outline-none bg-white dark:bg-zinc-900 placeholder-gray-300 dark:placeholder-zinc-600 appearance-none",autoFocus:!0})]})]}),w.jsxs("div",{className:"flex justify-between items-center text-sm font-medium px-1",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-gray-500 dark:text-zinc-400",children:"Distributed"}),w.jsxs("span",{className:"text-gray-900 dark:text-white",children:["$",re.toFixed(2)]})]}),w.jsxs("div",{className:"flex flex-col items-end",children:[w.jsx("span",{className:"text-gray-500 dark:text-zinc-400",children:"Remaining"}),w.jsxs("span",{className:`text-lg ${R===0?"text-green-600 dark:text-green-400":R<0?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400"}`,children:["$",R.toFixed(2)]})]})]}),!A&&ee>0&&w.jsx("div",{className:"text-center text-sm font-medium text-red-500 dark:text-red-400",children:R>0?`You still have $${R.toFixed(2)} to distribute`:`You have over-allocated by $${Math.abs(R).toFixed(2)}`}),w.jsx("div",{className:"pt-2",children:N?w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("button",{onClick:()=>z(!0),className:"flex items-center justify-center gap-2 py-3 px-4 bg-gray-800 dark:bg-zinc-800 rounded-lg text-blue-400 font-medium text-sm hover:bg-gray-700 transition-colors",children:[w.jsx(wm,{size:16}),"Load Template"]}),w.jsxs("button",{onClick:()=>V(!0),className:"flex items-center justify-center gap-2 py-3 px-4 bg-gray-800 dark:bg-zinc-800 text-green-400 rounded-lg font-medium text-sm hover:bg-gray-700 transition-colors",children:[w.jsx(E4,{size:16}),"Save Template"]})]}):w.jsxs("div",{className:"flex flex-col gap-3",children:[w.jsxs("button",{onClick:()=>z(!0),className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-gray-800 dark:bg-zinc-800 rounded-lg text-blue-400 font-medium text-sm hover:bg-gray-700 transition-colors",children:[w.jsx(wm,{size:16}),"Load Template"]}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-500 text-center px-2 leading-relaxed",children:"You can save this as a template once the Deposit Amount and Total Distributed are equal (Remaining = $0)."})]})}),w.jsx("input",{type:"text",placeholder:"Distribution Note (Optional)",value:_,onChange:de=>S(de.target.value),className:"w-full p-3 text-sm bg-white dark:bg-zinc-900 border border-gray-200 dark:border-zinc-800 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:outline-none text-gray-900 dark:text-white placeholder-gray-300 dark:placeholder-zinc-600"})]}),w.jsx("div",{className:"p-4 space-y-3",children:J.filter(de=>de.id).map(de=>{const H=de.id,ae=g[H]||0,fe=re>0?Math.round(ae/re*100):0;return w.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800 flex items-center justify-between",children:[w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:de.name}),ae>0&&w.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded",children:[fe,"%"]})]}),w.jsxs("div",{className:"text-xs text-gray-400 dark:text-zinc-400",children:["Balance: $",h(de.id).toNumber().toFixed(2)]})]}),w.jsxs("div",{className:"w-32 relative",children:[w.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-zinc-500",children:"$"}),w.jsx("input",{type:"number",inputMode:"decimal",value:g[H]===0?"":g[H],onChange:Ce=>k(H,Ce.target.value),placeholder:"0",className:"w-full pl-6 pr-6 py-2 text-right bg-gray-50 dark:bg-zinc-800 border border-gray-200 dark:border-zinc-700 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 outline-none font-mono text-gray-900 dark:text-white placeholder-gray-300 dark:placeholder-zinc-600 appearance-none"})]})]},H)})})]}),C&&w.jsx("div",{className:"absolute inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-sm rounded-2xl p-6 shadow-2xl border border-gray-200 dark:border-zinc-700",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Save Template"}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Name your template to easily recall this distribution later."}),w.jsx("input",{autoFocus:!0,type:"text",placeholder:"e.g. Payday Split",value:q,onChange:de=>L(de.target.value),className:"w-full p-3 bg-gray-100 dark:bg-black rounded-xl mb-4 text-gray-900 dark:text-white border border-transparent focus:border-blue-500 outline-none"}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-3 text-gray-600 dark:text-gray-400 font-semibold",children:"Cancel"}),w.jsx("button",{onClick:P,disabled:!q.trim(),className:"flex-1 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold disabled:opacity-50",children:"Save"})]})]})}),M&&w.jsx("div",{className:"absolute inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-end sm:items-center justify-center sm:p-4",children:w.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-t-2xl sm:rounded-2xl shadow-2xl border-t sm:border border-gray-200 dark:border-zinc-700 max-h-[80vh] flex flex-col",children:[w.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-zinc-800 flex justify-between items-center",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Load Template"}),w.jsx("button",{onClick:()=>z(!1),className:"p-1 rounded-full bg-gray-100 dark:bg-zinc-800 text-gray-500",children:w.jsx(Zv,{size:20})})]}),w.jsx("div",{className:"overflow-y-auto p-2 space-y-2",children:s.length===0?w.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-zinc-500",children:"No templates saved yet."}):s.map(de=>w.jsxs("div",{className:"flex items-center gap-2 p-3 hover:bg-gray-50 dark:hover:bg-zinc-800/50 rounded-xl group transition-colors",children:[w.jsxs("button",{onClick:()=>Ee(de),className:"flex-1 text-left",children:[w.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:de.name}),w.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Total: $",Object.values(de.distributions).reduce((H,ae)=>H+ae,0).toFixed(2),de.note&&w.jsxs("span",{className:"ml-2 opacity-75",children:[" ",de.note]})]})]}),w.jsx("button",{onClick:H=>{H.stopPropagation(),confirm("Delete this template?")&&u(de.id)},className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:w.jsx(Sm,{size:18})})]},de.id))})]})})]}):null},Yj=()=>{const{envelopes:n,transactions:e,fetchData:t,isOnline:i,pendingSync:s,syncData:o,isLoading:u,getEnvelopeBalance:h}=Bn(),[f,d]=j.useState(!1),g=Vo();j.useEffect(()=>{n.length===0&&t()},[]);const v=[...n].sort((S,C)=>S.name.localeCompare(C.name));console.log(" EnvelopeListView render - calculating balances"),console.log(" Current envelopes:",n.length),console.log(" Current transactions:",e.length);const _=n.reduce((S,C)=>{const V=h(C.id);return console.log(` Envelope ${C.name} (${C.id}): $${V.toNumber().toFixed(2)}`),S+V.toNumber()},0);return console.log(" Total balance:",_),w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black pb-20",children:[w.jsxs("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-4 sticky top-0 z-10",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("div",{className:"flex items-center gap-2",children:i?u?w.jsxs("div",{className:"flex items-center gap-1 text-blue-500",children:[w.jsx("span",{className:"text-lg animate-spin",children:""}),w.jsx(Mw,{size:16,className:"animate-spin"}),w.jsx("span",{className:"text-sm font-medium",children:"Syncing..."})]}):s?w.jsxs("button",{onClick:o,className:"flex items-center gap-1 text-orange-500 hover:text-orange-600 transition-colors",title:"Sync pending - tap to sync",children:[w.jsx("span",{className:"text-lg",children:""}),w.jsx(Mw,{size:16}),w.jsx("span",{className:"text-sm font-medium",children:"Sync"})]}):w.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[w.jsx("span",{className:"text-lg",children:""}),w.jsx(j4,{size:16}),w.jsx("span",{className:"text-sm font-medium",children:"Synced"})]}):w.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[w.jsx("span",{className:"text-lg",children:""}),w.jsx(O4,{size:16}),w.jsx("span",{className:"text-sm font-medium",children:u?"Offline (Saving...)":"Offline"})]})}),w.jsxs("div",{className:"flex gap-4 text-blue-500",children:[w.jsx("button",{onClick:()=>g("/transactions"),children:w.jsx(_4,{size:22})}),w.jsx("button",{onClick:()=>g("/settings"),children:w.jsx(A4,{size:22})})]})]}),w.jsx("div",{className:"mt-4",children:w.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"House Expenses"})})]}),w.jsxs("div",{className:"p-4 max-w-md mx-auto space-y-6",children:[w.jsxs("section",{className:"bg-white dark:bg-zinc-900 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-zinc-800 space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("span",{className:"text-gray-600 dark:text-zinc-400 font-medium",children:"Total Balance"}),w.jsxs("span",{className:`text-2xl font-bold ${_>=0?"text-green-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[_<0?"-":"","$",Math.abs(_).toFixed(2)]})]}),w.jsxs("button",{onClick:()=>d(!0),className:"w-full flex items-center justify-center gap-2 bg-blue-50 dark:bg-blue-900/40 text-blue-600 dark:text-blue-300 py-3 rounded-xl font-semibold active:bg-blue-100 dark:active:bg-blue-900/60 transition-colors",children:[w.jsx(y4,{size:20,className:"rotate-90"}),"Distribute Funds"]})]}),w.jsx("section",{children:v.length===0?w.jsxs("div",{className:"text-center py-10 space-y-3",children:[w.jsx(M4,{className:"w-12 h-12 text-gray-300 dark:text-zinc-700 mx-auto"}),w.jsx("h3",{className:"text-gray-500 dark:text-zinc-400 font-medium",children:"No envelopes yet"}),w.jsx("button",{onClick:()=>g("/add-envelope"),className:"text-blue-600 dark:text-blue-300 font-medium",children:"Create First Envelope"})]}):w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex justify-between items-end px-1",children:[w.jsx("h2",{className:"text-sm font-bold text-gray-400 dark:text-zinc-500 uppercase tracking-wider",children:"My Envelopes"}),w.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-300 font-medium",onClick:()=>g("/add-envelope"),children:"+ New Envelope"})]}),v.map(S=>w.jsxs("div",{onClick:()=>g(`/envelope/${S.id}`),className:"bg-white dark:bg-zinc-900 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800 flex justify-between items-center active:scale-[0.99] transition-transform cursor-pointer",children:[w.jsx("div",{className:"flex flex-col",children:w.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:S.name})}),w.jsxs("span",{className:`font-bold ${h(S.id).toNumber()<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-emerald-400"}`,children:[h(S.id).toNumber()<0?"-":"","$",Math.abs(h(S.id).toNumber()).toFixed(2)]})]},S.id))]})})]}),w.jsx("button",{onClick:()=>g("/add-transaction"),className:"fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg active:scale-90 transition-transform",children:w.jsx(o4,{size:28})}),w.jsx(Qj,{isOpen:f,onClose:()=>d(!1)})]})},hb=vI((n,e)=>({message:"",type:"neutral",isVisible:!1,undoAction:void 0,showToast:(t,i="neutral",s)=>{n({message:t,type:i,isVisible:!0,undoAction:s}),setTimeout(()=>{e().hideToast()},4e3)},hideToast:()=>{n({isVisible:!1})}})),QC=({isVisible:n,onClose:e,mode:t,currentEnvelope:i,initialTransaction:s})=>{const{addToEnvelope:o,spendFromEnvelope:u,updateTransaction:h,deleteTransaction:f}=Bn(),[d,g]=j.useState(""),[v,_]=j.useState(""),[S,C]=j.useState(new Date().toISOString().split("T")[0]);if(j.useEffect(()=>{if(!n)return;const L=window.setTimeout(()=>{if(t==="edit"&&s){g(s.amount),_(s.description);try{const J=new Date(s.date);isNaN(J.getTime())?(console.warn("Invalid date in transaction:",s.date),C(new Date().toISOString().split("T")[0])):C(J.toISOString().split("T")[0])}catch(J){console.error("Error parsing transaction date:",J),C(new Date().toISOString().split("T")[0])}}else g(""),_(""),C(new Date().toISOString().split("T")[0])},0);return()=>window.clearTimeout(L)},[n,t,s]),!n)return null;const V=L=>{L.preventDefault();const J=parseFloat(d);isNaN(J)||J<=0||(t==="add"?o(i.id,J,v,new Date(S)):t==="spend"?u(i.id,J,v,new Date(S)):t==="edit"&&s&&h({...s,amount:d,description:v,date:new Date(S).toISOString()}),e())},M=()=>{!s||!s.id||window.confirm("Are you sure you want to delete this transaction?")&&(f(s.id),e())},z=t==="add"?"Add Money":t==="spend"?"Spend Money":"Edit Transaction",q=t==="add"?"text-green-500":"text-red-500";return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:w.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-2xl border border-gray-200 dark:border-zinc-800 shadow-2xl overflow-hidden",children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-zinc-800",children:[w.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Cancel"}),w.jsx("h2",{className:"text-gray-900 dark:text-white font-semibold text-lg",children:z}),w.jsx("button",{onClick:V,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-bold disabled:opacity-50",disabled:!d||parseFloat(d)<=0,children:"Save"})]}),w.jsxs("form",{onSubmit:V,className:"p-6 space-y-6",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("label",{className:"block text-sm text-gray-600 dark:text-zinc-400 mb-1",children:"Amount"}),w.jsxs("div",{className:"relative inline-block",children:[w.jsx("span",{className:`absolute left-0 top-1/2 -translate-y-1/2 -translate-x-full pr-2 text-2xl ${q}`,children:"$"}),w.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",value:d,onChange:L=>{const J=L.target.value;(J===""||!isNaN(parseFloat(J))&&parseFloat(J)>=0)&&g(J)},onKeyDown:L=>{(L.key==="e"||L.key==="E"||L.key==="+"||L.key==="-")&&L.preventDefault()},placeholder:"0.00",autoFocus:!0,className:`bg-transparent text-4xl font-bold text-center w-40 focus:outline-none ${q} placeholder-gray-700`})]})]}),w.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[w.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Note"}),w.jsx("input",{type:"text",value:v,onChange:L=>_(L.target.value),placeholder:"What is this for?",className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none"})]}),w.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[w.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Date"}),w.jsx("input",{type:"date",value:S,onChange:L=>{console.log("Date changed to:",L.target.value),C(L.target.value)},required:!0,className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none [color-scheme:dark]"})]}),t==="edit"&&w.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-zinc-800",children:w.jsxs("button",{type:"button",onClick:M,className:"w-full py-3 px-4 rounded-lg bg-white dark:bg-zinc-900 text-red-600 dark:text-red-400 font-semibold hover:bg-gray-50 dark:hover:bg-zinc-800 transition duration-150 flex items-center justify-center border border-gray-200 dark:border-zinc-800",children:[w.jsx(yI,{className:"w-5 h-5 mr-2"}),"Delete Transaction"]})})]})]})})},Xj=({isVisible:n,onClose:e,sourceEnvelope:t})=>{const{envelopes:i,transferFunds:s}=Bn(),[o,u]=j.useState(""),[h,f]=j.useState(""),[d,g]=j.useState(""),[v,_]=j.useState(new Date().toISOString().split("T")[0]),S=i.filter(M=>M.id!==t.id);if(j.useEffect(()=>{if(!n)return;const M=window.setTimeout(()=>{u(""),f(""),g(""),_(new Date().toISOString().split("T")[0])},0);return()=>window.clearTimeout(M)},[n]),!n)return null;const C=M=>{M.preventDefault();const z=parseFloat(h);isNaN(z)||z<=0||!o||(s(t.id,o,z,d,new Date(v)),e())},V=i.find(M=>M.id===o);return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:w.jsxs("div",{className:"bg-white dark:bg-zinc-900 w-full max-w-md rounded-2xl border border-gray-200 dark:border-zinc-800 shadow-2xl overflow-hidden",children:[w.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-zinc-800",children:[w.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Cancel"}),w.jsx("h2",{className:"text-gray-900 dark:text-white font-semibold text-lg",children:"Transfer Money"}),w.jsx("button",{onClick:C,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-bold disabled:opacity-50",disabled:!h||parseFloat(h)<=0||!o,children:"Transfer"})]}),w.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[w.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800",children:[w.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"From"}),w.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:t.name})]}),w.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[w.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"To"}),w.jsxs("select",{value:o,onChange:M=>u(M.target.value),className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none cursor-pointer",children:[w.jsx("option",{value:"",className:"bg-white dark:bg-zinc-900",children:"Select envelope..."}),S.map(M=>w.jsx("option",{value:M.id,className:"bg-white dark:bg-zinc-900",children:M.name},M.id))]})]}),w.jsxs("div",{className:"text-center",children:[w.jsx("label",{className:"block text-sm text-gray-600 dark:text-zinc-400 mb-1",children:"Amount"}),w.jsxs("div",{className:"relative inline-block",children:[w.jsx("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-full pr-2 text-2xl text-blue-600 dark:text-blue-400",children:"$"}),w.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",value:h,onChange:M=>f(M.target.value),onKeyDown:M=>{(M.key==="e"||M.key==="E"||M.key==="+"||M.key==="-")&&M.preventDefault()},placeholder:"0.00",autoFocus:!0,className:"bg-transparent text-4xl font-bold text-center w-40 focus:outline-none text-blue-600 dark:text-blue-400 placeholder-gray-400 dark:placeholder-gray-600"})]})]}),w.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[w.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Note (Optional)"}),w.jsx("input",{type:"text",value:d,onChange:M=>g(M.target.value),placeholder:"What is this transfer for?",className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none"})]}),w.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg p-3 border border-gray-200 dark:border-zinc-800 focus-within:border-blue-500 dark:focus-within:border-blue-400 transition-colors",children:[w.jsx("label",{className:"block text-xs text-gray-500 dark:text-zinc-400 mb-1",children:"Date"}),w.jsx("input",{type:"date",value:v,onChange:M=>_(M.target.value),className:"w-full bg-transparent text-gray-900 dark:text-white focus:outline-none [color-scheme:dark]"})]}),V&&h&&parseFloat(h)>0&&w.jsxs("div",{className:"text-center text-sm text-gray-500 dark:text-zinc-400 pt-2 border-t border-gray-200 dark:border-zinc-800",children:["Moving ",w.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:["$",parseFloat(h).toFixed(2)]})," from"," ",w.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:t.name})," to"," ",w.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:V.name})]})]})]})})},Wj=n=>{if(!n)return"No Date";try{let e;return n&&typeof n=="object"&&n.toDate&&typeof n.toDate=="function"?e=n.toDate():typeof n=="number"?n<1e10?e=new Date((n+978307200)*1e3):e=new Date(n):e=new Date(n),isNaN(e.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)}catch(e){return console.error("Date error:",e),"Error"}},Zj=n=>{const e=typeof n=="string"?parseFloat(n):n;return typeof e!="number"||isNaN(e)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Math.abs(e))},YC=({transaction:n,envelopeName:e,onReconcile:t,onEdit:i})=>{if(!n)return null;const s=n.type==="income",o=n.type==="expense";let u="text-gray-900 dark:text-white";return s&&(u="text-green-600 dark:text-green-400"),o&&(u="text-red-600 dark:text-red-400"),w.jsxs("div",{onClick:i,className:"flex items-center justify-between p-4 bg-white dark:bg-zinc-900 active:bg-gray-50 dark:active:bg-zinc-800 transition-colors cursor-pointer group border-b border-gray-100 dark:border-zinc-800 last:border-0",children:[w.jsxs("div",{className:"flex flex-col gap-1 overflow-hidden",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:n.description||"No Description"}),n.reconciled&&w.jsx("span",{className:"text-[10px] bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 px-1.5 py-0.5 rounded-full font-bold uppercase tracking-wide",children:"R"})]}),w.jsxs("div",{className:"text-xs text-gray-500 dark:text-zinc-500 flex items-center gap-1",children:[w.jsx("span",{children:Wj(n.date)}),e&&w.jsxs(w.Fragment,{children:[w.jsx("span",{children:""}),w.jsx("span",{className:"text-blue-500 dark:text-blue-400 truncate max-w-[150px]",children:e})]})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("div",{className:`font-bold font-mono whitespace-nowrap ${u}`,children:[o?"-":s?"+":"",Zj(n.amount)]}),t?w.jsx("button",{type:"button",onClick:h=>{h.stopPropagation(),t()},className:"p-1.5 rounded-full border border-transparent hover:border-green-200 dark:hover:border-green-500 transition-colors","aria-label":n.reconciled?"Mark as unreconciled":"Mark as reconciled",children:n.reconciled?w.jsx(kw,{className:"text-green-500",size:20}):w.jsx(Vw,{className:"text-gray-400",size:20})}):w.jsx("span",{children:n.reconciled?w.jsx(kw,{className:"text-green-500",size:20}):w.jsx(Vw,{className:"text-gray-400",size:20})})]})]})},fb=j.createContext({});function qp(n){const e=j.useRef(null);return e.current===null&&(e.current=n()),e.current}const db=typeof window<"u",mb=db?j.useLayoutEffect:j.useEffect,Hp=j.createContext(null);function pb(n,e){n.indexOf(e)===-1&&n.push(e)}function gb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ns=(n,e,t)=>t>e?e:t<n?n:t;let yb=()=>{};const is={},XC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function WC(n){return typeof n=="object"&&n!==null}const ZC=n=>/^0[^.\s]+$/u.test(n);function vb(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ti=n=>n,Jj=(n,e)=>t=>e(n(t)),nf=(...n)=>n.reduce(Jj),Mh=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class _b{constructor(){this.subscriptions=[]}add(e){return pb(this.subscriptions,e),()=>gb(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _r=n=>n*1e3,_i=n=>n/1e3;function JC(n,e){return e?n*(1e3/e):0}const eD=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,ez=1e-7,tz=12;function nz(n,e,t,i,s){let o,u,h=0;do u=e+(t-e)/2,o=eD(u,i,s)-n,o>0?t=u:e=u;while(Math.abs(o)>ez&&++h<tz);return u}function rf(n,e,t,i){if(n===e&&t===i)return Ti;const s=o=>nz(o,0,1,n,t);return o=>o===0||o===1?o:eD(s(o),e,i)}const tD=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,nD=n=>e=>1-n(1-e),iD=rf(.33,1.53,.69,.99),bb=nD(iD),rD=tD(bb),sD=n=>(n*=2)<1?.5*bb(n):.5*(2-Math.pow(2,-10*(n-1))),Tb=n=>1-Math.sin(Math.acos(n)),aD=nD(Tb),oD=tD(Tb),iz=rf(.42,0,1,1),rz=rf(0,0,.58,1),lD=rf(.42,0,.58,1),sz=n=>Array.isArray(n)&&typeof n[0]!="number",uD=n=>Array.isArray(n)&&typeof n[0]=="number",az={linear:Ti,easeIn:iz,easeInOut:lD,easeOut:rz,circIn:Tb,circInOut:oD,circOut:aD,backIn:bb,backInOut:rD,backOut:iD,anticipate:sD},oz=n=>typeof n=="string",jx=n=>{if(uD(n)){yb(n.length===4);const[e,t,i,s]=n;return rf(e,t,i,s)}else if(oz(n))return az[n];return n},Qd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lz(n,e){let t=new Set,i=new Set,s=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(d.schedule(g),n()),g(h)}const d={schedule:(g,v=!1,_=!1)=>{const C=_&&s?t:i;return v&&u.add(g),C.has(g)||C.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,s){o=!0;return}s=!0,[t,i]=[i,t],t.forEach(f),t.clear(),s=!1,o&&(o=!1,d.process(g))}};return d}const uz=40;function cD(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,u=Qd.reduce((L,J)=>(L[J]=lz(o),L),{}),{setup:h,read:f,resolveKeyframes:d,preUpdate:g,update:v,preRender:_,render:S,postRender:C}=u,V=()=>{const L=is.useManualTiming?s.timestamp:performance.now();t=!1,is.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(L-s.timestamp,uz),1)),s.timestamp=L,s.isProcessing=!0,h.process(s),f.process(s),d.process(s),g.process(s),v.process(s),_.process(s),S.process(s),C.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(V))},M=()=>{t=!0,i=!0,s.isProcessing||n(V)};return{schedule:Qd.reduce((L,J)=>{const ee=u[J];return L[J]=(re,R=!1,A=!1)=>(t||M(),ee.schedule(re,R,A)),L},{}),cancel:L=>{for(let J=0;J<Qd.length;J++)u[Qd[J]].cancel(L)},state:s,steps:u}}const{schedule:Tt,cancel:da,state:dn,steps:T0}=cD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ti,!0);let vm;function cz(){vm=void 0}const Fn={now:()=>(vm===void 0&&Fn.set(dn.isProcessing||is.useManualTiming?dn.timestamp:performance.now()),vm),set:n=>{vm=n,queueMicrotask(cz)}},hD=n=>e=>typeof e=="string"&&e.startsWith(n),Eb=hD("--"),hz=hD("var(--"),wb=n=>hz(n)?fz.test(n.split("/*")[0].trim()):!1,fz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ru={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ph={...Ru,transform:n=>ns(0,1,n)},Yd={...Ru,default:1},ch=n=>Math.round(n*1e5)/1e5,Sb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dz(n){return n==null}const mz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xb=(n,e)=>t=>!!(typeof t=="string"&&mz.test(t)&&t.startsWith(n)||e&&!dz(t)&&Object.prototype.hasOwnProperty.call(t,e)),fD=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,o,u,h]=i.match(Sb);return{[n]:parseFloat(s),[e]:parseFloat(o),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},pz=n=>ns(0,255,n),E0={...Ru,transform:n=>Math.round(pz(n))},co={test:xb("rgb","red"),parse:fD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+E0.transform(n)+", "+E0.transform(e)+", "+E0.transform(t)+", "+ch(Ph.transform(i))+")"};function gz(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Sv={test:xb("#"),parse:gz,transform:co.transform},sf=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Gs=sf("deg"),br=sf("%"),Re=sf("px"),yz=sf("vh"),vz=sf("vw"),zx={...br,parse:n=>br.parse(n)/100,transform:n=>br.transform(n*100)},zl={test:xb("hsl","hue"),parse:fD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+br.transform(ch(e))+", "+br.transform(ch(t))+", "+ch(Ph.transform(i))+")"},Qt={test:n=>co.test(n)||Sv.test(n)||zl.test(n),parse:n=>co.test(n)?co.parse(n):zl.test(n)?zl.parse(n):Sv.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?co.transform(n):zl.transform(n),getAnimatableNone:n=>{const e=Qt.parse(n);return e.alpha=0,Qt.transform(e)}},_z=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bz(n){return isNaN(n)&&typeof n=="string"&&(n.match(Sb)?.length||0)+(n.match(_z)?.length||0)>0}const dD="number",mD="color",Tz="var",Ez="var(",Ux="${}",wz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oh(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let o=0;const h=e.replace(wz,f=>(Qt.test(f)?(i.color.push(o),s.push(mD),t.push(Qt.parse(f))):f.startsWith(Ez)?(i.var.push(o),s.push(Tz),t.push(f)):(i.number.push(o),s.push(dD),t.push(parseFloat(f))),++o,Ux)).split(Ux);return{values:t,split:h,indexes:i,types:s}}function pD(n){return Oh(n).values}function gD(n){const{split:e,types:t}=Oh(n),i=e.length;return s=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],s[u]!==void 0){const h=t[u];h===dD?o+=ch(s[u]):h===mD?o+=Qt.transform(s[u]):o+=s[u]}return o}}const Sz=n=>typeof n=="number"?0:Qt.test(n)?Qt.getAnimatableNone(n):n;function xz(n){const e=pD(n);return gD(n)(e.map(Sz))}const ma={test:bz,parse:pD,createTransformer:gD,getAnimatableNone:xz};function w0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Az({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,o=0,u=0;if(!e)s=o=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;s=w0(f,h,n+1/3),o=w0(f,h,n),u=w0(f,h,n-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function ep(n,e){return t=>t>0?e:n}const wt=(n,e,t)=>n+(e-n)*t,S0=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},Iz=[Sv,co,zl],Rz=n=>Iz.find(e=>e.test(n));function Bx(n){const e=Rz(n);if(!e)return!1;let t=e.parse(n);return e===zl&&(t=Az(t)),t}const Fx=(n,e)=>{const t=Bx(n),i=Bx(e);if(!t||!i)return ep(n,e);const s={...t};return o=>(s.red=S0(t.red,i.red,o),s.green=S0(t.green,i.green,o),s.blue=S0(t.blue,i.blue,o),s.alpha=wt(t.alpha,i.alpha,o),co.transform(s))},xv=new Set(["none","hidden"]);function Cz(n,e){return xv.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function Dz(n,e){return t=>wt(n,e,t)}function Ab(n){return typeof n=="number"?Dz:typeof n=="string"?wb(n)?ep:Qt.test(n)?Fx:Vz:Array.isArray(n)?yD:typeof n=="object"?Qt.test(n)?Fx:Nz:ep}function yD(n,e){const t=[...n],i=t.length,s=n.map((o,u)=>Ab(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)t[u]=s[u](o);return t}}function Nz(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=Ab(n[s])(n[s],e[s]));return s=>{for(const o in i)t[o]=i[o](s);return t}}function kz(n,e){const t=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],u=n.indexes[o][i[o]],h=n.values[u]??0;t[s]=h,i[o]++}return t}const Vz=(n,e)=>{const t=ma.createTransformer(e),i=Oh(n),s=Oh(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?xv.has(n)&&!s.values.length||xv.has(e)&&!i.values.length?Cz(n,e):nf(yD(kz(i,s),s.values),t):ep(n,e)};function vD(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?wt(n,e,t):Ab(n)(n,e)}const Mz=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Tt.update(e,t),stop:()=>da(e),now:()=>dn.isProcessing?dn.timestamp:Fn.now()}},_D=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let o=0;o<s;o++)i+=Math.round(n(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},tp=2e4;function Ib(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<tp;)e+=t,i=n.next(e);return e>=tp?1/0:e}function Pz(n,e=100,t){const i=t({...n,keyframes:[0,e]}),s=Math.min(Ib(i),tp);return{type:"keyframes",ease:o=>i.next(s*o).value/e,duration:_i(s)}}const Oz=5;function bD(n,e,t){const i=Math.max(e-Oz,0);return JC(t-n(i),e-i)}const It={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},x0=.001;function Lz({duration:n=It.duration,bounce:e=It.bounce,velocity:t=It.velocity,mass:i=It.mass}){let s,o,u=1-e;u=ns(It.minDamping,It.maxDamping,u),n=ns(It.minDuration,It.maxDuration,_i(n)),u<1?(s=d=>{const g=d*u,v=g*n,_=g-t,S=Av(d,u),C=Math.exp(-v);return x0-_/S*C},o=d=>{const v=d*u*n,_=v*t+t,S=Math.pow(u,2)*Math.pow(d,2)*n,C=Math.exp(-v),V=Av(Math.pow(d,2),u);return(-s(d)+x0>0?-1:1)*((_-S)*C)/V}):(s=d=>{const g=Math.exp(-d*n),v=(d-t)*n+1;return-x0+g*v},o=d=>{const g=Math.exp(-d*n),v=(t-d)*(n*n);return g*v});const h=5/n,f=zz(s,o,h);if(n=_r(n),isNaN(f))return{stiffness:It.stiffness,damping:It.damping,duration:n};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:u*2*Math.sqrt(i*d),duration:n}}}const jz=12;function zz(n,e,t){let i=t;for(let s=1;s<jz;s++)i=i-n(i)/e(i);return i}function Av(n,e){return n*Math.sqrt(1-e*e)}const Uz=["duration","bounce"],Bz=["stiffness","damping","mass"];function qx(n,e){return e.some(t=>n[t]!==void 0)}function Fz(n){let e={velocity:It.velocity,stiffness:It.stiffness,damping:It.damping,mass:It.mass,isResolvedFromDuration:!1,...n};if(!qx(n,Bz)&&qx(n,Uz))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,o=2*ns(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:It.mass,stiffness:s,damping:o}}else{const t=Lz(n);e={...e,...t,mass:It.mass},e.isResolvedFromDuration=!0}return e}function np(n=It.visualDuration,e=It.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const o=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:f,damping:d,mass:g,duration:v,velocity:_,isResolvedFromDuration:S}=Fz({...t,velocity:-_i(t.velocity||0)}),C=_||0,V=d/(2*Math.sqrt(f*g)),M=u-o,z=_i(Math.sqrt(f/g)),q=Math.abs(M)<5;i||(i=q?It.restSpeed.granular:It.restSpeed.default),s||(s=q?It.restDelta.granular:It.restDelta.default);let L;if(V<1){const ee=Av(z,V);L=re=>{const R=Math.exp(-V*z*re);return u-R*((C+V*z*M)/ee*Math.sin(ee*re)+M*Math.cos(ee*re))}}else if(V===1)L=ee=>u-Math.exp(-z*ee)*(M+(C+z*M)*ee);else{const ee=z*Math.sqrt(V*V-1);L=re=>{const R=Math.exp(-V*z*re),A=Math.min(ee*re,300);return u-R*((C+V*z*M)*Math.sinh(A)+ee*M*Math.cosh(A))/ee}}const J={calculatedDuration:S&&v||null,next:ee=>{const re=L(ee);if(S)h.done=ee>=v;else{let R=ee===0?C:0;V<1&&(R=ee===0?_r(C):bD(L,ee,re));const A=Math.abs(R)<=i,D=Math.abs(u-re)<=s;h.done=A&&D}return h.value=h.done?u:re,h},toString:()=>{const ee=Math.min(Ib(J),tp),re=_D(R=>J.next(ee*R).value,ee,30);return ee+"ms "+re},toTransition:()=>{}};return J}np.applyToOptions=n=>{const e=Pz(n,100,np);return n.ease=e.ease,n.duration=_r(e.duration),n.type="keyframes",n};function Iv({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:f,restDelta:d=.5,restSpeed:g}){const v=n[0],_={done:!1,value:v},S=A=>h!==void 0&&A<h||f!==void 0&&A>f,C=A=>h===void 0?f:f===void 0||Math.abs(h-A)<Math.abs(f-A)?h:f;let V=t*e;const M=v+V,z=u===void 0?M:u(M);z!==M&&(V=z-v);const q=A=>-V*Math.exp(-A/i),L=A=>z+q(A),J=A=>{const D=q(A),N=L(A);_.done=Math.abs(D)<=d,_.value=_.done?z:N};let ee,re;const R=A=>{S(_.value)&&(ee=A,re=np({keyframes:[_.value,C(_.value)],velocity:bD(L,A,_.value),damping:s,stiffness:o,restDelta:d,restSpeed:g}))};return R(0),{calculatedDuration:null,next:A=>{let D=!1;return!re&&ee===void 0&&(D=!0,J(A),R(A)),ee!==void 0&&A>=ee?re.next(A-ee):(!D&&J(A),_)}}}function qz(n,e,t){const i=[],s=t||is.mix||vD,o=n.length-1;for(let u=0;u<o;u++){let h=s(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||Ti:e;h=nf(f,h)}i.push(h)}return i}function Hz(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const o=n.length;if(yb(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=qz(e,i,s),f=h.length,d=g=>{if(u&&g<n[0])return e[0];let v=0;if(f>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const _=Mh(n[v],n[v+1],g);return h[v](_)};return t?g=>d(ns(n[0],n[o-1],g)):d}function Gz(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=Mh(0,e,i);n.push(wt(t,1,s))}}function Kz(n){const e=[0];return Gz(e,n.length-1),e}function $z(n,e){return n.map(t=>t*e)}function Qz(n,e){return n.map(()=>e||lD).splice(0,n.length-1)}function hh({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=sz(i)?i.map(jx):jx(i),o={done:!1,value:e[0]},u=$z(t&&t.length===e.length?t:Kz(e),n),h=Hz(u,e,{ease:Array.isArray(s)?s:Qz(e,s)});return{calculatedDuration:n,next:f=>(o.value=h(f),o.done=f>=n,o)}}const Yz=n=>n!==null;function Rb(n,{repeat:e,repeatType:t="loop"},i,s=1){const o=n.filter(Yz),h=s<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const Xz={decay:Iv,inertia:Iv,tween:hh,keyframes:hh,spring:np};function TD(n){typeof n.type=="string"&&(n.type=Xz[n.type])}class Cb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Wz=n=>n/100;class Db extends Cb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Fn.now()&&this.tick(Fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;TD(e);const{type:t=hh,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=e;let{keyframes:h}=e;const f=t||hh;f!==hh&&typeof h[0]!="number"&&(this.mixKeyframes=nf(Wz,vD(h[0],h[1])),h=[0,100]);const d=f({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=Ib(d));const{calculatedDuration:g}=d;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:S,type:C,onUpdate:V,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const z=this.currentTime-d*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?z<0:z>s;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let L=this.currentTime,J=i;if(v){const A=Math.min(this.currentTime,s)/h;let D=Math.floor(A),N=A%1;!N&&A>=1&&(N=1),N===1&&D--,D=Math.min(D,v+1),!!(D%2)&&(_==="reverse"?(N=1-N,S&&(N-=S/h)):_==="mirror"&&(J=u)),L=ns(0,1,N)*h}const ee=q?{done:!1,value:g[0]}:J.next(L);o&&(ee.value=o(ee.value));let{done:re}=ee;!q&&f!==null&&(re=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return R&&C!==Iv&&(ee.value=Rb(g,this.options,M,this.speed)),V&&V(ee.value),R&&this.finish(),ee}then(e,t){return this.finished.then(e,t)}get duration(){return _i(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_i(e)}get time(){return _i(this.currentTime)}set time(e){e=_r(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Fn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=_i(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Mz,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Zz(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ho=n=>n*180/Math.PI,Rv=n=>{const e=ho(Math.atan2(n[1],n[0]));return Cv(e)},Jz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Rv,rotateZ:Rv,skewX:n=>ho(Math.atan(n[1])),skewY:n=>ho(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Cv=n=>(n=n%360,n<0&&(n+=360),n),Hx=Rv,Gx=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Kx=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),e8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Gx,scaleY:Kx,scale:n=>(Gx(n)+Kx(n))/2,rotateX:n=>Cv(ho(Math.atan2(n[6],n[5]))),rotateY:n=>Cv(ho(Math.atan2(-n[2],n[0]))),rotateZ:Hx,rotate:Hx,skewX:n=>ho(Math.atan(n[4])),skewY:n=>ho(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Dv(n){return n.includes("scale")?1:0}function Nv(n,e){if(!n||n==="none")return Dv(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(t)i=e8,s=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Jz,s=h}if(!s)return Dv(e);const o=i[e],u=s[1].split(",").map(n8);return typeof o=="function"?o(u):u[o]}const t8=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Nv(t,e)};function n8(n){return parseFloat(n.trim())}const Cu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Du=new Set(Cu),$x=n=>n===Ru||n===Re,i8=new Set(["x","y","z"]),r8=Cu.filter(n=>!i8.has(n));function s8(n){const e=[];return r8.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const _o={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Nv(e,"x"),y:(n,{transform:e})=>Nv(e,"y")};_o.translateX=_o.x;_o.translateY=_o.y;const bo=new Set;let kv=!1,Vv=!1,Mv=!1;function ED(){if(Vv){const n=Array.from(bo).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=s8(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([o,u])=>{i.getValue(o)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Vv=!1,kv=!1,bo.forEach(n=>n.complete(Mv)),bo.clear()}function wD(){bo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Vv=!0)})}function a8(){Mv=!0,wD(),ED(),Mv=!1}class Nb{constructor(e,t,i,s,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(bo.add(this),kv||(kv=!0,Tt.read(wD),Tt.resolveKeyframes(ED))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;if(e[0]===null){const o=s?.get(),u=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const h=i.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),s&&o===void 0&&s.set(e[0])}Zz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bo.delete(this)}cancel(){this.state==="scheduled"&&(bo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const o8=n=>n.startsWith("--");function l8(n,e,t){o8(e)?n.style.setProperty(e,t):n.style[e]=t}const u8=vb(()=>window.ScrollTimeline!==void 0),c8={};function h8(n,e){const t=vb(n);return()=>c8[e]??t()}const SD=h8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zc=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Qx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zc([0,.65,.55,1]),circOut:Zc([.55,0,1,.45]),backIn:Zc([.31,.01,.66,-.59]),backOut:Zc([.33,1.53,.69,.99])};function xD(n,e){if(n)return typeof n=="function"?SD()?_D(n,e):"ease-out":uD(n)?Zc(n):Array.isArray(n)?n.map(t=>xD(t,e)||Qx.easeOut):Qx[n]}function f8(n,e,t,{delay:i=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:f}={},d=void 0){const g={[e]:t};f&&(g.offset=f);const v=xD(h,s);Array.isArray(v)&&(g.easing=v);const _={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return d&&(_.pseudoElement=d),n.animate(g,_)}function AD(n){return typeof n=="function"&&"applyToOptions"in n}function d8({type:n,...e}){return AD(n)&&SD()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class m8 extends Cb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:s,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=e,yb(typeof e.type!="string");const d=d8(e);this.animation=f8(t,i,s,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=Rb(s,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):l8(t,i,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return _i(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_i(e)}get time(){return _i(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_r(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&u8()?(this.animation.timeline=e,Ti):t(this)}}const ID={anticipate:sD,backInOut:rD,circInOut:oD};function p8(n){return n in ID}function g8(n){typeof n.ease=="string"&&p8(n.ease)&&(n.ease=ID[n.ease])}const Yx=10;class y8 extends m8{constructor(e){g8(e),TD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:s,element:o,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new Db({...u,autoplay:!1}),f=_r(this.finishedTime??this.time);t.setWithVelocity(h.sample(f-Yx).value,h.sample(f).value,Yx),h.stop()}}const Xx=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ma.test(n)||n==="0")&&!n.startsWith("url("));function v8(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function _8(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],u=Xx(s,e),h=Xx(o,e);return!u||!h?!1:v8(n)||(t==="spring"||AD(t))&&i}function Pv(n){n.duration=0,n.type="keyframes"}const b8=new Set(["opacity","clipPath","filter","transform"]),T8=vb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function E8(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:s,damping:o,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return T8()&&t&&b8.has(t)&&(t!=="transform"||!d)&&!f&&!i&&s!=="mirror"&&o!==0&&u!=="inertia"}const w8=40;class S8 extends Cb{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:f,motionValue:d,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Fn.now();const _={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:o,repeatType:u,name:f,motionValue:d,element:g,...v},S=g?.KeyframeResolver||Nb;this.keyframeResolver=new S(h,(C,V,M)=>this.onKeyframesResolved(C,V,_,!M),f,d,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,s){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:f,isHandoff:d,onUpdate:g}=i;this.resolvedAt=Fn.now(),_8(e,o,u,h)||((is.instantAnimations||!f)&&g?.(Rb(e,i,t)),e[0]=e[e.length-1],Pv(i),i.repeat=0);const _={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>w8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},S=!d&&E8(_)?new y8({..._,element:_.motionValue.owner.current}):new Db(_);S.finished.then(()=>this.notifyFinished()).catch(Ti),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),a8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const x8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function A8(n){const e=x8.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function RD(n,e,t=1){const[i,s]=A8(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return XC(u)?parseFloat(u):u}return wb(s)?RD(s,e,t+1):s}function kb(n,e){return n?.[e]??n?.default??n}const CD=new Set(["width","height","top","left","right","bottom",...Cu]),I8={test:n=>n==="auto",parse:n=>n},DD=n=>e=>e.test(n),ND=[Ru,Re,br,Gs,vz,yz,I8],Wx=n=>ND.find(DD(n));function R8(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||ZC(n):!0}const C8=new Set(["brightness","contrast","saturate","opacity"]);function D8(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Sb)||[];if(!i)return n;const s=t.replace(i,"");let o=C8.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+s+")"}const N8=/\b([a-z-]*)\(.*?\)/gu,Ov={...ma,getAnimatableNone:n=>{const e=n.match(N8);return e?e.map(D8).join(" "):n}},Zx={...Ru,transform:Math.round},k8={rotate:Gs,rotateX:Gs,rotateY:Gs,rotateZ:Gs,scale:Yd,scaleX:Yd,scaleY:Yd,scaleZ:Yd,skew:Gs,skewX:Gs,skewY:Gs,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Ph,originX:zx,originY:zx,originZ:Re},Vb={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...k8,zIndex:Zx,fillOpacity:Ph,strokeOpacity:Ph,numOctaves:Zx},V8={...Vb,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:Ov,WebkitFilter:Ov},kD=n=>V8[n];function VD(n,e){let t=kD(n);return t!==Ov&&(t=ma),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const M8=new Set(["auto","none","0"]);function P8(n,e,t){let i=0,s;for(;i<n.length&&!s;){const o=n[i];typeof o=="string"&&!M8.has(o)&&Oh(o).values.length&&(s=n[i]),i++}if(s&&t)for(const o of e)n[o]=VD(t,s)}class O8 extends Nb{constructor(e,t,i,s,o){super(e,t,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),wb(d))){const g=RD(d,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!CD.has(i)||e.length!==2)return;const[s,o]=e,u=Wx(s),h=Wx(o);if(u!==h)if($x(u)&&$x(h))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else _o[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||R8(e[s]))&&i.push(s);i.length&&P8(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_o[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=_o[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function L8(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=t?.[n]??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const MD=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function PD(n){return WC(n)&&"offsetHeight"in n}const Jx=30,j8=n=>!isNaN(parseFloat(n));class z8{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Fn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Fn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=j8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new _b);const i=this.events[e].add(t);return e==="change"?()=>{i(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Jx)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Jx);return JC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gu(n,e){return new z8(n,e)}const{schedule:Mb}=cD(queueMicrotask,!1),Pi={x:!1,y:!1};function OD(){return Pi.x||Pi.y}function U8(n){return n==="x"||n==="y"?Pi[n]?null:(Pi[n]=!0,()=>{Pi[n]=!1}):Pi.x||Pi.y?null:(Pi.x=Pi.y=!0,()=>{Pi.x=Pi.y=!1})}function LD(n,e){const t=L8(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function eA(n){return!(n.pointerType==="touch"||OD())}function B8(n,e,t={}){const[i,s,o]=LD(n,t),u=h=>{if(!eA(h))return;const{target:f}=h,d=e(f,h);if(typeof d!="function"||!f)return;const g=v=>{eA(v)&&(d(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,s)};return i.forEach(h=>{h.addEventListener("pointerenter",u,s)}),o}const jD=(n,e)=>e?n===e?!0:jD(n,e.parentElement):!1,Pb=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,F8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function q8(n){return F8.has(n.tagName)||n.tabIndex!==-1}const _m=new WeakSet;function tA(n){return e=>{e.key==="Enter"&&n(e)}}function A0(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const H8=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=tA(()=>{if(_m.has(t))return;A0(t,"down");const s=tA(()=>{A0(t,"up")}),o=()=>A0(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function nA(n){return Pb(n)&&!OD()}function G8(n,e,t={}){const[i,s,o]=LD(n,t),u=h=>{const f=h.currentTarget;if(!nA(h))return;_m.add(f);const d=e(f,h),g=(S,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),_m.has(f)&&_m.delete(f),nA(S)&&typeof d=="function"&&d(S,{success:C})},v=S=>{g(S,f===window||f===document||t.useGlobalTarget||jD(f,S.target))},_=S=>{g(S,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",_,s)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,s),PD(h)&&(h.addEventListener("focus",d=>H8(d,s)),!q8(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function zD(n){return WC(n)&&"ownerSVGElement"in n}function K8(n){return zD(n)&&n.tagName==="svg"}const En=n=>!!(n&&n.getVelocity),$8=[...ND,Qt,ma],Q8=n=>$8.find(DD(n)),Ob=j.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function iA(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Y8(...n){return e=>{let t=!1;const i=n.map(s=>{const o=iA(s,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():iA(n[s],null)}}}}function X8(...n){return j.useCallback(Y8(...n),n)}class W8 extends j.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,s=PD(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Z8({children:n,isPresent:e,anchorX:t,root:i}){const s=j.useId(),o=j.useRef(null),u=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=j.useContext(Ob),f=X8(o,n?.ref);return j.useInsertionEffect(()=>{const{width:d,height:g,top:v,left:_,right:S}=u.current;if(e||!o.current||!d||!g)return;const C=t==="left"?`left: ${_}`:`right: ${S}`;o.current.dataset.motionPopId=s;const V=document.createElement("style");h&&(V.nonce=h);const M=i??document.head;return M.appendChild(V),V.sheet&&V.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${g}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{M.contains(V)&&M.removeChild(V)}},[e]),w.jsx(W8,{isPresent:e,childRef:o,sizeRef:u,children:j.cloneElement(n,{ref:f})})}const J8=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:u,anchorX:h,root:f})=>{const d=qp(eU),g=j.useId();let v=!0,_=j.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:t,custom:s,onExitComplete:S=>{d.set(S,!0);for(const C of d.values())if(!C)return;i&&i()},register:S=>(d.set(S,!1),()=>d.delete(S))}),[t,d,i]);return o&&v&&(_={..._}),j.useMemo(()=>{d.forEach((S,C)=>d.set(C,!1))},[t]),j.useEffect(()=>{!t&&!d.size&&i&&i()},[t]),u==="popLayout"&&(n=w.jsx(Z8,{isPresent:t,anchorX:h,root:f,children:n})),w.jsx(Hp.Provider,{value:_,children:n})};function eU(){return new Map}function UD(n=!0){const e=j.useContext(Hp);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,o=j.useId();j.useEffect(()=>{if(n)return s(o)},[n]);const u=j.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,u]:[!0]}const Xd=n=>n.key||"";function rA(n){const e=[];return j.Children.forEach(n,t=>{j.isValidElement(t)&&e.push(t)}),e}const Lb=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",root:f})=>{const[d,g]=UD(u),v=j.useMemo(()=>rA(n),[n]),_=u&&!d?[]:v.map(Xd),S=j.useRef(!0),C=j.useRef(v),V=qp(()=>new Map),[M,z]=j.useState(v),[q,L]=j.useState(v);mb(()=>{S.current=!1,C.current=v;for(let re=0;re<q.length;re++){const R=Xd(q[re]);_.includes(R)?V.delete(R):V.get(R)!==!0&&V.set(R,!1)}},[q,_.length,_.join("-")]);const J=[];if(v!==M){let re=[...v];for(let R=0;R<q.length;R++){const A=q[R],D=Xd(A);_.includes(D)||(re.splice(R,0,A),J.push(A))}return o==="wait"&&J.length&&(re=J),L(rA(re)),z(v),null}const{forceRender:ee}=j.useContext(fb);return w.jsx(w.Fragment,{children:q.map(re=>{const R=Xd(re),A=u&&!d?!1:v===q||_.includes(R),D=()=>{if(V.has(R))V.set(R,!0);else return;let N=!0;V.forEach(k=>{k||(N=!1)}),N&&(ee?.(),L(C.current),u&&g?.(),i&&i())};return w.jsx(J8,{isPresent:A,initial:!S.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:f,onExitComplete:A?void 0:D,anchorX:h,children:re},R)})})},BD=j.createContext({strict:!1}),sA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yu={};for(const n in sA)yu[n]={isEnabled:e=>sA[n].some(t=>!!e[t])};function tU(n){for(const e in n)yu[e]={...yu[e],...n[e]}}const nU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ip(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||nU.has(n)}let FD=n=>!ip(n);function iU(n){typeof n=="function"&&(FD=e=>e.startsWith("on")?!ip(e):n(e))}try{iU(require("@emotion/is-prop-valid").default)}catch{}function rU(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(FD(s)||t===!0&&ip(s)||!e&&!ip(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}const Gp=j.createContext({});function Kp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Lh(n){return typeof n=="string"||Array.isArray(n)}const jb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zb=["initial",...jb];function $p(n){return Kp(n.animate)||zb.some(e=>Lh(n[e]))}function qD(n){return!!($p(n)||n.variants)}function sU(n,e){if($p(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Lh(t)?t:void 0,animate:Lh(i)?i:void 0}}return n.inherit!==!1?e:{}}function aU(n){const{initial:e,animate:t}=sU(n,j.useContext(Gp));return j.useMemo(()=>({initial:e,animate:t}),[aA(e),aA(t)])}function aA(n){return Array.isArray(n)?n.join(" "):n}const jh={};function oU(n){for(const e in n)jh[e]=n[e],Eb(e)&&(jh[e].isCSSVariable=!0)}function HD(n,{layout:e,layoutId:t}){return Du.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!jh[n]||n==="opacity")}const lU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uU=Cu.length;function cU(n,e,t){let i="",s=!0;for(let o=0;o<uU;o++){const u=Cu[o],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const d=MD(h,Vb[u]);if(!f){s=!1;const g=lU[u]||u;i+=`${g}(${d}) `}t&&(e[u]=d)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function Ub(n,e,t){const{style:i,vars:s,transformOrigin:o}=n;let u=!1,h=!1;for(const f in e){const d=e[f];if(Du.has(f)){u=!0;continue}else if(Eb(f)){s[f]=d;continue}else{const g=MD(d,Vb[f]);f.startsWith("origin")?(h=!0,o[f]=g):i[f]=g}}if(e.transform||(u||t?i.transform=cU(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:d="50%",originZ:g=0}=o;i.transformOrigin=`${f} ${d} ${g}`}}const Bb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GD(n,e,t){for(const i in e)!En(e[i])&&!HD(i,t)&&(n[i]=e[i])}function hU({transformTemplate:n},e){return j.useMemo(()=>{const t=Bb();return Ub(t,e,n),Object.assign({},t.vars,t.style)},[e])}function fU(n,e){const t=n.style||{},i={};return GD(i,t,n),Object.assign(i,hU(n,e)),i}function dU(n,e){const t={},i=fU(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const mU={offset:"stroke-dashoffset",array:"stroke-dasharray"},pU={offset:"strokeDashoffset",array:"strokeDasharray"};function gU(n,e,t=1,i=0,s=!0){n.pathLength=1;const o=s?mU:pU;n[o.offset]=Re.transform(-i);const u=Re.transform(e),h=Re.transform(t);n[o.array]=`${u} ${h}`}function KD(n,{attrX:e,attrY:t,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:u=0,...h},f,d,g){if(Ub(n,h,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:_}=n;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),s!==void 0&&gU(v,s,o,u,!1)}const $D=()=>({...Bb(),attrs:{}}),QD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function yU(n,e,t,i){const s=j.useMemo(()=>{const o=$D();return KD(o,e,QD(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};GD(o,n.style,n),s.style={...o,...s.style}}return s}const vU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fb(n){return typeof n!="string"||n.includes("-")?!1:!!(vU.indexOf(n)>-1||/[A-Z]/u.test(n))}function _U(n,e,t,{latestValues:i},s,o=!1){const h=(Fb(n)?yU:dU)(e,i,s,n),f=rU(e,typeof n=="string",o),d=n!==j.Fragment?{...f,...h,ref:t}:{},{children:g}=e,v=j.useMemo(()=>En(g)?g.get():g,[g]);return j.createElement(n,{...d,children:v})}function oA(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function qb(n,e,t,i){if(typeof e=="function"){const[s,o]=oA(i);e=e(t!==void 0?t:n.custom,s,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,o]=oA(i);e=e(t!==void 0?t:n.custom,s,o)}return e}function bm(n){return En(n)?n.get():n}function bU({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,s){return{latestValues:TU(t,i,s,n),renderState:e()}}function TU(n,e,t,i){const s={},o=i(n,{});for(const _ in o)s[_]=bm(o[_]);let{initial:u,animate:h}=n;const f=$p(n),d=qD(n);e&&d&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!Kp(v)){const _=Array.isArray(v)?v:[v];for(let S=0;S<_.length;S++){const C=qb(n,_[S]);if(C){const{transitionEnd:V,transition:M,...z}=C;for(const q in z){let L=z[q];if(Array.isArray(L)){const J=g?L.length-1:0;L=L[J]}L!==null&&(s[q]=L)}for(const q in V)s[q]=V[q]}}}return s}const YD=n=>(e,t)=>{const i=j.useContext(Gp),s=j.useContext(Hp),o=()=>bU(n,e,i,s);return t?o():qp(o)};function Hb(n,e,t){const{style:i}=n,s={};for(const o in i)(En(i[o])||e.style&&En(e.style[o])||HD(o,n)||t?.getValue(o)?.liveStyle!==void 0)&&(s[o]=i[o]);return s}const EU=YD({scrapeMotionValuesFromProps:Hb,createRenderState:Bb});function XD(n,e,t){const i=Hb(n,e,t);for(const s in n)if(En(n[s])||En(e[s])){const o=Cu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=n[s]}return i}const wU=YD({scrapeMotionValuesFromProps:XD,createRenderState:$D}),SU=Symbol.for("motionComponentSymbol");function Ul(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function xU(n,e,t){return j.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Ul(t)&&(t.current=i))},[e])}const Gb=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AU="framerAppearId",WD="data-"+Gb(AU),ZD=j.createContext({});function IU(n,e,t,i,s){const{visualElement:o}=j.useContext(Gp),u=j.useContext(BD),h=j.useContext(Hp),f=j.useContext(Ob).reducedMotion,d=j.useRef(null);i=i||u.renderer,!d.current&&i&&(d.current=i(n,{visualState:e,parent:o,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=d.current,v=j.useContext(ZD);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&RU(d.current,t,s,v);const _=j.useRef(!1);j.useInsertionEffect(()=>{g&&_.current&&g.update(t,h)});const S=t[WD],C=j.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return mb(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),j.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),C.current=!1),g.enteringChildren=void 0)}),g}function RU(n,e,t,i){const{layoutId:s,layout:o,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:d,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:JD(n.parent)),n.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||h&&Ul(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:d})}function JD(n){if(n)return n.options.allowProjection!==!1?n.projection:JD(n.parent)}function I0(n,{forwardMotionProps:e=!1}={},t,i){t&&tU(t);const s=Fb(n)?wU:EU;function o(h,f){let d;const g={...j.useContext(Ob),...h,layoutId:CU(h)},{isStatic:v}=g,_=aU(h),S=s(h,v);if(!v&&db){DU();const C=NU(g);d=C.MeasureLayout,_.visualElement=IU(n,S,g,i,C.ProjectionNode)}return w.jsxs(Gp.Provider,{value:_,children:[d&&_.visualElement?w.jsx(d,{visualElement:_.visualElement,...g}):null,_U(n,h,xU(S,_.visualElement,f),S,v,e)]})}o.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=j.forwardRef(o);return u[SU]=n,u}function CU({layoutId:n}){const e=j.useContext(fb).id;return e&&n!==void 0?e+"-"+n:n}function DU(n,e){j.useContext(BD).strict}function NU(n){const{drag:e,layout:t}=yu;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function kU(n,e){if(typeof Proxy>"u")return I0;const t=new Map,i=(o,u)=>I0(o,u,n,e),s=(o,u)=>i(o,u);return new Proxy(s,{get:(o,u)=>u==="create"?i:(t.has(u)||t.set(u,I0(u,void 0,n,e)),t.get(u))})}function eN({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function VU({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function MU(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function R0(n){return n===void 0||n===1}function Lv({scale:n,scaleX:e,scaleY:t}){return!R0(n)||!R0(e)||!R0(t)}function ro(n){return Lv(n)||tN(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function tN(n){return lA(n.x)||lA(n.y)}function lA(n){return n&&n!=="0%"}function rp(n,e,t){const i=n-t,s=e*i;return t+s}function uA(n,e,t,i,s){return s!==void 0&&(n=rp(n,s,i)),rp(n,t,i)+e}function jv(n,e=0,t=1,i,s){n.min=uA(n.min,e,t,i,s),n.max=uA(n.max,e,t,i,s)}function nN(n,{x:e,y:t}){jv(n.x,e.translate,e.scale,e.originPoint),jv(n.y,t.translate,t.scale,t.originPoint)}const cA=.999999999999,hA=1.0000000000001;function PU(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let o,u;for(let h=0;h<s;h++){o=t[h],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Fl(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,nN(n,u)),i&&ro(o.latestValues)&&Fl(n,o.latestValues))}e.x<hA&&e.x>cA&&(e.x=1),e.y<hA&&e.y>cA&&(e.y=1)}function Bl(n,e){n.min=n.min+e,n.max=n.max+e}function fA(n,e,t,i,s=.5){const o=wt(n.min,n.max,s);jv(n,e,t,o,i)}function Fl(n,e){fA(n.x,e.x,e.scaleX,e.scale,e.originX),fA(n.y,e.y,e.scaleY,e.scale,e.originY)}function iN(n,e){return eN(MU(n.getBoundingClientRect(),e))}function OU(n,e,t){const i=iN(n,t),{scroll:s}=e;return s&&(Bl(i.x,s.offset.x),Bl(i.y,s.offset.y)),i}const dA=()=>({translate:0,scale:1,origin:0,originPoint:0}),ql=()=>({x:dA(),y:dA()}),mA=()=>({min:0,max:0}),Mt=()=>({x:mA(),y:mA()}),zv={current:null},rN={current:!1};function LU(){if(rN.current=!0,!!db)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>zv.current=n.matches;n.addEventListener("change",e),e()}else zv.current=!1}const jU=new WeakMap;function zU(n,e,t){for(const i in e){const s=e[i],o=t[i];if(En(s))n.addValue(i,s);else if(En(o))n.addValue(i,gu(s,{owner:n}));else if(o!==s)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=n.getStaticValue(i);n.addValue(i,gu(u!==void 0?u:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const pA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UU{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Fn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Tt.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=$p(t),this.isVariantNode=qD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const _ in v){const S=v[_];f[_]!==void 0&&En(S)&&S.set(f[_])}}mount(e){this.current=e,jU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),rN.current||LU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),da(this.notifyUpdate),da(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Du.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Tt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yu){const t=yu[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<pA.length;i++){const s=pA[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=e[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=zU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=gu(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(XC(i)||ZC(i))?i=parseFloat(i):!Q8(i)&&ma.test(t)&&(i=VD(e,t)),this.setBaseTarget(e,En(i)?i.get():i)),En(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=qb(this.props,t,this.presenceContext?.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!En(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new _b),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Mb.render(this.render)}}class sN extends UU{constructor(){super(...arguments),this.KeyframeResolver=O8}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;En(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function aN(n,{style:e,vars:t},i,s){const o=n.style;let u;for(u in e)o[u]=e[u];s?.applyProjectionStyles(o,i);for(u in t)o.setProperty(u,t[u])}function BU(n){return window.getComputedStyle(n)}class FU extends sN{constructor(){super(...arguments),this.type="html",this.renderInstance=aN}readValueFromInstance(e,t){if(Du.has(t))return this.projection?.isProjecting?Dv(t):t8(e,t);{const i=BU(e),s=(Eb(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return iN(e,t)}build(e,t,i){Ub(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Hb(e,t,i)}}const oN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qU(n,e,t,i){aN(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(oN.has(s)?s:Gb(s),e.attrs[s])}class HU extends sN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Du.has(t)){const i=kD(t);return i&&i.default||0}return t=oN.has(t)?t:Gb(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return XD(e,t,i)}build(e,t,i){KD(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,s){qU(e,t,i,s)}mount(e){this.isSVGTag=QD(e.tagName),super.mount(e)}}const GU=(n,e)=>Fb(n)?new HU(e):new FU(e,{allowProjection:n!==j.Fragment});function Ql(n,e,t){const i=n.getProps();return qb(i,e,t!==void 0?t:i.custom,n)}const Uv=n=>Array.isArray(n);function KU(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,gu(t))}function $U(n){return Uv(n)?n[n.length-1]||0:n}function Kb(n,e){const t=Ql(n,e);let{transitionEnd:i={},transition:s={},...o}=t||{};o={...o,...i};for(const u in o){const h=$U(o[u]);KU(n,u,h)}}function QU(n){return!!(En(n)&&n.add)}function Bv(n,e){const t=n.getValue("willChange");if(QU(t))return t.add(e);if(!t&&is.WillChange){const i=new is.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function lN(n){return n.props[WD]}const YU=n=>n!==null;function XU(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(YU),o=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[o]}const WU={type:"spring",stiffness:500,damping:25,restSpeed:10},ZU=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),JU={type:"keyframes",duration:.8},eB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tB=(n,{keyframes:e})=>e.length>2?JU:Du.has(n)?n.startsWith("scale")?ZU(e[1]):WU:eB;function nB({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:h,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const $b=(n,e,t,i={},s,o)=>u=>{const h=kb(i,n)||{},f=h.delay||i.delay||0;let{elapsed:d=0}=i;d=d-_r(f);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-d,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:o?void 0:s};nB(h)||Object.assign(g,tB(n,g)),g.duration&&(g.duration=_r(g.duration)),g.repeatDelay&&(g.repeatDelay=_r(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Pv(g),g.delay===0&&(v=!0)),(is.instantAnimations||is.skipAnimations)&&(v=!0,Pv(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const _=XU(g.keyframes,h);if(_!==void 0){Tt.update(()=>{g.onUpdate(_),g.onComplete()});return}}return h.isSync?new Db(g):new S8(g)};function iB({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function uN(n,e,{delay:t=0,transitionOverride:i,type:s}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(o=i);const f=[],d=s&&n.animationState&&n.animationState.getState()[s];for(const g in h){const v=n.getValue(g,n.latestValues[g]??null),_=h[g];if(_===void 0||d&&iB(d,g))continue;const S={delay:t,...kb(o||{},g)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===C&&!S.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const z=lN(n);if(z){const q=window.MotionHandoffAnimation(z,g,Tt);q!==null&&(S.startTime=q,V=!0)}}Bv(n,g),v.start($b(g,v,_,n.shouldReduceMotion&&CD.has(g)?{type:!1}:S,n,V));const M=v.animation;M&&f.push(M)}return u&&Promise.all(f).then(()=>{Tt.update(()=>{u&&Kb(n,u)})}),f}function cN(n,e,t,i=0,s=1){const o=Array.from(n).sort((d,g)=>d.sortNodePosition(g)).indexOf(e),u=n.size,h=(u-1)*i;return typeof t=="function"?t(o,u):s===1?o*i:h-o*i}function Fv(n,e,t={}){const i=Ql(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>Promise.all(uN(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:v}=s;return rB(n,e,f,d,g,v,t)}:()=>Promise.resolve(),{when:h}=s;if(h){const[f,d]=h==="beforeChildren"?[o,u]:[u,o];return f().then(()=>d())}else return Promise.all([o(),u(t.delay)])}function rB(n,e,t=0,i=0,s=0,o=1,u){const h=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),h.push(Fv(f,e,{...u,delay:t+(typeof i=="function"?0:i)+cN(n.variantChildren,f,i,s,o)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function hN(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>Fv(n,o,t));i=Promise.all(s)}else if(typeof e=="string")i=Fv(n,e,t);else{const s=typeof e=="function"?Ql(n,e,t.custom):e;i=Promise.all(uN(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function fN(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const sB=zb.length;function dN(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?dN(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<sB;t++){const i=zb[t],s=n.props[i];(Lh(s)||s===!1)&&(e[i]=s)}return e}const aB=[...jb].reverse(),oB=jb.length;function lB(n){return e=>Promise.all(e.map(({animation:t,options:i})=>hN(n,t,i)))}function uB(n){let e=lB(n),t=gA(),i=!0;const s=f=>(d,g)=>{const v=Ql(n,g,f==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:S,...C}=v;d={...d,...C,...S}}return d};function o(f){e=f(n)}function u(f){const{props:d}=n,g=dN(n.parent)||{},v=[],_=new Set;let S={},C=1/0;for(let M=0;M<oB;M++){const z=aB[M],q=t[z],L=d[z]!==void 0?d[z]:g[z],J=Lh(L),ee=z===f?q.isActive:null;ee===!1&&(C=M);let re=L===g[z]&&L!==d[z]&&J;if(re&&i&&n.manuallyAnimateOnMount&&(re=!1),q.protectedKeys={...S},!q.isActive&&ee===null||!L&&!q.prevProp||Kp(L)||typeof L=="boolean")continue;const R=cB(q.prevProp,L);let A=R||z===f&&q.isActive&&!re&&J||M>C&&J,D=!1;const N=Array.isArray(L)?L:[L];let k=N.reduce(s(z),{});ee===!1&&(k={});const{prevResolvedValues:U={}}=q,P={...U,...k},Ee=ae=>{A=!0,_.has(ae)&&(D=!0,_.delete(ae)),q.needsAnimating[ae]=!0;const fe=n.getValue(ae);fe&&(fe.liveStyle=!1)};for(const ae in P){const fe=k[ae],Ce=U[ae];if(S.hasOwnProperty(ae))continue;let Fe=!1;Uv(fe)&&Uv(Ce)?Fe=!fN(fe,Ce):Fe=fe!==Ce,Fe?fe!=null?Ee(ae):_.add(ae):fe!==void 0&&_.has(ae)?Ee(ae):q.protectedKeys[ae]=!0}q.prevProp=L,q.prevResolvedValues=k,q.isActive&&(S={...S,...k}),i&&n.blockInitialAnimation&&(A=!1);const de=re&&R;A&&(!de||D)&&v.push(...N.map(ae=>{const fe={type:z};if(typeof ae=="string"&&i&&!de&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ce}=n,Fe=Ql(Ce,ae);if(Ce.enteringChildren&&Fe){const{delayChildren:F}=Fe.transition||{};fe.delay=cN(Ce.enteringChildren,n,F)}}return{animation:ae,options:fe}}))}if(_.size){const M={};if(typeof d.initial!="boolean"){const z=Ql(n,Array.isArray(d.initial)?d.initial[0]:d.initial);z&&z.transition&&(M.transition=z.transition)}_.forEach(z=>{const q=n.getBaseTarget(z),L=n.getValue(z);L&&(L.liveStyle=!0),M[z]=q??null}),v.push({animation:M})}let V=!!v.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(V=!1),i=!1,V?e(v):Promise.resolve()}function h(f,d){if(t[f].isActive===d)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(f,d)),t[f].isActive=d;const g=u(f);for(const v in t)t[v].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=gA()}}}function cB(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!fN(e,n):!1}function Ja(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gA(){return{animate:Ja(!0),whileInView:Ja(),whileHover:Ja(),whileTap:Ja(),whileDrag:Ja(),whileFocus:Ja(),exit:Ja()}}class ba{constructor(e){this.isMounted=!1,this.node=e}update(){}}class hB extends ba{constructor(e){super(e),e.animationState||(e.animationState=uB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let fB=0;class dB extends ba{constructor(){super(...arguments),this.id=fB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const mB={animation:{Feature:hB},exit:{Feature:dB}};function zh(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function af(n){return{point:{x:n.pageX,y:n.pageY}}}const pB=n=>e=>Pb(e)&&n(e,af(e));function fh(n,e,t,i){return zh(n,e,pB(t),i)}const mN=1e-4,gB=1-mN,yB=1+mN,pN=.01,vB=0-pN,_B=0+pN;function Cn(n){return n.max-n.min}function bB(n,e,t){return Math.abs(n-e)<=t}function yA(n,e,t,i=.5){n.origin=i,n.originPoint=wt(e.min,e.max,n.origin),n.scale=Cn(t)/Cn(e),n.translate=wt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=gB&&n.scale<=yB||isNaN(n.scale))&&(n.scale=1),(n.translate>=vB&&n.translate<=_B||isNaN(n.translate))&&(n.translate=0)}function dh(n,e,t,i){yA(n.x,e.x,t.x,i?i.originX:void 0),yA(n.y,e.y,t.y,i?i.originY:void 0)}function vA(n,e,t){n.min=t.min+e.min,n.max=n.min+Cn(e)}function TB(n,e,t){vA(n.x,e.x,t.x),vA(n.y,e.y,t.y)}function _A(n,e,t){n.min=e.min-t.min,n.max=n.min+Cn(e)}function mh(n,e,t){_A(n.x,e.x,t.x),_A(n.y,e.y,t.y)}function yi(n){return[n("x"),n("y")]}const gN=({current:n})=>n?n.ownerDocument.defaultView:null,bA=(n,e)=>Math.abs(n-e);function EB(n,e){const t=bA(n.x,e.x),i=bA(n.y,e.y);return Math.sqrt(t**2+i**2)}class yN{constructor(e,t,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=D0(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=EB(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!C)return;const{point:V}=_,{timestamp:M}=dn;this.history.push({...V,timestamp:M});const{onStart:z,onMove:q}=this.handlers;S||(z&&z(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,_)},this.handlePointerMove=(_,S)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=C0(S,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(_,S)=>{this.end();const{onEnd:C,onSessionEnd:V,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=D0(_.type==="pointercancel"?this.lastMoveEventInfo:C0(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(_,z),V&&V(_,z)},!Pb(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=s||window;const h=af(e),f=C0(h,this.transformPagePoint),{point:d}=f,{timestamp:g}=dn;this.history=[{...d,timestamp:g}];const{onSessionStart:v}=t;v&&v(e,D0(f,this.history)),this.removeListeners=nf(fh(this.contextWindow,"pointermove",this.handlePointerMove),fh(this.contextWindow,"pointerup",this.handlePointerUp),fh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),da(this.updatePoint)}}function C0(n,e){return e?{point:e(n.point)}:n}function TA(n,e){return{x:n.x-e.x,y:n.y-e.y}}function D0({point:n},e){return{point:n,delta:TA(n,vN(e)),offset:TA(n,wB(e)),velocity:SB(e,.1)}}function wB(n){return n[0]}function vN(n){return n[n.length-1]}function SB(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=vN(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>_r(e)));)t--;if(!i)return{x:0,y:0};const o=_i(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function xB(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?wt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?wt(t,n,i.max):Math.min(n,t)),n}function EA(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function AB(n,{top:e,left:t,bottom:i,right:s}){return{x:EA(n.x,t,s),y:EA(n.y,e,i)}}function wA(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function IB(n,e){return{x:wA(n.x,e.x),y:wA(n.y,e.y)}}function RB(n,e){let t=.5;const i=Cn(n),s=Cn(e);return s>i?t=Mh(e.min,e.max-i,n.min):i>s&&(t=Mh(n.min,n.max-s,e.min)),ns(0,1,t)}function CB(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const qv=.35;function DB(n=qv){return n===!1?n=0:n===!0&&(n=qv),{x:SA(n,"left","right"),y:SA(n,"top","bottom")}}function SA(n,e,t){return{min:xA(n,e),max:xA(n,t)}}function xA(n,e){return typeof n=="number"?n:n[e]||0}const NB=new WeakMap;class kB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(af(v).point)},u=(v,_)=>{const{drag:S,dragPropagation:C,onDragStart:V}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U8(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yi(z=>{let q=this.getAxisMotionValue(z).get()||0;if(br.test(q)){const{projection:L}=this.visualElement;if(L&&L.layout){const J=L.layout.layoutBox[z];J&&(q=Cn(J)*(parseFloat(q)/100))}}this.originPoint[z]=q}),V&&Tt.postRender(()=>V(v,_)),Bv(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:V,onDrag:M}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:z}=_;if(C&&this.currentDirection===null){this.currentDirection=VB(z),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",_.point,z),this.updateAxis("y",_.point,z),this.visualElement.render(),M&&M(v,_)},f=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>yi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new yN(e,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:gN(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,s=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:u}=s;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Tt.postRender(()=>h(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!Wd(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=xB(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Ul(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=AB(i.layoutBox,e):this.constraints=!1,this.elastic=DB(t),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&yi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=CB(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ul(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=OU(i,s.root,this.visualElement.getTransformPagePoint());let u=IB(s.layout.layoutBox,o);if(t){const h=t(VU(u));this.hasMutatedConstraints=!!h,h&&(u=eN(h))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},d=yi(g=>{if(!Wd(g,t,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const _=s?200:1e6,S=s?40:1e7,C={type:"inertia",velocity:i?e[g]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,C)});return Promise.all(d).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Bv(this.visualElement,e),i.start($b(e,i,0,t,this.visualElement,!1))}stopAnimation(){yi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){yi(t=>{const{drag:i}=this.getProps();if(!Wd(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(t);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[t];o.set(e[t]-wt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Ul(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};yi(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();s[u]=RB({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),yi(u=>{if(!Wd(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:d}=this.constraints[u];h.set(wt(f,d,s[u]))})}addListeners(){if(!this.visualElement.current)return;NB.set(this.visualElement,this);const e=this.visualElement.current,t=fh(e,"pointerdown",f=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Ul(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Tt.read(i);const u=zh(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(yi(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),t(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=qv,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function Wd(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function VB(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class MB extends ba{constructor(e){super(e),this.removeGroupControls=Ti,this.removeListeners=Ti,this.controls=new kB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const AA=n=>(e,t)=>{n&&Tt.postRender(()=>n(e,t))};class PB extends ba{constructor(){super(...arguments),this.removePointerDownListener=Ti}onPointerDown(e){this.session=new yN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:AA(e),onStart:AA(t),onMove:i,onEnd:(o,u)=>{delete this.session,s&&Tt.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=fh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IA(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Gc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Re.test(n))n=parseFloat(n);else return n;const t=IA(n,e.target.x),i=IA(n,e.target.y);return`${t}% ${i}%`}},OB={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=ma.parse(n);if(s.length>5)return i;const o=ma.createTransformer(n),u=typeof s[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;s[0+u]/=h,s[1+u]/=f;const d=wt(h,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=d),typeof s[3+u]=="number"&&(s[3+u]/=d),o(s)}};let N0=!1;class LB extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;oU(jB),o&&(t.group&&t.group.add(o),i&&i.register&&s&&i.register(o),N0&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Tm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,N0=!0,s||e.layoutDependency!==t||t===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||Tt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;N0=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _N(n){const[e,t]=UD(),i=j.useContext(fb);return w.jsx(LB,{...n,layoutGroup:i,switchLayoutGroup:j.useContext(ZD),isPresent:e,safeToRemove:t})}const jB={borderRadius:{...Gc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gc,borderTopRightRadius:Gc,borderBottomLeftRadius:Gc,borderBottomRightRadius:Gc,boxShadow:OB};function zB(n,e,t){const i=En(n)?n:gu(n);return i.start($b("",i,e,t)),i.animation}const UB=(n,e)=>n.depth-e.depth;class BB{constructor(){this.children=[],this.isDirty=!1}add(e){pb(this.children,e),this.isDirty=!0}remove(e){gb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UB),this.isDirty=!1,this.children.forEach(e)}}function FB(n,e){const t=Fn.now(),i=({timestamp:s})=>{const o=s-t;o>=e&&(da(i),n(o-e))};return Tt.setup(i,!0),()=>da(i)}const bN=["TopLeft","TopRight","BottomLeft","BottomRight"],qB=bN.length,RA=n=>typeof n=="string"?parseFloat(n):n,CA=n=>typeof n=="number"||Re.test(n);function HB(n,e,t,i,s,o){s?(n.opacity=wt(0,t.opacity??1,GB(i)),n.opacityExit=wt(e.opacity??1,0,KB(i))):o&&(n.opacity=wt(e.opacity??1,t.opacity??1,i));for(let u=0;u<qB;u++){const h=`border${bN[u]}Radius`;let f=DA(e,h),d=DA(t,h);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||CA(f)===CA(d)?(n[h]=Math.max(wt(RA(f),RA(d),i),0),(br.test(d)||br.test(f))&&(n[h]+="%")):n[h]=d}(e.rotate||t.rotate)&&(n.rotate=wt(e.rotate||0,t.rotate||0,i))}function DA(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const GB=TN(0,.5,aD),KB=TN(.5,.95,Ti);function TN(n,e,t){return i=>i<n?0:i>e?1:t(Mh(n,e,i))}function NA(n,e){n.min=e.min,n.max=e.max}function gi(n,e){NA(n.x,e.x),NA(n.y,e.y)}function kA(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function VA(n,e,t,i,s){return n-=e,n=rp(n,1/t,i),s!==void 0&&(n=rp(n,1/s,i)),n}function $B(n,e=0,t=1,i=.5,s,o=n,u=n){if(br.test(e)&&(e=parseFloat(e),e=wt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=wt(o.min,o.max,i);n===o&&(h-=e),n.min=VA(n.min,e,t,h,s),n.max=VA(n.max,e,t,h,s)}function MA(n,e,[t,i,s],o,u){$B(n,e[t],e[i],e[s],e.scale,o,u)}const QB=["x","scaleX","originX"],YB=["y","scaleY","originY"];function PA(n,e,t,i){MA(n.x,e,QB,t?t.x:void 0,i?i.x:void 0),MA(n.y,e,YB,t?t.y:void 0,i?i.y:void 0)}function OA(n){return n.translate===0&&n.scale===1}function EN(n){return OA(n.x)&&OA(n.y)}function LA(n,e){return n.min===e.min&&n.max===e.max}function XB(n,e){return LA(n.x,e.x)&&LA(n.y,e.y)}function jA(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function wN(n,e){return jA(n.x,e.x)&&jA(n.y,e.y)}function zA(n){return Cn(n.x)/Cn(n.y)}function UA(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class WB{constructor(){this.members=[]}add(e){pb(this.members,e),e.scheduleRender()}remove(e){if(gb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZB(n,e,t){let i="";const s=n.x.translate/e.x,o=n.y.translate/e.y,u=t?.z||0;if((s||o||u)&&(i=`translate3d(${s}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:g,rotateX:v,rotateY:_,skewX:S,skewY:C}=t;d&&(i=`perspective(${d}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),_&&(i+=`rotateY(${_}deg) `),S&&(i+=`skewX(${S}deg) `),C&&(i+=`skewY(${C}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const k0=["","X","Y","Z"],JB=1e3;let e7=0;function V0(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function SN(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=lN(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Tt,!(s||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&SN(i)}function xN({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(u={},h=e?.()){this.id=e7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(i7),this.nodes.forEach(o7),this.nodes.forEach(l7),this.nodes.forEach(r7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new BB)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new _b),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=zD(u)&&!K8(u),this.instance=u;const{layoutId:h,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let g,v=0;const _=()=>this.root.updateBlockedByResize=!1;Tt.read(()=>{v=window.innerWidth}),n(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=FB(_,250),Tm.hasAnimatedSinceResize&&(Tm.hasAnimatedSinceResize=!1,this.nodes.forEach(qA)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&d&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||d.getDefaultTransition()||d7,{onLayoutAnimationStart:V,onLayoutAnimationComplete:M}=d.getProps(),z=!this.targetLayout||!wN(this.targetLayout,S),q=!v&&_;if(this.options.layoutRoot||this.resumeFrom||q||v&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...kb(C,"layout"),onPlay:V,onComplete:M};(d.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(g,q)}else v||qA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(u7),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(FA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(a7),this.nodes.forEach(t7),this.nodes.forEach(n7)):this.nodes.forEach(FA),this.clearAllSnapshots();const h=Fn.now();dn.delta=ns(0,1e3/60,h-dn.timestamp),dn.timestamp=h,dn.isProcessing=!0,T0.update.process(dn),T0.preRender.process(dn),T0.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(s7),this.sharedNodes.forEach(c7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!EN(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&this.instance&&(h||ro(this.latestValues)||g)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),m7(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Mt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(p7))){const{scroll:d}=this.root;d&&(Bl(h.x,d.offset.x),Bl(h.y,d.offset.y))}return h}removeElementScroll(u){const h=Mt();if(gi(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:g,options:v}=d;d!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&gi(h,u),Bl(h.x,g.offset.x),Bl(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const f=Mt();gi(f,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Fl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ro(g.latestValues)&&Fl(f,g.latestValues)}return ro(this.latestValues)&&Fl(f,this.latestValues),f}removeTransform(u){const h=Mt();gi(h,u);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!ro(d.latestValues))continue;Lv(d.latestValues)&&d.updateSnapshot();const g=Mt(),v=d.measurePageBox();gi(g,v),PA(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return ro(this.latestValues)&&PA(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),mh(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mt(),this.targetWithTransforms=Mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gi(this.target,this.layout.layoutBox),nN(this.target,this.targetDelta)):gi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),mh(this.relativeTargetOrigin,this.target,_.target),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Lv(this.parent.latestValues)||tN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(f=!1),f)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;gi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;PU(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Mt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kA(this.prevProjectionDelta.x,this.projectionDelta.x),kA(this.prevProjectionDelta.y,this.projectionDelta.y)),dh(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!UA(this.projectionDelta.x,this.prevProjectionDelta.x)||!UA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ql(),this.projectionDelta=ql(),this.projectionDeltaWithTransform=ql()}setAnimationOrigin(u,h=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},v=ql();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Mt(),S=f?f.source:void 0,C=this.layout?this.layout.source:void 0,V=S!==C,M=this.getStack(),z=!M||M.members.length<=1,q=!!(V&&!z&&this.options.crossfade===!0&&!this.path.some(f7));this.animationProgress=0;let L;this.mixTargetDelta=J=>{const ee=J/1e3;HA(v.x,u.x,ee),HA(v.y,u.y,ee),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mh(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h7(this.relativeTarget,this.relativeTargetOrigin,_,ee),L&&XB(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=Mt()),gi(L,this.relativeTarget)),V&&(this.animationValues=g,HB(g,d,this.latestValues,ee,q,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{Tm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gu(0)),this.currentAnimation=zB(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:d,latestValues:g}=u;if(!(!h||!f||!d)){if(this!==u&&this.layout&&d&&AN(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||Mt();const v=Cn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const _=Cn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+_}gi(h,f),Fl(h,g),dh(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new WB),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const d={};f.z&&V0("z",u,d,this.animationValues);for(let g=0;g<k0.length;g++)V0(`rotate${k0[g]}`,u,d,this.animationValues),V0(`skew${k0[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=bm(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=bm(h?.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=ZB(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:_,y:S}=this.projectionDelta;u.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,d.animationValues?u.opacity=d===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=d===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in jh){if(g[C]===void 0)continue;const{correct:V,applyTo:M,isCSSVariable:z}=jh[C],q=v==="none"?g[C]:V(g[C],d);if(M){const L=M.length;for(let J=0;J<L;J++)u[M[J]]=q}else z?this.options.visualElement.renderState.vars[C]=q:u[C]=q}this.options.layoutId&&(u.pointerEvents=d===this?bm(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(BA),this.root.sharedNodes.clear()}}}function t7(n){n.updateLayout()}function n7(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:s}=n.options,o=e.source!==n.layout.source;s==="size"?yi(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],_=Cn(v);v.min=t[g].min,v.max=v.min+_}):AN(s,e.layoutBox,t)&&yi(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],_=Cn(t[g]);v.max=v.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+_)});const u=ql();dh(u,t,e.layoutBox);const h=ql();o?dh(h,n.applyTransform(i,!0),e.measuredBox):dh(h,t,e.layoutBox);const f=!EN(u);let d=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const S=Mt();mh(S,e.layoutBox,v.layoutBox);const C=Mt();mh(C,t,_.layoutBox),wN(S,C)||(d=!0),g.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=S,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function i7(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function r7(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function s7(n){n.clearSnapshot()}function BA(n){n.clearMeasurements()}function FA(n){n.isLayoutDirty=!1}function a7(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function qA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function o7(n){n.resolveTargetDelta()}function l7(n){n.calcProjection()}function u7(n){n.resetSkewAndRotation()}function c7(n){n.removeLeadSnapshot()}function HA(n,e,t){n.translate=wt(e.translate,0,t),n.scale=wt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function GA(n,e,t,i){n.min=wt(e.min,t.min,i),n.max=wt(e.max,t.max,i)}function h7(n,e,t,i){GA(n.x,e.x,t.x,i),GA(n.y,e.y,t.y,i)}function f7(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const d7={duration:.45,ease:[.4,0,.1,1]},KA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),$A=KA("applewebkit/")&&!KA("chrome/")?Math.round:Ti;function QA(n){n.min=$A(n.min),n.max=$A(n.max)}function m7(n){QA(n.x),QA(n.y)}function AN(n,e,t){return n==="position"||n==="preserve-aspect"&&!bB(zA(e),zA(t),.2)}function p7(n){return n!==n.root&&n.scroll?.wasRoot}const g7=xN({attachResizeListener:(n,e)=>zh(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),M0={current:void 0},IN=xN({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!M0.current){const n=new g7({});n.mount(window),n.setOptions({layoutScroll:!0}),M0.current=n}return M0.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),y7={pan:{Feature:PB},drag:{Feature:MB,ProjectionNode:IN,MeasureLayout:_N}};function YA(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,o=i[s];o&&Tt.postRender(()=>o(e,af(e)))}class v7 extends ba{mount(){const{current:e}=this.node;e&&(this.unmount=B8(e,(t,i)=>(YA(this.node,i,"Start"),s=>YA(this.node,s,"End"))))}unmount(){}}class _7 extends ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nf(zh(this.node.current,"focus",()=>this.onFocus()),zh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function XA(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),o=i[s];o&&Tt.postRender(()=>o(e,af(e)))}class b7 extends ba{mount(){const{current:e}=this.node;e&&(this.unmount=G8(e,(t,i)=>(XA(this.node,i,"Start"),(s,{success:o})=>XA(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hv=new WeakMap,P0=new WeakMap,T7=n=>{const e=Hv.get(n.target);e&&e(n)},E7=n=>{n.forEach(T7)};function w7({root:n,...e}){const t=n||document;P0.has(t)||P0.set(t,{});const i=P0.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(E7,{root:n,...e})),i[s]}function S7(n,e,t){const i=w7(e);return Hv.set(n,t),i.observe(n),()=>{Hv.delete(n),i.unobserve(n)}}const x7={some:0,all:1};class A7 extends ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:o}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:x7[s]},h=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=d?g:v;_&&_(f)};return S7(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(I7(e,t))&&this.startObserver()}unmount(){}}function I7({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const R7={inView:{Feature:A7},tap:{Feature:b7},focus:{Feature:_7},hover:{Feature:v7}},C7={layout:{ProjectionNode:IN,MeasureLayout:_N}},D7={...mB,...R7,...y7,...C7},Qp=kU(D7,GU);function N7(n){n.values.forEach(e=>e.stop())}function Gv(n,e){[...e].reverse().forEach(i=>{const s=n.getVariant(i);s&&Kb(n,s),n.variantChildren&&n.variantChildren.forEach(o=>{Gv(o,e)})})}function k7(n,e){if(Array.isArray(e))return Gv(n,e);if(typeof e=="string")return Gv(n,[e]);Kb(n,e)}function V7(){const n=new Set,e={subscribe(t){return n.add(t),()=>void n.delete(t)},start(t,i){const s=[];return n.forEach(o=>{s.push(hN(o,t,{transitionOverride:i}))}),Promise.all(s)},set(t){return n.forEach(i=>{k7(i,t)})},stop(){n.forEach(t=>{N7(t)})},mount(){return()=>{e.stop()}}};return e}function M7(){const n=qp(V7);return mb(n.mount,[]),n}const P7=M7,RN=({children:n,onDelete:e,threshold:t=-100})=>{const i=P7(),[s,o]=j.useState(!1),u=j.useRef(0),h=()=>{o(!0),u.current=Date.now()},f=async(d,g)=>{const v=g.offset.x,_=g.velocity.x;setTimeout(()=>o(!1),100),v<t||v<-50&&_<-500?e():i.start({x:0})};return w.jsxs("div",{className:"relative w-full overflow-hidden mb-2 rounded-xl group",children:[w.jsx("div",{className:"absolute inset-0 bg-red-500 flex items-center justify-end pr-6 rounded-xl",children:w.jsx(Sm,{className:"text-white w-6 h-6"})}),w.jsx(Qp.div,{drag:"x",dragConstraints:{left:-500,right:0},dragElastic:.1,onDragStart:h,onDragEnd:f,animate:i,className:"relative bg-white dark:bg-zinc-900 z-10 rounded-xl",style:{touchAction:"pan-y",pointerEvents:s?"none":"auto"},children:n})]})},WA=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n),O7=()=>{const{id:n}=XV(),{envelopes:e,transactions:t,fetchData:i,isLoading:s,deleteEnvelope:o,renameEnvelope:u,updateTransaction:h,deleteTransaction:f,restoreTransaction:d,getEnvelopeBalance:g}=Bn(),{showToast:v}=hb(),_=Vo(),[S,C]=j.useState(!1),[V,M]=j.useState(!1),[z,q]=j.useState(!1),[L,J]=j.useState(null);j.useEffect(()=>{e.length===0&&i()},[]);const ee=e.find(N=>N.id===n);if(!ee)return s?w.jsx("div",{className:"flex justify-center items-center h-screen bg-white dark:bg-black text-gray-900 dark:text-white",children:w.jsx("p",{children:"Loading envelope..."})}):w.jsx("div",{className:"flex justify-center items-center h-screen bg-white dark:bg-black text-gray-900 dark:text-white",children:w.jsx("p",{children:"Envelope not found."})});const re=t.filter(N=>N.envelopeId===ee.id).sort((N,k)=>new Date(k.date).getTime()-new Date(N.date).getTime()),R=()=>_(-1),A=()=>{n&&(o(n),_(-1))},D=N=>{const k={...N,reconciled:!N.reconciled};h(k)};return w.jsxs("div",{className:"min-h-screen bg-white dark:bg-black text-gray-900 dark:text-white p-4",children:[w.jsxs("header",{className:"flex justify-between items-center pt-[calc(env(safe-area-inset-top)+12px)] pb-4 sticky top-0 bg-white dark:bg-black z-10 border-b border-gray-100 dark:border-zinc-800",children:[w.jsx("button",{onClick:()=>{const N=prompt("Rename envelope:",ee.name);N&&N.trim()&&n&&u(n,N)},className:"text-blue-600 dark:text-blue-400 font-medium",children:"Rename"}),w.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:ee.name}),w.jsx("button",{onClick:R,className:"text-blue-600 dark:text-blue-400 font-bold",children:"Done"})]}),w.jsxs("section",{className:"mt-4 bg-white dark:bg-zinc-900 rounded-lg p-4 shadow-lg mb-4 border border-gray-100 dark:border-zinc-800",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsx("span",{className:"text-lg font-headline text-gray-900 dark:text-white",children:"Current Balance"}),w.jsx("span",{className:`text-xl font-bold ${g(ee.id).toNumber()<0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:WA(g(ee.id).toNumber())})]}),w.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-zinc-400",children:[w.jsx("span",{children:"Budget"}),w.jsx("span",{children:WA(ee.budget||0)})]})]}),w.jsxs("section",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-lg mb-4 divide-y divide-gray-100 dark:divide-zinc-800 border border-gray-100 dark:border-zinc-800",children:[w.jsxs("button",{className:"flex items-center w-full p-4 text-left text-green-600 dark:text-green-400 hover:bg-gray-100 dark:hover:bg-zinc-800 transition duration-150",onClick:()=>C(!0),children:[w.jsx(n4,{className:"w-5 h-5 mr-3"}),"Add Money"]}),w.jsxs("button",{className:"flex items-center w-full p-4 text-left text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-zinc-800 transition duration-150",onClick:()=>M(!0),children:[w.jsx(e4,{className:"w-5 h-5 mr-3"}),"Spend Money"]}),w.jsxs("button",{className:"flex items-center w-full p-4 text-left text-blue-600 dark:text-blue-400 hover:bg-gray-100 dark:hover:bg-zinc-800 transition duration-150",onClick:()=>q(!0),children:[w.jsx(WM,{className:"w-5 h-5 mr-3"}),"Transfer Money"]})]}),w.jsxs("section",{className:"mt-6",children:[w.jsx("h2",{className:"text-sm font-semibold uppercase text-gray-500 dark:text-zinc-400 mb-2 px-2",children:"Transaction History"}),w.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-lg divide-y divide-gray-100 dark:divide-zinc-800 border border-gray-100 dark:border-zinc-800",children:re.length===0?w.jsx("p",{className:"p-4 text-center text-gray-500 dark:text-zinc-400",children:"No transactions yet for this envelope."}):w.jsx(Lb,{initial:!1,mode:"popLayout",children:re.map(N=>w.jsx(Qp.div,{layout:!0,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:w.jsx(RN,{onDelete:()=>{if(!N.id)return;const k={...N};f(N.id),v("Transaction deleted","neutral",()=>d(k))},children:w.jsx(YC,{transaction:N,onReconcile:()=>D(N),onEdit:()=>J(N)})})},N.id))})})]}),w.jsx("div",{className:"mt-8",children:w.jsxs("button",{className:"w-full py-3 px-4 rounded-lg bg-white dark:bg-zinc-900 text-red-600 dark:text-red-400 font-semibold hover:bg-gray-100 dark:hover:bg-zinc-800 transition duration-150 flex items-center justify-center border border-gray-100 dark:border-zinc-800",onClick:()=>{confirm(`Are you sure you want to delete "${ee.name}"? This will delete all transactions.`)&&A()},children:[w.jsx(yI,{className:"w-5 h-5 mr-2"}),"Delete Envelope"]})}),(S||V||L)&&w.jsx(QC,{isVisible:S||V||!!L,onClose:()=>{C(!1),M(!1),J(null)},mode:S?"add":V?"spend":"edit",currentEnvelope:ee,initialTransaction:L}),z&&w.jsx(Xj,{isVisible:z,onClose:()=>q(!1),sourceEnvelope:ee})]})},L7=()=>{const n=Vo(),e=j.useRef(null),{envelopes:t,transactions:i,distributionTemplates:s,resetData:o,importData:u,getEnvelopeBalance:h,appSettings:f,updateAppSettings:d,initializeAppSettings:g}=Bn(),[v,_]=j.useState(null),[S,C]=j.useState(()=>localStorage.getItem("lastBackupDate")||"Never"),V=978307200,M=f?.theme??"system";j.useEffect(()=>{f||g().catch(A=>{console.error("Failed to initialize app settings:",A)})},[f,g]);const z=(A,D)=>{_({type:A,text:D}),setTimeout(()=>_(null),3500)},q=j.useMemo(()=>{const A=t.length,D=i.length,N=s.length,k=t.reduce((de,H)=>de+h(H.id).toNumber(),0),U=0,P=i.reduce((de,H)=>{let ae=0;if(typeof H.date=="string"){const fe=Date.parse(H.date);ae=Number.isNaN(fe)?0:fe}else typeof H.date=="number"&&(ae=H.date<2e9?(H.date+V)*1e3:H.date);return Math.max(de,ae)},0),Ee=U||P?new Date(Math.max(U,P)).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Never";return{envelopeCount:A,transactionCount:D,templateCount:N,totalBalance:k,lastUpdated:Ee}},[t,i,s]),L=()=>{try{const A={appVersion:"2.0 (PWA)",backupDate:Date.now(),appSettings:f||{theme:"system"},envelopes:t.map(P=>({...P,currentBalance:h(P.id).toNumber(),lastUpdated:new Date().toISOString()})),transactions:i,distributionTemplates:s},D=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),N=URL.createObjectURL(D),k=document.createElement("a");k.href=N,k.download=`HouseBudget_Backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(N);const U=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});localStorage.setItem("lastBackupDate",U),C(U),z("success","Backup downloaded successfully.")}catch(A){console.error(A),z("error","Failed to create backup file.")}},J=()=>{try{const A=["Date","Description","Amount","Type","Envelope","Reconciled"],D=i.map(Ee=>{const de=t.find(fe=>fe.id===Ee.envelopeId)?.name||"Unknown",H=(Ee.description||"").replace(/"/g,'""');let ae="Invalid Date";if(Ee.date){if(typeof Ee.date=="string")ae=Ee.date.split("T")[0];else if(typeof Ee.date=="number"){const fe=Ee.date<2e9?(Ee.date+V)*1e3:Ee.date;ae=new Date(fe).toISOString().split("T")[0]}}return[ae,`"${H}"`,parseFloat(Ee.amount).toFixed(2),Ee.type,`"${de}"`,Ee.reconciled?"Yes":"No"].join(",")}),N=[A.join(","),...D].join(`
`),k=new Blob([N],{type:"text/csv;charset=utf-8;"}),U=URL.createObjectURL(k),P=document.createElement("a");P.href=U,P.download=`HouseBudget_Transactions_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(U),z("success","CSV export ready to open in Excel/Numbers.")}catch(A){console.error(A),z("error","Failed to export CSV.")}},ee=()=>{e.current?.click()},re=A=>{const D=A.target.files?.[0];if(!D)return;const N=new FileReader;N.onload=async k=>{try{const U=JSON.parse(k.target?.result),P=u(U);if(!P.success){z("error",P.message);return}if(U.appSettings?.theme)try{await d({theme:U.appSettings.theme})}catch(Ee){console.error("Failed to update imported settings:",Ee)}else if(U.appSettings?.isDarkMode!==void 0)try{const Ee=U.appSettings.isDarkMode?"dark":"light";await d({theme:Ee})}catch(Ee){console.error("Failed to update imported settings:",Ee)}z("success",`Loaded ${U.envelopes?.length??0} envelopes, ${U.transactions?.length??0} transactions, and ${U.distributionTemplates?.length??0} templates.`)}catch(U){console.error(U),z("error","Invalid backup file. Please verify the JSON.")}},N.readAsText(D),A.target.value=""},R=async()=>{if(window.confirm("Are you sure? This will permanently delete all envelopes, transactions, templates, and settings from the cloud. This action cannot be undone."))try{await o(),z("success","All data has been permanently deleted."),n("/")}catch(A){console.error("Reset failed:",A),z("error","Failed to delete all data. Some data may remain.")}};return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black transition-colors duration-200",children:[w.jsx("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 sticky top-0 z-20 flex items-center justify-between shadow-sm",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("button",{onClick:()=>n(-1),className:"mr-3 text-blue-600 dark:text-blue-400 font-medium",children:"Done"}),w.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Settings"})]})}),w.jsxs("div",{className:"p-4 space-y-6 max-w-2xl mx-auto",children:[v&&w.jsxs("div",{className:`px-4 py-3 rounded-2xl text-sm font-medium flex items-center gap-2 ${v.type==="success"?"bg-green-50 text-green-700 dark:bg-emerald-900/30 dark:text-emerald-200":"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-200"}`,children:[v.type==="success"?w.jsx(r4,{size:18}):w.jsx(Sm,{size:18}),v.text]}),w.jsx("section",{children:w.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm p-5 space-y-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(wm,{className:"text-blue-500",size:22}),w.jsxs("div",{children:[w.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Backup & Restore"}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-zinc-400",children:"Create backups of all your data including envelopes, transactions, templates, and settings."})]})]}),w.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 pt-2",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-zinc-500",children:"Envelopes"}),w.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:q.envelopeCount})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-zinc-500",children:"Transactions"}),w.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:q.transactionCount})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-zinc-500",children:"Templates"}),w.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:q.templateCount})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-zinc-500",children:"Data Last Modified"}),w.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:q.lastUpdated})]})]})]})}),w.jsxs("section",{children:[w.jsx("h2",{className:"text-xs font-bold text-gray-500 dark:text-zinc-500 uppercase mb-2 px-1",children:"Appearance"}),w.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[M==="light"&&w.jsx("span",{className:"text-orange-500 text-lg",children:""}),M==="dark"&&w.jsx("span",{className:"text-purple-500 text-lg",children:""}),M==="system"&&w.jsx("span",{className:"text-gray-500 text-lg",children:""}),w.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Theme"})]}),w.jsx("span",{className:"text-sm text-gray-500 dark:text-zinc-400 capitalize",children:M})]}),w.jsx("div",{className:"text-xs text-gray-500 dark:text-zinc-500 mb-3",children:"Choose your preferred appearance."}),w.jsx("div",{className:"flex gap-2",children:[{label:"Light",value:"light"},{label:"Dark",value:"dark"},{label:"System",value:"system"}].map(A=>w.jsx("button",{onClick:async()=>{try{await d({theme:A.value})}catch(D){console.error("Failed to update theme setting:",D)}},className:`flex-1 py-2 rounded-lg text-sm font-medium border transition-colors ${M===A.value?"bg-blue-50 dark:bg-blue-900/30 border-blue-500 text-blue-700 dark:text-blue-200":"border-gray-200 dark:border-zinc-700 text-gray-600 dark:text-zinc-400 hover:border-gray-300 dark:hover:border-zinc-600"}`,children:A.label},A.value))})]})]}),w.jsxs("section",{children:[w.jsx("h2",{className:"text-xs font-bold text-gray-500 dark:text-zinc-500 uppercase mb-2 px-1",children:"Actions"}),w.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl overflow-hidden border border-gray-100 dark:border-zinc-800 shadow-sm divide-y divide-gray-100 dark:divide-zinc-800",children:[w.jsxs("button",{onClick:L,className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(wm,{className:"text-blue-500",size:20}),w.jsxs("div",{className:"flex flex-col items-start",children:[w.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Create Backup"}),w.jsxs("span",{className:"text-xs text-gray-500 dark:text-zinc-400",children:["Last backup: ",S]})]})]}),w.jsx(Kc,{className:"text-gray-400",size:18})]}),w.jsxs("button",{onClick:ee,className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(k4,{className:"text-blue-500",size:20}),w.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Restore from Backup"})]}),w.jsx(Kc,{className:"text-gray-400",size:18})]}),w.jsxs("button",{onClick:J,className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(h4,{className:"text-blue-500",size:20}),w.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Export Transactions (CSV)"})]}),w.jsx(Kc,{className:"text-gray-400",size:18})]}),w.jsx("input",{type:"file",ref:e,onChange:re,accept:".json",className:"hidden"})]})]}),w.jsxs("section",{children:[w.jsx("h2",{className:"text-xs font-bold text-gray-500 dark:text-zinc-500 uppercase mb-2 px-1",children:"Tips"}),w.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm p-4 text-sm text-gray-600 dark:text-zinc-300 space-y-2",children:[w.jsx("p",{children:"Create regular backups before major changes."}),w.jsx("p",{children:"Store backups in iCloud, Files, or another safe location."}),w.jsx("p",{children:"Backups are plain JSON files and can be inspected in any text editor."}),w.jsx("p",{children:"Restoring replaces all current envelopes, transactions, templates, and settings."})]})]}),w.jsxs("section",{children:[w.jsx("h2",{className:"text-xs font-bold text-gray-500 dark:text-zinc-500 uppercase mb-2 px-1",children:"Danger Zone"}),w.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl overflow-hidden border border-gray-100 dark:border-zinc-800 shadow-sm",children:w.jsxs("button",{onClick:R,className:"w-full p-4 flex items-center justify-between hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors group",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Sm,{className:"text-red-500 group-hover:text-red-600",size:20}),w.jsx("span",{className:"text-red-500 group-hover:text-red-600 font-medium",children:"Reset All Data"})]}),w.jsx(Kc,{className:"text-gray-400",size:18})]})}),w.jsx("div",{className:"px-1 pt-2 text-xs text-gray-500 dark:text-zinc-500",children:"This clears every envelope, transaction, and template. Use with caution."})]}),w.jsx("div",{className:"text-center pt-4 pb-12 text-xs text-gray-400 dark:text-zinc-500 font-medium",children:"House Budget PWA  App Version 2.0.1"})]})]})},j7=()=>{const n=Vo(),{createEnvelope:e}=Bn(),[t,i]=j.useState(""),[s,o]=j.useState(""),u=h=>{if(h.preventDefault(),!t.trim())return;const f=parseFloat(s),d=isNaN(f)?0:f;e({name:t,budget:d,category:"General"}),n("/")};return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:[w.jsxs("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 sticky top-0 z-10 flex items-center shadow-sm",children:[w.jsx("button",{onClick:()=>n("/"),className:"mr-3 text-gray-600 dark:text-zinc-400 hover:text-gray-900 dark:hover:text-white",children:w.jsx(gI,{size:24})}),w.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"New Envelope"})]}),w.jsx("div",{className:"p-4 max-w-md mx-auto",children:w.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800 overflow-hidden",children:[w.jsx("div",{className:"p-6 bg-blue-50 dark:bg-zinc-800 border-b border-blue-100 dark:border-zinc-700 flex justify-center py-8",children:w.jsx("div",{className:"w-20 h-20 bg-blue-100 dark:bg-zinc-700 text-blue-600 dark:text-blue-400 rounded-full flex items-center justify-center",children:w.jsx(d4,{size:40})})}),w.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-zinc-300",children:"Envelope Name"}),w.jsx("input",{type:"text",id:"name",value:t,onChange:h=>i(h.target.value),placeholder:"e.g. Groceries, Rent, Fun Money",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-zinc-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",autoFocus:!0,required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{htmlFor:"balance",className:"block text-sm font-medium text-gray-700 dark:text-zinc-300",children:"Initial Deposit (Optional)"}),w.jsxs("div",{className:"relative",children:[w.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-zinc-500 font-semibold",children:"$"}),w.jsx("input",{type:"number",id:"balance",value:s,onChange:h=>o(h.target.value),onKeyDown:h=>{(h.key==="e"||h.key==="E"||h.key==="+"||h.key==="-")&&h.preventDefault()},placeholder:"0.00",step:"0.01",className:"w-full pl-8 pr-4 py-3 rounded-xl border border-gray-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-zinc-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-500",children:'This creates an "Initial Deposit" income transaction. You can also add money later via the "Distribute Funds" screen.'})]}),w.jsxs("div",{className:"pt-4 flex gap-3",children:[w.jsx("button",{type:"button",onClick:()=>n("/"),className:"flex-1 py-3 px-4 rounded-xl border border-gray-200 dark:border-zinc-700 text-gray-600 dark:text-zinc-400 font-semibold bg-white dark:bg-zinc-800 hover:bg-gray-50 dark:hover:bg-zinc-700 transition-colors",children:"Cancel"}),w.jsx("button",{type:"submit",disabled:!t.trim(),className:`flex-1 py-3 px-4 rounded-xl font-semibold shadow-sm text-white transition-colors ${t.trim()?"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600":"bg-gray-300 dark:bg-zinc-600 cursor-not-allowed"}`,children:"Create Envelope"})]})]})]})})]})},z7=()=>{const n=Vo(),{envelopes:e}=Bn(),t=[...e].sort((i,s)=>i.name.localeCompare(s.name));return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:[w.jsxs("header",{className:"bg-white dark:bg-black border-b border-gray-200 dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 sticky top-0 z-10 flex items-center justify-between",children:[w.jsx("button",{onClick:()=>n(-1),className:"text-blue-600 dark:text-blue-400 font-medium",children:"Cancel"}),w.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"New Transaction"}),w.jsx("div",{className:"w-12"})," "]}),w.jsx("div",{className:"p-4 max-w-md mx-auto",children:w.jsx("section",{className:"mb-6",children:w.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-gray-200 dark:border-zinc-800 overflow-hidden",children:[w.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-zinc-800 border-b border-gray-200 dark:border-zinc-700",children:w.jsx("h2",{className:"text-xs font-semibold text-gray-500 dark:text-zinc-400 uppercase tracking-wider",children:"SELECT ENVELOPE"})}),t.length===0?w.jsx("div",{className:"px-4 py-8 text-center text-gray-500 dark:text-zinc-400",children:w.jsx("p",{children:"No envelopes available"})}):w.jsx("div",{className:"divide-y divide-gray-200 dark:divide-zinc-700",children:t.map(i=>w.jsxs("button",{onClick:()=>n(`/envelope/${i.id}`),className:"w-full px-4 py-4 text-left flex items-center justify-between hover:bg-gray-50 dark:hover:bg-zinc-800 active:bg-gray-100 dark:active:bg-zinc-700 transition-colors",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:i.name}),w.jsx("span",{className:"text-sm text-gray-500 dark:text-zinc-400",children:"Balance calculation not available here"})]}),w.jsx(Kc,{size:20,className:"text-gray-400 dark:text-zinc-500"})]},i.id))})]})})})]})},U7=()=>{const n=Vo(),{transactions:e,envelopes:t,updateTransaction:i,deleteTransaction:s,restoreTransaction:o}=Bn(),{showToast:u}=hb(),[h,f]=j.useState(!1),[d,g]=j.useState(""),[v,_]=j.useState("all"),[S,C]=j.useState("All"),[V,M]=j.useState(!1),[z,q]=j.useState(()=>{const N=new Date;return N.setMonth(N.getMonth()-1),N.toISOString().split("T")[0]}),[L,J]=j.useState(()=>new Date().toISOString().split("T")[0]),[ee,re]=j.useState(null),R=j.useMemo(()=>e.map(k=>{if(!k)return null;let U=k.date;if(typeof k.date=="number"){const Ee=(k.date+978307200)*1e3;U=new Date(Ee).toISOString()}else if(!k.date||typeof k.date!="string")return null;return{...k,date:U}}).filter(Boolean).filter(k=>{if(d){const P=d.toLowerCase(),Ee=t.find(ae=>ae.id===k.envelopeId)?.name.toLowerCase()||"",de=parseFloat(k.amount).toFixed(2);if(!(k.description.toLowerCase().includes(P)||Ee.includes(P)||de.includes(P)))return!1}if(v!=="all"&&k.envelopeId!==v||S!=="All"&&k.type!==S.toLowerCase()||!k.date||typeof k.date!="string")return!1;const U=k.date.split("T")[0];return!(U<z||U>L||V&&!k.reconciled)}).sort((k,U)=>new Date(U.date).getTime()-new Date(k.date).getTime()),[e,t,d,v,S,z,L,V]),A=ee?t.find(N=>N.id===ee.envelopeId):null,D=N=>{const k={...N,reconciled:!N.reconciled};i(k)};return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black pb-20 transition-colors duration-200",children:[w.jsxs("header",{className:"bg-white dark:bg-black border-b dark:border-zinc-800 px-4 pt-[calc(env(safe-area-inset-top)+12px)] pb-3 sticky top-0 z-20 flex items-center justify-between shadow-sm",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("button",{onClick:()=>n(-1),className:"mr-3 text-gray-600 hover:text-gray-900 dark:text-zinc-400 dark:hover:text-white transition-colors",children:w.jsx(gI,{size:24})}),w.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"All Transactions"})]}),w.jsx("button",{onClick:()=>f(!h),className:`p-2 rounded-full transition-colors ${h?"bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-400":"text-gray-400 dark:text-zinc-600 hover:bg-gray-100 dark:hover:bg-zinc-800"}`,children:w.jsx(p4,{size:20,className:h?"fill-current":""})})]}),w.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out bg-white dark:bg-zinc-900 border-b dark:border-zinc-800 ${h?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:w.jsxs("div",{className:"p-4 space-y-4",children:[w.jsxs("div",{className:"relative",children:[w.jsx(S4,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),w.jsx("input",{type:"text",placeholder:"Search transactions...",value:d,onChange:N=>g(N.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-zinc-800 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none dark:text-white"}),d&&w.jsx("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:w.jsx(Zv,{size:16})})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Envelope"}),w.jsxs("select",{value:v,onChange:N=>_(N.target.value),className:"w-full p-2 rounded-lg bg-gray-100 dark:bg-zinc-800 border-r-8 border-transparent text-sm dark:text-white outline-none",children:[w.jsx("option",{value:"all",children:"All Envelopes"}),t.sort((N,k)=>N.name.localeCompare(k.name)).map(N=>w.jsx("option",{value:N.id,children:N.name},N.id))]})]}),w.jsx("div",{className:"bg-gray-100 dark:bg-zinc-800 p-1 rounded-lg flex",children:["All","Income","Expense"].map(N=>w.jsx("button",{onClick:()=>C(N),className:`flex-1 py-1.5 text-xs font-semibold rounded-md transition-all ${S===N?"bg-white dark:bg-zinc-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-zinc-500 hover:text-gray-700"}`,children:N},N))}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"From"}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:"date",value:z,onChange:N=>q(N.target.value),className:"w-full p-2 bg-gray-100 dark:bg-zinc-800 rounded-lg text-sm dark:text-white outline-none [color-scheme:light] dark:[color-scheme:dark]"})})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"To"}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:"date",value:L,onChange:N=>J(N.target.value),className:"w-full p-2 bg-gray-100 dark:bg-zinc-800 rounded-lg text-sm dark:text-white outline-none [color-scheme:light] dark:[color-scheme:dark]"})})]})]}),w.jsxs("div",{className:"flex items-center justify-between pt-2",children:[w.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-zinc-300",children:"Show only reconciled"}),w.jsx("button",{onClick:()=>M(!V),className:`w-11 h-6 rounded-full transition-colors relative ${V?"bg-green-500":"bg-gray-300 dark:bg-zinc-700"}`,children:w.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${V?"translate-x-5":"translate-x-0"}`})})]})]})}),w.jsx("div",{className:"p-4 max-w-2xl mx-auto",children:w.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800 overflow-hidden",children:R.length===0?w.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-zinc-500",children:"No transactions match your filters."}):w.jsx(Lb,{initial:!1,mode:"popLayout",children:R.map(N=>{const k=t.find(U=>U.id===N.envelopeId);return w.jsx(Qp.div,{layout:!0,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:w.jsx(RN,{onDelete:()=>{if(!N.id)return;const U={...N};s(N.id),u("Transaction deleted","neutral",()=>o(U))},children:w.jsx(YC,{transaction:N,envelopeName:k?.name||"Unknown Envelope",onReconcile:()=>D(N),onEdit:()=>{k?re(N):alert("Cannot edit: Envelope deleted.")}})})},N.id)})})})}),ee&&A&&w.jsx(QC,{isVisible:!!ee,onClose:()=>re(null),mode:"edit",currentEnvelope:A,initialTransaction:ee})]})},B7=()=>{const{message:n,type:e,isVisible:t,undoAction:i,hideToast:s}=hb(),o=()=>{switch(e){case"success":return"bg-green-500 dark:bg-green-600 text-white";case"error":return"bg-red-500 dark:bg-red-600 text-white";case"neutral":default:return"bg-gray-800 dark:bg-gray-900 text-white border border-gray-200 dark:border-gray-700"}};return w.jsx(Lb,{children:t&&w.jsx(Qp.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-4 right-4 z-50 mb-[calc(env(safe-area-inset-bottom)+20px)]",children:w.jsxs("div",{className:`rounded-xl shadow-lg p-4 flex items-center justify-between ${o()}`,children:[w.jsx("div",{className:"flex items-center flex-1 min-w-0",children:w.jsx("span",{className:"text-sm font-medium truncate pr-2",children:n})}),w.jsxs("div",{className:"flex items-center gap-2 ml-3 flex-shrink-0",children:[i&&w.jsxs("button",{onClick:()=>{i(),s()},className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-bold transition-colors",children:[w.jsx(D4,{size:14,className:"inline mr-1"}),"Undo"]}),w.jsx("button",{onClick:s,className:"p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded-full transition-colors",children:w.jsx(Zv,{size:16})})]})]})})})};function F7(){const[n,e]=j.useState(!0),{appSettings:t}=Bn();return j.useEffect(()=>{const i=setTimeout(()=>{e(!1)},2e3);return()=>clearTimeout(i)},[]),j.useEffect(()=>{const i=document.documentElement,s=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>{const u=t?.theme??"system",h=s.matches;u==="dark"||u==="system"&&h?i.classList.add("dark"):i.classList.remove("dark")};if(o(),t?.theme==="system")return s.addEventListener("change",o),()=>s.removeEventListener("change",o)},[t]),n?w.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-blue-600 text-white dark:bg-black",children:w.jsx("div",{className:"text-3xl font-bold animate-pulse",children:"House Budget"})}):w.jsxs(w.Fragment,{children:[w.jsx(MM,{children:w.jsxs(hM,{children:[w.jsx(eo,{path:"/",element:w.jsx(Yj,{})}),w.jsx(eo,{path:"/envelope/:id",element:w.jsx(O7,{})}),w.jsx(eo,{path:"/add-envelope",element:w.jsx(j7,{})}),w.jsx(eo,{path:"/add-transaction",element:w.jsx(z7,{})}),w.jsx(eo,{path:"/transactions",element:w.jsx(U7,{})}),w.jsx(eo,{path:"/settings",element:w.jsx(L7,{})})]})}),w.jsx(B7,{})]})}_V({onNeedRefresh(){},onOfflineReady(){console.log("App is ready for offline work")}});pV.createRoot(document.getElementById("root")).render(w.jsx(j.StrictMode,{children:w.jsx(F7,{})}));
